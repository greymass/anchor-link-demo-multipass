{"version":3,"sources":["assets/fio.svg","assets/jungle.png","assets/eos.png","assets/proton.png","assets/telos.png","assets/wax.png","../../src/link-options.ts","../../src/errors.ts","../../src/link-types.ts","../../src/utils.ts","../../src/link-session.ts","../../src/link-callback.ts","../../src/link.ts","../../src/qrcode/math.ts","../../src/qrcode/ErrorCorrectLevel.ts","../../src/qrcode/mode.ts","../../src/qrcode/8BitByte.ts","../../src/qrcode/BitBuffer.ts","../../src/qrcode/Polynomial.ts","../../src/qrcode/RSBlock.ts","../../src/qrcode/util.ts","../../src/qrcode/QRCode.ts","../../src/qrcode/index.ts","../../src/fuel.ts","../../src/index.ts","../../src/styles.ts","Accounts.js","Blockchains.js","Demo.js","Demo2.js","SigningError.js","Response.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","uuid","mode","math","ECL","Polynomial","BitByte","RSBlock","BitBuffer","util","generateQr","Debug","this","props","session","chain","sessions","Table","Header","Row","HeaderCell","collapsing","length","Body","map","s","isCurrent","auth","actor","equals","permission","chainId","find","blockchains","String","key","Object","values","join","Cell","Button","color","content","disabled","onClick","setSession","textAlign","name","icon","removeSession","colSpan","Footer","fullWidth","addAccount","primary","clearSessions","Component","logoMap","fioLogo","eosLogo","jungleLogo","protonLogo","telosLogo","waxLogo","options","text","value","image","avatar","src","Demo","Container","fluid","Segment","secondary","style","height","basic","padded","size","Subheader","attached","href","Form","Field","Input","centered","signTransaction","marginTop","window","location","Divider","List","Item","SigningError","error","message","Transaction","testResponse","response","desc","test","r","signatures","data","JSON","stringify","transaction","serializedTransaction","testCase","res","val","deserialize","serialized","tests","Fragment","overflowX","divided","relaxed","Icon","verticalAlign","Content","Description","margin","background","dividing","borderBottom","language","showLineNumbers","theme","monokai","wrapLines","displayDataTypes","displayObjectSize","enableClipboard","iconStyle","payload","overflow","signer","App","refreshAccount","a","client","link","state","v1","get_account","account","setState","verifyProof","identity","chains","proof","IdentityProof","from","id","ChainId","Error","APIError","code","getPermission","required_auth","valid","verify","head_block_time","proofKey","recover","proofValid","login","listSessions","undefined","toSimpleObject","v","parse","establishLink","AnchorLink","b","nodeUrl","rpcEndpoints","protocol","host","port","transport","AnchorLinkBrowserTransport","restoreSession","action","authorization","voter","producers","proxy","transact","actions","broadcast","console","log","setChainId","e","searchParams","URLSearchParams","search","set","history","pushState","toString","ls","filter","params","get","demoMode","demo2Mode","prevProps","prevState","loggedIn","Demo2","paddingTop","block","Accounts","Message","header","success","definition","Label","signature","expiration","cpu_limit","available","max","Response","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.07d5fb9f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fio.9ae02e71.svg\";","module.exports = __webpack_public_path__ + \"static/media/jungle.3f2409df.png\";","module.exports = __webpack_public_path__ + \"static/media/eos.b3392955.png\";","module.exports = __webpack_public_path__ + \"static/media/proton.c090f672.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wax.f02a31b4.png\";",null,"/**\n * Anchor Link v3.2.3\n * https://github.com/greymass/anchor-link\n *\n * @license\n * Copyright (c) 2020 Greymass Inc. All Rights Reserved.\n * \n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n * \n *  1. Redistribution of source code must retain the above copyright notice, this\n *     list of conditions and the following disclaimer.\n * \n *  2. Redistribution in binary form must reproduce the above copyright notice,\n *     this list of conditions and the following disclaimer in the documentation\n *     and/or other materials provided with the distribution.\n * \n *  3. Neither the name of the copyright holder nor the names of its contributors\n *     may be used to endorse or promote products derived from this software without\n *     specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n * \n * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE\n * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.\n */\nimport zlib from 'pako';\nimport { Struct, UInt64, Checksum512, Serializer, Bytes, Checksum256, PermissionLevel, PublicKey, Name, PrivateKey, APIClient, Signature, SignedTransaction } from '@greymass/eosio';\nexport * from '@greymass/eosio';\nimport { ChainId, SigningRequest, ResolvedSigningRequest, PlaceholderName, PlaceholderPermission } from 'eosio-signing-request';\nexport * from 'eosio-signing-request';\nexport { ChainId, ChainName, IdentityProof } from 'eosio-signing-request';\nimport { __decorate } from 'tslib';\nimport makeFetch from 'fetch-ponyfill';\nimport { AES_CBC } from 'asmcrypto.js';\nimport { v4 } from 'uuid';\nimport WebSocket from 'isomorphic-ws';\n\n/**\n * Error that is thrown if a [[LinkTransport]] cancels a request.\n * @internal\n */\nclass CancelError extends Error {\n    constructor(reason) {\n        super(`User canceled request ${reason ? '(' + reason + ')' : ''}`);\n        this.code = 'E_CANCEL';\n    }\n}\n/**\n * Error that is thrown if an identity request fails to verify.\n * @internal\n */\nclass IdentityError extends Error {\n    constructor(reason) {\n        super(`Unable to verify identity ${reason ? '(' + reason + ')' : ''}`);\n        this.code = 'E_IDENTITY';\n    }\n}\n/**\n * Error originating from a [[LinkSession]].\n * @internal\n */\nclass SessionError extends Error {\n    constructor(reason, code) {\n        super(reason);\n        this.code = code;\n    }\n}\n\n/** @internal */\nvar LinkOptions;\n(function (LinkOptions) {\n    /** @internal */\n    LinkOptions.defaults = {\n        service: 'https://cb.anchor.link',\n        verifyProofs: false,\n        encodeChainIds: true,\n    };\n})(LinkOptions || (LinkOptions = {}));\n\nlet SealedMessage = class SealedMessage extends Struct {\n};\n__decorate([\n    Struct.field('public_key')\n], SealedMessage.prototype, \"from\", void 0);\n__decorate([\n    Struct.field('uint64')\n], SealedMessage.prototype, \"nonce\", void 0);\n__decorate([\n    Struct.field('bytes')\n], SealedMessage.prototype, \"ciphertext\", void 0);\n__decorate([\n    Struct.field('uint32')\n], SealedMessage.prototype, \"checksum\", void 0);\nSealedMessage = __decorate([\n    Struct.type('sealed_message')\n], SealedMessage);\nlet LinkCreate = class LinkCreate extends Struct {\n};\n__decorate([\n    Struct.field('name')\n], LinkCreate.prototype, \"session_name\", void 0);\n__decorate([\n    Struct.field('public_key')\n], LinkCreate.prototype, \"request_key\", void 0);\n__decorate([\n    Struct.field('string', { extension: true })\n], LinkCreate.prototype, \"user_agent\", void 0);\nLinkCreate = __decorate([\n    Struct.type('link_create')\n], LinkCreate);\nlet LinkInfo = class LinkInfo extends Struct {\n};\n__decorate([\n    Struct.field('time_point_sec')\n], LinkInfo.prototype, \"expiration\", void 0);\nLinkInfo = __decorate([\n    Struct.type('link_info')\n], LinkInfo);\n\n/** @internal */\nconst fetch = makeFetch().fetch;\n/**\n * Encrypt a message using AES and shared secret derived from given keys.\n * @internal\n */\nfunction sealMessage(message, privateKey, publicKey, nonce) {\n    const secret = privateKey.sharedSecret(publicKey);\n    if (!nonce) {\n        nonce = UInt64.random();\n    }\n    const key = Checksum512.hash(Serializer.encode({ object: nonce }).appending(secret.array));\n    const cbc = new AES_CBC(key.array.slice(0, 32), key.array.slice(32, 48));\n    const ciphertext = Bytes.from(cbc.encrypt(Bytes.from(message, 'utf8').array));\n    const checksumView = new DataView(Checksum256.hash(key.array).array.buffer);\n    const checksum = checksumView.getUint32(0, true);\n    return SealedMessage.from({\n        from: privateKey.toPublic(),\n        nonce,\n        ciphertext,\n        checksum,\n    });\n}\n\n/**\n * Type describing a link session that can create a eosjs compatible\n * signature provider and transact for a specific auth.\n */\nclass LinkSession {\n    /** @internal */\n    constructor() { } // eslint-disable-line @typescript-eslint/no-empty-function\n    /**\n     * Convenience, remove this session from associated [[Link]] storage if set.\n     * Equivalent to:\n     * ```ts\n     * session.link.removeSession(session.identifier, session.auth, session.chainId)\n     * ```\n     */\n    async remove() {\n        if (this.link.storage) {\n            await this.link.removeSession(this.identifier, this.auth, this.chainId);\n        }\n    }\n    /** API client for the chain this session is valid on. */\n    get client() {\n        return this.link.getChain(this.chainId).client;\n    }\n    /** Restore a previously serialized session. */\n    static restore(link, data) {\n        switch (data.type) {\n            case 'channel':\n                return new LinkChannelSession(link, data.data, data.metadata);\n            case 'fallback':\n                return new LinkFallbackSession(link, data.data, data.metadata);\n            default:\n                throw new Error('Unable to restore, session data invalid');\n        }\n    }\n}\n/**\n * Link session that pushes requests over a channel.\n * @internal\n */\nclass LinkChannelSession extends LinkSession {\n    constructor(link, data, metadata) {\n        super();\n        this.type = 'channel';\n        this.timeout = 2 * 60 * 1000; // ms\n        this.link = link;\n        this.chainId = ChainId.from(data.chainId);\n        this.auth = PermissionLevel.from(data.auth);\n        this.publicKey = PublicKey.from(data.publicKey);\n        this.channel = data.channel;\n        this.identifier = Name.from(data.identifier);\n        const privateKey = PrivateKey.from(data.requestKey);\n        const publicKey = PublicKey.from(data.channel.key);\n        this.encrypt = (request) => {\n            return sealMessage(request.encode(true, false), privateKey, publicKey);\n        };\n        this.metadata = {\n            ...(metadata || {}),\n            timeout: this.timeout,\n            name: this.channel.name,\n        };\n        this.serialize = () => ({\n            type: 'channel',\n            data,\n            metadata: this.metadata,\n        });\n    }\n    onSuccess(request, result) {\n        if (this.link.transport.onSuccess) {\n            this.link.transport.onSuccess(request, result);\n        }\n    }\n    onFailure(request, error) {\n        if (this.link.transport.onFailure) {\n            this.link.transport.onFailure(request, error);\n        }\n    }\n    onRequest(request, cancel) {\n        const info = LinkInfo.from({\n            expiration: new Date(Date.now() + this.timeout).toISOString().slice(0, -1),\n        });\n        if (this.link.transport.onSessionRequest) {\n            this.link.transport.onSessionRequest(this, request, cancel);\n        }\n        setTimeout(() => {\n            cancel(new SessionError('Wallet did not respond in time', 'E_TIMEOUT'));\n        }, this.timeout + 500);\n        request.setInfoKey('link', info);\n        let payloadSent = false;\n        const payload = Serializer.encode({ object: this.encrypt(request) });\n        if (this.link.transport.sendSessionPayload) {\n            try {\n                payloadSent = this.link.transport.sendSessionPayload(payload, this);\n            }\n            catch (error) {\n                // eslint-disable-next-line no-console\n                console.warn('Unexpected error when transport tried to send session payload', error);\n            }\n        }\n        if (payloadSent) {\n            return;\n        }\n        fetch(this.channel.url, {\n            method: 'POST',\n            headers: {\n                'X-Buoy-Wait': (this.timeout / 1000).toFixed(0),\n            },\n            body: payload.array,\n        })\n            .then((response) => {\n            if (response.status !== 200) {\n                cancel(new SessionError('Unable to push message', 'E_DELIVERY'));\n            }\n        })\n            .catch((error) => {\n            cancel(new SessionError(`Unable to reach link service (${error.message || String(error)})`, 'E_DELIVERY'));\n        });\n    }\n    prepare(request) {\n        if (this.link.transport.prepare) {\n            return this.link.transport.prepare(request, this);\n        }\n        return Promise.resolve(request);\n    }\n    showLoading() {\n        if (this.link.transport.showLoading) {\n            return this.link.transport.showLoading();\n        }\n    }\n    makeSignatureProvider() {\n        return this.link.makeSignatureProvider([this.publicKey.toString()], this.chainId, this);\n    }\n    transact(args, options) {\n        return this.link.transact(args, { ...options, chain: this.chainId }, this);\n    }\n}\n/**\n * Link session that sends every request over the transport.\n * @internal\n */\nclass LinkFallbackSession extends LinkSession {\n    constructor(link, data, metadata) {\n        super();\n        this.type = 'fallback';\n        this.link = link;\n        this.auth = PermissionLevel.from(data.auth);\n        this.publicKey = PublicKey.from(data.publicKey);\n        this.chainId = ChainId.from(data.chainId);\n        this.metadata = metadata || {};\n        this.identifier = Name.from(data.identifier);\n        this.serialize = () => ({\n            type: this.type,\n            data,\n            metadata: this.metadata,\n        });\n    }\n    onSuccess(request, result) {\n        if (this.link.transport.onSuccess) {\n            this.link.transport.onSuccess(request, result);\n        }\n    }\n    onFailure(request, error) {\n        if (this.link.transport.onFailure) {\n            this.link.transport.onFailure(request, error);\n        }\n    }\n    onRequest(request, cancel) {\n        if (this.link.transport.onSessionRequest) {\n            this.link.transport.onSessionRequest(this, request, cancel);\n        }\n        else {\n            this.link.transport.onRequest(request, cancel);\n        }\n    }\n    prepare(request) {\n        if (this.link.transport.prepare) {\n            return this.link.transport.prepare(request, this);\n        }\n        return Promise.resolve(request);\n    }\n    showLoading() {\n        if (this.link.transport.showLoading) {\n            return this.link.transport.showLoading();\n        }\n    }\n    makeSignatureProvider() {\n        return this.link.makeSignatureProvider([this.publicKey.toString()], this.chainId, this);\n    }\n    transact(args, options) {\n        return this.link.transact(args, { ...options, chain: this.chainId }, this);\n    }\n}\n\n/** @internal */\nclass BuoyCallbackService {\n    constructor(address) {\n        this.address = address.trim().replace(/\\/$/, '');\n    }\n    create() {\n        const url = `${this.address}/${v4()}`;\n        return new BuoyCallback(url);\n    }\n}\n/** @internal */\nclass BuoyCallback {\n    constructor(url) {\n        this.url = url;\n        this.ctx = {};\n    }\n    wait() {\n        if (this.url.includes('hyperbuoy')) {\n            return pollForCallback(this.url, this.ctx);\n        }\n        else {\n            return waitForCallback(this.url, this.ctx);\n        }\n    }\n    cancel() {\n        if (this.ctx.cancel) {\n            this.ctx.cancel();\n        }\n    }\n}\n/**\n * Connect to a WebSocket channel and wait for a message.\n * @internal\n */\nfunction waitForCallback(url, ctx) {\n    return new Promise((resolve, reject) => {\n        let active = true;\n        let retries = 0;\n        const socketUrl = url.replace(/^http/, 'ws');\n        const handleResponse = (response) => {\n            try {\n                resolve(JSON.parse(response));\n            }\n            catch (error) {\n                error.message = 'Unable to parse callback JSON: ' + error.message;\n                reject(error);\n            }\n        };\n        const connect = () => {\n            const socket = new WebSocket(socketUrl);\n            ctx.cancel = () => {\n                active = false;\n                if (socket.readyState === WebSocket.OPEN ||\n                    socket.readyState === WebSocket.CONNECTING) {\n                    socket.close();\n                }\n            };\n            socket.onmessage = (event) => {\n                active = false;\n                if (socket.readyState === WebSocket.OPEN) {\n                    socket.close();\n                }\n                if (typeof Blob !== 'undefined' && event.data instanceof Blob) {\n                    const reader = new FileReader();\n                    reader.onload = () => {\n                        handleResponse(reader.result);\n                    };\n                    reader.onerror = (error) => {\n                        reject(error);\n                    };\n                    reader.readAsText(event.data);\n                }\n                else {\n                    if (typeof event.data === 'string') {\n                        handleResponse(event.data);\n                    }\n                    else {\n                        handleResponse(event.data.toString());\n                    }\n                }\n            };\n            socket.onopen = () => {\n                retries = 0;\n            };\n            socket.onclose = () => {\n                if (active) {\n                    setTimeout(connect, backoff(retries++));\n                }\n            };\n        };\n        connect();\n    });\n}\n/**\n * Long-poll for message.\n * @internal\n */\nasync function pollForCallback(url, ctx) {\n    let active = true;\n    ctx.cancel = () => {\n        active = false;\n    };\n    while (active) {\n        try {\n            const res = await fetch(url);\n            if (res.status === 408) {\n                continue;\n            }\n            else if (res.status === 200) {\n                return await res.json();\n            }\n            else {\n                throw new Error(`HTTP ${res.status}: ${res.statusText}`);\n            }\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.warn('Unexpected hyperbuoy error', error);\n        }\n        await sleep(1000);\n    }\n    return null;\n}\n/**\n * Exponential backoff function that caps off at 10s after 10 tries.\n * https://i.imgur.com/IrUDcJp.png\n * @internal\n */\nfunction backoff(tries) {\n    return Math.min(Math.pow(tries * 10, 2), 10 * 1000);\n}\n/**\n * Return promise that resolves after given milliseconds.\n * @internal\n */\nfunction sleep(ms) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, ms);\n    });\n}\n\n/**\n * Class representing a EOSIO chain.\n */\nclass LinkChain {\n    /** @internal */\n    constructor(chainId, clientOrUrl) {\n        this.abiCache = new Map();\n        this.pendingAbis = new Map();\n        this.chainId = ChainId.from(chainId);\n        this.client =\n            typeof clientOrUrl === 'string' ? new APIClient({ url: clientOrUrl }) : clientOrUrl;\n    }\n    /**\n     * Fetch the ABI for given account, cached.\n     * @internal\n     */\n    async getAbi(account) {\n        const key = String(account);\n        let rv = this.abiCache.get(key);\n        if (!rv) {\n            let getAbi = this.pendingAbis.get(key);\n            if (!getAbi) {\n                getAbi = this.client.v1.chain.get_abi(account);\n                this.pendingAbis.set(key, getAbi);\n            }\n            rv = (await getAbi).abi;\n            this.pendingAbis.delete(key);\n            if (rv) {\n                this.abiCache.set(key, rv);\n            }\n        }\n        return rv;\n    }\n}\n/**\n * Anchor Link main class.\n *\n * @example\n *\n * ```ts\n * import AnchorLink from 'anchor-link'\n * import ConsoleTransport from 'anchor-link-console-transport'\n *\n * const link = new AnchorLink({\n *     transport: new ConsoleTransport(),\n *     chains: [\n *         {\n *             chainId: 'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906',\n *             nodeUrl: 'https://eos.greymass.com',\n *         },\n *     ],\n * })\n *\n * const result = await link.transact({actions: myActions})\n * ```\n */\nclass Link {\n    /** Create a new link instance. */\n    constructor(options) {\n        if (typeof options !== 'object') {\n            throw new TypeError('Missing options object');\n        }\n        if (!options.transport) {\n            throw new TypeError('options.transport is required');\n        }\n        let chains = options.chains || [];\n        if (options.chainId && options.client) {\n            chains = [{ chainId: options.chainId, nodeUrl: options.client }];\n        }\n        if (chains.length === 0) {\n            throw new TypeError('options.chains is required');\n        }\n        this.chains = chains.map(({ chainId, nodeUrl }) => {\n            if (!chainId) {\n                throw new Error('options.chains[].chainId is required');\n            }\n            if (!nodeUrl) {\n                throw new Error('options.chains[].nodeUrl is required');\n            }\n            return new LinkChain(chainId, nodeUrl);\n        });\n        if (options.service === undefined || typeof options.service === 'string') {\n            this.callbackService = new BuoyCallbackService(options.service || LinkOptions.defaults.service);\n        }\n        else {\n            this.callbackService = options.service;\n        }\n        this.transport = options.transport;\n        if (options.storage !== null) {\n            this.storage = options.storage || this.transport.storage;\n        }\n        this.verifyProofs =\n            options.verifyProofs !== undefined\n                ? options.verifyProofs\n                : LinkOptions.defaults.verifyProofs;\n        this.encodeChainIds =\n            options.encodeChainIds !== undefined\n                ? options.encodeChainIds\n                : LinkOptions.defaults.encodeChainIds;\n    }\n    /**\n     * The APIClient instance for communicating with the node.\n     * @note This returns the first APIClient when link is configured with multiple chains.\n     */\n    get client() {\n        return this.chains[0].client;\n    }\n    /**\n     * Return a [[LinkChain]] object for given chainId or chain reference.\n     * @throws If this link instance has no configured chain for given reference.\n     * @internal\n     */\n    getChain(chain) {\n        if (chain instanceof LinkChain) {\n            return chain;\n        }\n        if (typeof chain === 'number') {\n            const rv = this.chains[chain];\n            if (!rv) {\n                throw new Error(`Invalid chain index: ${chain}`);\n            }\n            return rv;\n        }\n        const id = ChainId.from(chain);\n        const rv = this.chains.find((c) => c.chainId.equals(id));\n        if (!rv) {\n            throw new Error(`Unsupported chain: ${id}`);\n        }\n        return rv;\n    }\n    /**\n     * Create a SigningRequest instance configured for this link.\n     * @internal\n     */\n    async createRequest(args, chain, transport) {\n        const t = transport || this.transport;\n        let request;\n        if (chain || this.chains.length === 1) {\n            const c = chain || this.chains[0];\n            request = await SigningRequest.create({\n                ...args,\n                chainId: c.chainId,\n                broadcast: false,\n            }, { abiProvider: c, zlib });\n        }\n        else {\n            // multi-chain request\n            request = await SigningRequest.create({\n                ...args,\n                chainId: null,\n                chainIds: this.encodeChainIds ? this.chains.map((c) => c.chainId) : undefined,\n                broadcast: false,\n            }, \n            // abi's will be pulled from the first chain and assumed to be identical on all chains\n            { abiProvider: this.chains[0], zlib });\n        }\n        if (t.prepare) {\n            request = await t.prepare(request);\n        }\n        const callback = this.callbackService.create();\n        request.setCallback(callback.url, true);\n        return { request, callback };\n    }\n    /**\n     * Send a SigningRequest instance using this link.\n     * @internal\n     */\n    async sendRequest(request, callback, chain, transport, broadcast = false) {\n        const t = transport || this.transport;\n        try {\n            const linkUrl = request.data.callback;\n            if (linkUrl !== callback.url) {\n                throw new Error('Invalid request callback');\n            }\n            if (request.data.flags.broadcast === true || request.data.flags.background === false) {\n                throw new Error('Invalid request flags');\n            }\n            // wait for callback or user cancel\n            const cancel = new Promise((resolve, reject) => {\n                t.onRequest(request, (reason) => {\n                    callback.cancel();\n                    if (typeof reason === 'string') {\n                        reject(new CancelError(reason));\n                    }\n                    else {\n                        reject(reason);\n                    }\n                });\n            });\n            const callbackResponse = await Promise.race([callback.wait(), cancel]);\n            if (typeof callbackResponse.rejected === 'string') {\n                throw new CancelError(callbackResponse.rejected);\n            }\n            const payload = callbackResponse;\n            const signer = PermissionLevel.from({\n                actor: payload.sa,\n                permission: payload.sp,\n            });\n            const signatures = Object.keys(payload)\n                .filter((key) => key.startsWith('sig') && key !== 'sig0')\n                .map((key) => Signature.from(payload[key]));\n            let c;\n            if (!chain && this.chains.length > 1) {\n                if (!payload.cid) {\n                    throw new Error('Multi chain response payload must specify resolved chain id (cid)');\n                }\n                c = this.getChain(payload.cid);\n            }\n            else {\n                c = chain || this.getChain(0);\n                if (payload.cid && !c.chainId.equals(payload.cid)) {\n                    throw new Error('Got response for wrong chain id');\n                }\n            }\n            // recreate transaction from request response\n            const resolved = await ResolvedSigningRequest.fromPayload(payload, {\n                zlib,\n                abiProvider: c,\n            });\n            // prepend cosigner signature if present\n            const cosignerSig = resolved.request.getInfoKey('cosig', {\n                type: Signature,\n                array: true,\n            });\n            if (cosignerSig) {\n                signatures.unshift(...cosignerSig);\n            }\n            const result = {\n                resolved,\n                chain: c,\n                transaction: resolved.transaction,\n                resolvedTransaction: resolved.resolvedTransaction,\n                signatures,\n                payload,\n                signer,\n            };\n            if (broadcast) {\n                const signedTx = SignedTransaction.from({\n                    ...resolved.transaction,\n                    signatures,\n                });\n                const res = await c.client.v1.chain.push_transaction(signedTx);\n                result.processed = res.processed;\n            }\n            if (t.onSuccess) {\n                t.onSuccess(request, result);\n            }\n            return result;\n        }\n        catch (error) {\n            if (t.onFailure) {\n                t.onFailure(request, error);\n            }\n            throw error;\n        }\n    }\n    /**\n     * Sign and optionally broadcast a EOSIO transaction, action or actions.\n     *\n     * Example:\n     *\n     * ```ts\n     * let result = await myLink.transact({transaction: myTx})\n     * ```\n     *\n     * @param args The action, actions or transaction to use.\n     * @param options Options for this transact call.\n     * @param transport Transport override, for internal use.\n     */\n    async transact(args, options, transport) {\n        const o = options || {};\n        const t = transport || this.transport;\n        const c = o.chain !== undefined ? this.getChain(o.chain) : undefined;\n        const broadcast = o.broadcast !== false;\n        const noModify = o.noModify !== undefined ? o.noModify : !broadcast;\n        // Initialize the loading state of the transport\n        if (t && t.showLoading) {\n            t.showLoading();\n        }\n        // eosjs transact compat: upgrade to transaction if args have any header fields\n        const anyArgs = args;\n        if (args.actions &&\n            (anyArgs.expiration ||\n                anyArgs.ref_block_num ||\n                anyArgs.ref_block_prefix ||\n                anyArgs.max_net_usage_words ||\n                anyArgs.max_cpu_usage_ms ||\n                anyArgs.delay_sec)) {\n            args = {\n                transaction: {\n                    expiration: '1970-01-01T00:00:00',\n                    ref_block_num: 0,\n                    ref_block_prefix: 0,\n                    max_net_usage_words: 0,\n                    max_cpu_usage_ms: 0,\n                    delay_sec: 0,\n                    ...anyArgs,\n                },\n            };\n        }\n        const { request, callback } = await this.createRequest(args, c, t);\n        if (noModify) {\n            request.setInfoKey('no_modify', true, 'bool');\n        }\n        const result = await this.sendRequest(request, callback, c, t, broadcast);\n        return result;\n    }\n    /**\n     * Send an identity request and verify the identity proof if [[LinkOptions.verifyProofs]] is true.\n     * @param args.scope The scope of the identity request.\n     * @param args.requestPermission Optional request permission if the request is for a specific account or permission.\n     * @param args.info Metadata to add to the request.\n     * @note This is for advanced use-cases, you probably want to use [[Link.login]] instead.\n     */\n    async identify(args) {\n        const { request, callback } = await this.createRequest({\n            identity: { permission: args.requestPermission, scope: args.scope },\n            info: args.info,\n        });\n        const res = await this.sendRequest(request, callback);\n        if (!res.resolved.request.isIdentity()) {\n            throw new IdentityError('Unexpected response');\n        }\n        let account;\n        const proof = res.resolved.getIdentityProof(res.signatures[0]);\n        if (this.verifyProofs) {\n            account = await res.chain.client.v1.chain.get_account(res.signer.actor);\n            if (!account) {\n                throw new IdentityError(`Signature from unknown account: ${proof.signer.actor}`);\n            }\n            const accountPermission = account.permissions.find(({ perm_name }) => proof.signer.permission.equals(perm_name));\n            if (!accountPermission) {\n                throw new IdentityError(`${proof.signer.actor} signed for unknown permission: ${proof.signer.permission}`);\n            }\n            const proofValid = proof.verify(accountPermission.required_auth, account.head_block_time);\n            if (!proofValid) {\n                throw new IdentityError(`Invalid identify proof for: ${proof.signer}`);\n            }\n        }\n        if (args.requestPermission) {\n            const perm = PermissionLevel.from(args.requestPermission);\n            if ((!perm.actor.equals(PlaceholderName) && !perm.actor.equals(proof.signer.actor)) ||\n                (!perm.permission.equals(PlaceholderPermission) &&\n                    !perm.permission.equals(proof.signer.permission))) {\n                throw new IdentityError(`Identity proof singed by ${proof.signer}, expected: ${formatAuth(perm)} `);\n            }\n        }\n        return {\n            ...res,\n            account,\n            proof,\n        };\n    }\n    /**\n     * Login and create a persistent session.\n     * @param identifier The session identifier, an EOSIO name (`[a-z1-5]{1,12}`).\n     *                   Should be set to the contract account if applicable.\n     */\n    async login(identifier) {\n        const privateKey = PrivateKey.generate('K1');\n        const requestKey = privateKey.toPublic();\n        const createInfo = LinkCreate.from({\n            session_name: identifier,\n            request_key: requestKey,\n            user_agent: this.getUserAgent(),\n        });\n        const res = await this.identify({\n            scope: identifier,\n            info: {\n                link: createInfo,\n                scope: identifier,\n            },\n        });\n        const metadata = {\n            // backwards compat, can be removed next major release\n            sameDevice: res.resolved.request.getRawInfo()['return_path'] !== undefined,\n        };\n        // append extra metadata from the signer\n        if (res.payload.link_meta) {\n            try {\n                const parsed = JSON.parse(res.payload.link_meta);\n                for (const key of Object.keys(parsed)) {\n                    // normalize key names to camelCase\n                    metadata[snakeToCamel(key)] = parsed[key];\n                }\n            }\n            catch (error) {\n                // eslint-disable-next-line no-console\n                console.warn('Unable to parse link metadata', error, res.payload.link_meta);\n            }\n        }\n        const signerKey = res.proof.recover();\n        let session;\n        if (res.payload.link_ch && res.payload.link_key && res.payload.link_name) {\n            session = new LinkChannelSession(this, {\n                identifier,\n                chainId: res.chain.chainId,\n                auth: res.signer,\n                publicKey: signerKey,\n                channel: {\n                    url: res.payload.link_ch,\n                    key: res.payload.link_key,\n                    name: res.payload.link_name,\n                },\n                requestKey: privateKey,\n            }, metadata);\n        }\n        else {\n            session = new LinkFallbackSession(this, {\n                identifier,\n                chainId: res.chain.chainId,\n                auth: res.signer,\n                publicKey: signerKey,\n            }, metadata);\n        }\n        if (this.storage) {\n            await this.storeSession(identifier, session);\n        }\n        return {\n            ...res,\n            session,\n        };\n    }\n    /**\n     * Restore previous session, use [[login]] to create a new session.\n     * @param identifier The session identifier, must be same as what was used when creating the session with [[login]].\n     * @param auth A specific session auth to restore, if omitted the most recently used session will be restored.\n     * @param chainId If given function will only consider that specific chain when restoring session.\n     * @returns A [[LinkSession]] instance or null if no session can be found.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error retrieving the session data.\n     **/\n    async restoreSession(identifier, auth, chainId) {\n        if (!this.storage) {\n            throw new Error('Unable to restore session: No storage adapter configured');\n        }\n        let key;\n        if (auth && chainId) {\n            // both auth and chain id given, we can look up on specific key\n            key = this.sessionKey(identifier, formatAuth(PermissionLevel.from(auth)), String(ChainId.from(chainId)));\n        }\n        else {\n            // otherwise we use the session list to filter down to most recently used matching given params\n            let list = await this.listSessions(identifier);\n            if (auth) {\n                list = list.filter((item) => item.auth.equals(auth));\n            }\n            if (chainId) {\n                const id = ChainId.from(chainId);\n                list = list.filter((item) => item.chainId.equals(id));\n            }\n            const latest = list[0];\n            if (!latest) {\n                return null;\n            }\n            key = this.sessionKey(identifier, formatAuth(latest.auth), String(latest.chainId));\n        }\n        const data = await this.storage.read(key);\n        if (!data) {\n            return null;\n        }\n        let sessionData;\n        try {\n            sessionData = JSON.parse(data);\n        }\n        catch (error) {\n            throw new Error(`Unable to restore session: Stored JSON invalid (${error.message || String(error)})`);\n        }\n        const session = LinkSession.restore(this, sessionData);\n        if (auth || chainId) {\n            // update latest used\n            await this.touchSession(identifier, session.auth, session.chainId);\n        }\n        return session;\n    }\n    /**\n     * List stored session auths for given identifier.\n     * The most recently used session is at the top (index 0).\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error retrieving the session list.\n     **/\n    async listSessions(identifier) {\n        if (!this.storage) {\n            throw new Error('Unable to list sessions: No storage adapter configured');\n        }\n        const key = this.sessionKey(identifier, 'list');\n        let list;\n        try {\n            list = JSON.parse((await this.storage.read(key)) || '[]');\n        }\n        catch (error) {\n            throw new Error(`Unable to list sessions: ${error.message || String(error)}`);\n        }\n        return list.map(({ auth, chainId }) => ({\n            auth: PermissionLevel.from(auth),\n            chainId: ChainId.from(chainId),\n        }));\n    }\n    /**\n     * Remove stored session for given identifier and auth.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error removing the session data.\n     */\n    async removeSession(identifier, auth, chainId) {\n        if (!this.storage) {\n            throw new Error('Unable to remove session: No storage adapter configured');\n        }\n        const key = this.sessionKey(identifier, formatAuth(auth), String(chainId));\n        await this.storage.remove(key);\n        await this.touchSession(identifier, auth, chainId, true);\n    }\n    /**\n     * Remove all stored sessions for given identifier.\n     * @throws If no [[LinkStorage]] adapter is configured or there was an error removing the session data.\n     */\n    async clearSessions(identifier) {\n        if (!this.storage) {\n            throw new Error('Unable to clear sessions: No storage adapter configured');\n        }\n        for (const { auth, chainId } of await this.listSessions(identifier)) {\n            await this.removeSession(identifier, auth, chainId);\n        }\n    }\n    /**\n     * Create an eosjs compatible signature provider using this link.\n     * @param availableKeys Keys the created provider will claim to be able to sign for.\n     * @param chain Chain to use when configured with multiple chains.\n     * @param transport (internal) Transport override for this call.\n     * @note We don't know what keys are available so those have to be provided,\n     *       to avoid this use [[LinkSession.makeSignatureProvider]] instead. Sessions can be created with [[Link.login]].\n     */\n    makeSignatureProvider(availableKeys, chain, transport) {\n        return {\n            getAvailableKeys: async () => availableKeys,\n            sign: async (args) => {\n                const t = transport || this.transport;\n                const c = chain ? this.getChain(chain) : this.chains[0];\n                let request = SigningRequest.fromTransaction(args.chainId, args.serializedTransaction, { abiProvider: c, zlib });\n                const callback = this.callbackService.create();\n                request.setCallback(callback.url, true);\n                request.setBroadcast(false);\n                if (t.prepare) {\n                    request = await t.prepare(request);\n                }\n                const { transaction, signatures } = await this.sendRequest(request, callback, c, t);\n                const serializedTransaction = Serializer.encode({ object: transaction });\n                return {\n                    ...args,\n                    serializedTransaction,\n                    signatures,\n                };\n            },\n        };\n    }\n    /** Makes sure session is in storage list of sessions and moves it to top (most recently used). */\n    async touchSession(identifier, auth, chainId, remove = false) {\n        const list = await this.listSessions(identifier);\n        const existing = list.findIndex((item) => item.auth.equals(auth) && item.chainId.equals(chainId));\n        if (existing >= 0) {\n            list.splice(existing, 1);\n        }\n        if (remove === false) {\n            list.unshift({ auth, chainId });\n        }\n        const key = this.sessionKey(identifier, 'list');\n        await this.storage.write(key, JSON.stringify(list));\n    }\n    /** Makes sure session is in storage list of sessions and moves it to top (most recently used). */\n    async storeSession(identifier, session) {\n        const key = this.sessionKey(identifier, formatAuth(session.auth), String(session.chainId));\n        const data = JSON.stringify(session.serialize());\n        await this.storage.write(key, data);\n        await this.touchSession(identifier, session.auth, session.chainId);\n    }\n    /** Session storage key for identifier and suffix. */\n    sessionKey(identifier, ...suffix) {\n        return [String(Name.from(identifier)), ...suffix].join('-');\n    }\n    /** Return user agent of this link. */\n    getUserAgent() {\n        let rv = `AnchorLink/${Link.version}`;\n        if (this.transport.userAgent) {\n            rv += ' ' + this.transport.userAgent();\n        }\n        return rv;\n    }\n}\n/** Package version. */\nLink.version = '3.2.3'; // eslint-disable-line @typescript-eslint/no-inferrable-types\n/**\n * Format a EOSIO permission level in the format `actor@permission` taking placeholders into consideration.\n * @internal\n */\nfunction formatAuth(auth) {\n    const a = PermissionLevel.from(auth);\n    const actor = a.actor.equals(PlaceholderName) ? '<any>' : String(a.actor);\n    let permission;\n    if (a.permission.equals(PlaceholderName) || a.permission.equals(PlaceholderPermission)) {\n        permission = '<any>';\n    }\n    else {\n        permission = String(a.permission);\n    }\n    return `${actor}@${permission}`;\n}\n/**\n * Return PascalCase version of snake_case string.\n * @internal\n */\nfunction snakeToPascal(name) {\n    return name\n        .split('_')\n        .map((v) => (v[0] ? v[0].toUpperCase() : '_') + v.slice(1))\n        .join('');\n}\n/**\n * Return camelCase version of snake_case string.\n * @internal\n */\nfunction snakeToCamel(name) {\n    const pascal = snakeToPascal(name);\n    return pascal[0].toLowerCase() + pascal.slice(1);\n}\n\n// export library\n\nexport default Link;\nexport { CancelError, IdentityError, Link, LinkChain, LinkChannelSession, LinkFallbackSession, LinkSession, SessionError };\n//# sourceMappingURL=anchor-link.m.js.map\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * Anchor Link Browser Transport v3.1.3\n * https://github.com/greymass/anchor-link-browser-transport\n *\n * @license\n * Copyright (c) 2020 Greymass Inc. All Rights Reserved.\n * \n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n * \n *  1. Redistribution of source code must retain the above copyright notice, this\n *     list of conditions and the following disclaimer.\n * \n *  2. Redistribution in binary form must reproduce the above copyright notice,\n *     this list of conditions and the following disclaimer in the documentation\n *     and/or other materials provided with the distribution.\n * \n *  3. Neither the name of the copyright holder nor the names of its contributors\n *     may be used to endorse or promote products derived from this software without\n *     specific prior written permission.\n * \n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n * IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED\n * OF THE POSSIBILITY OF SUCH DAMAGE.\n * \n * YOU ACKNOWLEDGE THAT THIS SOFTWARE IS NOT DESIGNED, LICENSED OR INTENDED FOR USE\n * IN THE DESIGN, CONSTRUCTION, OPERATION OR MAINTENANCE OF ANY MILITARY FACILITY.\n */\nimport { Signature, SigningRequest, PlaceholderName, Link, Base64u, isInstanceOf, APIError } from 'anchor-link';\n\nvar styleText = `\n/* Anchor Link */\n\n.%prefix% * {\n    box-sizing: border-box;\n    line-height: 1;\n}\n\n.%prefix% {\n    font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',\n        Arial, sans-serif;\n    font-size: 13px;\n    background: rgba(0, 0, 0, 0.65);\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 2147483647;\n    display: none;\n    align-items: center;\n    justify-content: center;\n}\n\n.%prefix%-active {\n    display: flex;\n}\n\n.%prefix%-inner {\n    background: #EFF1F7;\n    margin: 20px;\n    padding-top: 50px;\n    border-radius: 20px;\n    box-shadow: 0px 4px 100px rgba(0, 0, 0, .5);\n    width: 340px;\n    position: relative;\n}\n\n.%prefix%-close {\n    display: block;\n    position: absolute;\n    top: 11px;\n    right: 16px;\n    width: 28px;\n    height: 28px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23007AFF'/%3E%3C/svg%3E\");\n    background-size: 14px;\n    background-repeat: no-repeat;\n    background-position: 50% 7px;\n    border-radius: 100%;\n    cursor: pointer;\n}\n\n.%prefix%-close:hover {\n    background-color: white;\n}\n\n.%prefix%-version {\n    position: absolute;\n    top: 19px;\n    left: 20px;\n    cursor: help;\n    color: #B8C0DA;\n    opacity: 0.1;\n}\n\n.%prefix%-version:hover {\n    opacity: 1;\n}\n\n.%prefix%-logo {\n    width: 70px;\n    height: 70px;\n    margin: 0 auto;\n    margin-top: -56px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M18.81 9.19h33.25V59.5H18.81z'/%3E%3Cpath d='M38.45 28.88h-6.9L35 21.77l3.45 7.1z' fill='%233650A2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M35 70a35 35 0 100-70 35 35 0 000 70zm2.36-55.4a2.62 2.62 0 00-4.72 0L21.9 36.75h5.84l1.7-3.5h11.13l1.7 3.5h5.83L37.36 14.6zM48.13 44.2h-5.26a7.76 7.76 0 01-5.24 7v-10.5a2.62 2.62 0 10-5.25 0v10.5a7.76 7.76 0 01-5.25-7h-5.25c.16 7.06 6 12.69 13.12 12.69 7.12 0 12.97-5.63 13.13-12.7z' fill='%233650A2'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-fuel {\n    width: 70px;\n    height: 70px;\n    margin: 0 auto;\n    margin-top: -56px;\n    background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='linear-gradient-25' x1='104.79' y1='197.49' x2='131.55' y2='108.35' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0.38' stop-color='%23f6b621'/%3E%3Cstop offset='0.59' stop-color='%23e89124'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg id='brain-logo' style='' transform='matrix(1, 0, 0, 1, -0.005538, -0.040005)'%3E%3Cg%3E%3Cpath class='cls-4' d='M251.93,111.13,221.28,71.51A23.76,23.76,0,0,0,209,63.61l-77.7-18.09a25.86,25.86,0,0,0-5.78-.6,28.22,28.22,0,0,0-7.88,1L99.06,51.58a6.31,6.31,0,0,0-.61-5l-5.3-9a6.36,6.36,0,0,0-5.47-3.13h0a6.57,6.57,0,0,0-1.92.29L49.61,46.21a6.34,6.34,0,0,0-4.41,6.28l.46,12.2a6.2,6.2,0,0,0,.78,2.81L38.2,70a21.1,21.1,0,0,0-11.73,9.76L3,125.21a17.78,17.78,0,0,0,.54,16.32l12.68,21A16.19,16.19,0,0,0,29.69,170a13.25,13.25,0,0,0,1.67-.1L65,165.81a17.22,17.22,0,0,0,9.2,13.64l12.86,6.08a32.51,32.51,0,0,0,12.26,2.63c.35,0,.7,0,1,0l29.17-1.61a6.12,6.12,0,0,1,2.64,1l29.05,28.79a20,20,0,0,0,13.27,5.29c.52,0,1,0,1.53-.07l23.93-2.47c4.31-.44,7.67-2.87,9-6.48s.36-7.64-2.63-10.78l-10.09-10.64,19.07-5.64a15.76,15.76,0,0,0,10.83-13.09L227.65,157a10.69,10.69,0,0,1,1.86-4.19l21.74-24a14,14,0,0,0,.68-17.65Z' style='fill: rgb(255, 255, 255);'/%3E%3Cg%3E%3Ccircle class='cls-2' cx='173.24' cy='107.45' r='6.19' transform='translate(7.67 226.39) rotate(-67.5)' style='fill: rgb(246, 182, 33);'/%3E%3Cpath class='cls-2' d='M101,97.06a3.71,3.71,0,1,0-3.71-3.71A3.71,3.71,0,0,0,101,97.06Z' style='fill: rgb(246, 182, 33);'/%3E%3Ccircle class='cls-2' cx='135.4' cy='76.29' r='3.71' style='fill: rgb(246, 182, 33);'/%3E%3Cg%3E%3Cpath class='cls-21' d='M79.24,128c-16.71,0-37.79,7.36-48.93,11.68a2.39,2.39,0,0,0-1.19,3.46L33.8,151a2.38,2.38,0,0,0,2.34,1.14L69.27,148a12.74,12.74,0,0,1,1.63-.1,13.22,13.22,0,0,1,13.26,12.74l0,1.1a2.4,2.4,0,0,0,1.37,2.07l10.56,5a14.8,14.8,0,0,0,4.69.95H101L129,168.24c.28,0,.57,0,.85,0a21.23,21.23,0,0,1,14.06,5.68l27.82,27.56a4,4,0,0,0,1.26.45l6.07-.75a1.22,1.22,0,0,0,.86-1.9l-3-4.36a11.51,11.51,0,0,1,5.21-19.44l23.4-6.93a1.44,1.44,0,0,0,1-1.23l1.26-12.72v0a1.44,1.44,0,0,0-1.81-1.54c-8.26,2.21-22.73,5.72-31.63,5.72C136.65,158.74,108.72,128,79.24,128Zm32.48,27a2.77,2.77,0,0,1-1,1,3.78,3.78,0,0,1-5.23-5.23,2.77,2.77,0,0,1,1-1A3.78,3.78,0,0,1,111.72,155Zm63.76,13.39a2.62,2.62,0,0,1-1,1,3.78,3.78,0,0,1-5.23-5.23,2.77,2.77,0,0,1,1-1A3.78,3.78,0,0,1,175.48,168.36Z' style='fill: url(%23linear-gradient-25);'/%3E%3Cpath class='cls-2' d='M173.34,127.62c-37.69,0-69.59-16.73-92.46-16.73-16.08,0-43.36,12.17-55.32,21a2,2,0,0,0-.65,2.46c.35.8.82,1.84,1.26,2.82a2,2,0,0,0,2.62,1C39.07,134,61,125.9,79.24,125.9c30.45,0,58.48,27,91.13,27,14.49,0,35.75-5.69,41.3-10.16,2.42-2.52,10.36-11.93,16-17.78a2.39,2.39,0,0,0-2.32-3.94C214.49,123.51,193.73,127.62,173.34,127.62Zm-1.68,14.25a5.28,5.28,0,0,1-2.49,2.49,6.27,6.27,0,0,1-8.48-8.48,5.37,5.37,0,0,1,2.49-2.49A6.27,6.27,0,0,1,171.66,141.87Z' style='fill: rgb(246, 182, 33);'/%3E%3C/g%3E%3Cpath class='cls-1' d='M248.71,113.13,218.06,73.51a20.05,20.05,0,0,0-10-6.43L130.34,49a25.7,25.7,0,0,0-11.57.38L91.41,57.65a.05.05,0,0,1-.07,0L89.56,53a.05.05,0,0,1,0-.07l4.06-1.46a2.45,2.45,0,0,0,1-.62,2.29,2.29,0,0,0,.29-2.72l-5.29-9a2.3,2.3,0,0,0-2.67-1L50.83,49.59a2.28,2.28,0,0,0-1.59,2.27l.46,12.2a2.27,2.27,0,0,0,1,1.8,2.3,2.3,0,0,0,1.28.4,2.33,2.33,0,0,0,.78-.14l9.18-3.29a0,0,0,0,1,.06,0L63.58,66a0,0,0,0,1,0,.07L39.37,73.4a17.25,17.25,0,0,0-9.31,7.74L6.58,126.59A13.67,13.67,0,0,0,7,139l12.68,21a12.1,12.1,0,0,0,11.19,5.45l37.08-4.54a.83.83,0,0,1,.68.18.82.82,0,0,1,.28.64l.14,3.22a13.25,13.25,0,0,0,6.88,10.39l12.86,6.08a28,28,0,0,0,11.32,2.21l29.2-1.61a9.38,9.38,0,0,1,5.68,2.16L164,212.94a16,16,0,0,0,10.41,4.12,10,10,0,0,0,1.11-.06l23.93-2.46c2.77-.29,4.82-1.69,5.62-3.85s.15-4.56-1.77-6.58l-14.6-15.38a.06.06,0,0,1,0-.09l25.35-7.5a11.74,11.74,0,0,0,7.94-9.59l1.53-15.46a14.22,14.22,0,0,1,2.9-6.52l21.74-24A9.94,9.94,0,0,0,248.71,113.13ZM56.08,56.65,56,54.81a1.29,1.29,0,0,1,.88-1.29l28-9a1.28,1.28,0,0,1,1.48.57l.48.83a1.27,1.27,0,0,1-.68,1.83l-28.35,10A1.27,1.27,0,0,1,56.08,56.65Zm186.57,63.93-21.71,24a21.37,21.37,0,0,0-4.79,10.8l-1.54,15.46A4.37,4.37,0,0,1,212,174l-26.5,7.84a6.52,6.52,0,0,0-3,11.2L194,205.17a1.49,1.49,0,0,1-.93,2.5l-18.31,1.89a8.37,8.37,0,0,1-5.49-1.94l-29.06-28.8a16.74,16.74,0,0,0-10.77-4.33l-.59,0-29.21,1.61a20.07,20.07,0,0,1-7.69-1.5l-12.87-6.09a5,5,0,0,1-2.61-3.93l-.13-3.22A8.27,8.27,0,0,0,67,153.44L29.94,158a4.75,4.75,0,0,1-3.87-1.88l-12.68-21a6.38,6.38,0,0,1-.17-5.05L36.71,84.58a10.08,10.08,0,0,1,4.82-4l79.41-24a18.68,18.68,0,0,1,7.7-.25l77.7,18.09a12.72,12.72,0,0,1,5.8,3.72l30.62,39.59A2.35,2.35,0,0,1,242.65,120.58Z' style='fill: rgb(42, 54, 64);'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.loading {\n    border-radius: 100%;\n    background-color: #3650A2;\n    background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0.5 0.5 45 45' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' transform='translate(1 1)' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='1.5s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='1.5s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='1.5s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='3s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='3s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='3s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='8'%3E%3Canimate attributeName='r' begin='0s' dur='1.5s' values='6;1;2;3;4;5;6' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.error {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%23FC3D39'/%3E%3Cpath fill='%23fff' d='M22.3 48h25.4c2.5 0 4-1.7 4-4a4 4 0 00-.5-2L38.5 19.3a4 4 0 00-3.5-2 4 4 0 00-3.5 2L18.8 42.1c-.3.6-.5 1.3-.5 2 0 2.2 1.6 4 4 4zM35 37c-.9 0-1.4-.6-1.4-1.5l-.2-7.7c0-.9.6-1.6 1.6-1.6s1.7.7 1.7 1.6l-.3 7.7c0 1-.5 1.5-1.4 1.5zm0 6c-1 0-1.9-.8-1.9-1.8s.9-1.8 2-1.8c1 0 1.8.7 1.8 1.8 0 1-.9 1.8-1.9 1.8z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.success {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%233DC55D'/%3E%3Cpath fill='%23fff' d='M30.9 49.7a2 2 0 001.8-1L48 24.9c.3-.5.4-1 .4-1.4 0-1-.7-1.7-1.7-1.7-.8 0-1.2.3-1.6 1L30.8 45.4 23.5 36c-.5-.6-1-.9-1.6-.9-1 0-1.8.8-1.8 1.8 0 .4.2.9.6 1.3L29 48.7c.6.7 1.1 1 1.9 1z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-request {\n    padding: 20px;\n    border-radius: 20px;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    background: white;\n}\n\n.%prefix%-fee,\n.%prefix%-info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-title {\n    color: #000000;\n    font-size: 25px;\n    margin-top: 14px;\n    font-weight: 700;\n    line-height: 30px;\n    letter-spacing: 0.5px;\n}\n\n.%prefix%-subtitle {\n    margin-top: 14px;\n    color: #5C5C5C;\n    text-align: center;\n    line-height: 1.4;\n    word-break: break-word;\n}\n\n.%prefix%-subtitle a {\n    color: #000000;\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n.%prefix%-actions {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-uri {\n    width: 100%;\n}\n\n.%prefix%-button {\n    color: #007AFF;\n    background: #EFF1F7;\n    border: 1px solid #EFF1F7;\n    text-decoration: none;\n    font-size: 17px;\n    flex-grow: 1;\n    flex: 1;\n    width: 100%;\n    line-height: 1;\n    padding: 20px 18px;\n    border-radius: 12px;\n    font-weight: 400;\n    text-align: center;\n    display: block;\n    margin-top: 21px;\n    cursor: pointer;\n}\n\n.%prefix%-button:hover {\n    border: 1px solid #007AFF;\n}\n\n.%prefix%-qr {\n    margin-top: 21px;\n}\n\n.%prefix%-qr svg {\n    width: 100%;\n    display: block;\n    shape-rendering: crispEdges;\n}\n\n.%prefix%-qr svg rect {\n    fill: black;\n}\n\n.%prefix%-footnote {\n    text-align: center;\n    width: 100%;\n    position: absolute;\n    bottom: -26px;\n    left: 0;\n    color: white;\n}\n\n.%prefix%-footnote a {\n    color: white;\n    text-decoration: underline;\n}\n\n.%prefix%-wskeepalive {\n    display: none;\n}\n\n.%prefix%-choice {\n    text-align: center;\n    width: 100%;\n    color: #666;\n}\n\n.%prefix%-choice span {\n    display: block;\n    margin-top: 1em;\n}\n\n.%prefix%-choice a:not(.%prefix%-button) {\n    display: block;\n    cursor: pointer;\n    text-decoration: underline;\n    margin-top: 1em;\n}\n\n@media (prefers-color-scheme: dark) {\n    .%prefix%-inner {\n        background: #262D43;\n        color: white;\n    }\n    .%prefix%-request {\n        background: #131B33;\n    }\n    .%prefix%-title {\n        color: #FCFCFC;\n    }\n    .%prefix%-subtitle {\n        color: #B8C0DA;\n    }\n    .%prefix%-subtitle a {\n        color: #FCFCFC;\n    }\n    .%prefix%-qr svg rect {\n        fill: white;\n    }\n    .%prefix%-version {\n        color: #546AAF;\n    }\n    .%prefix%-choice {\n        color: #888ea1;\n    }\n    .%prefix%-button {\n        color: #FCFCFC;\n        background: #262D43;\n        border: 1px solid #262D43;\n    }\n    .%prefix%-button:hover {\n        color: #FCFCFC;\n        border: 1px solid #FCFCFC;\n        background: #333A50;\n    }\n    .%prefix%-close {\n        background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23FCFCFC'/%3E%3C/svg%3E\");\n    }\n    .%prefix%-close:hover {\n        background-color: black;\n    }\n}\n\n@media (max-height: 600px) { .%prefix%-inner { transform: scale(0.9); } }\n@media (max-height: 540px) { .%prefix%-inner { transform: scale(0.8); } }\n@media (max-height: 480px) { .%prefix%-inner { transform: scale(0.7); } }\n@media (max-height: 420px) { .%prefix%-inner { transform: scale(0.6); } }\n@media (max-height: 360px) { .%prefix%-inner { transform: scale(0.5); } }\n@media (max-height: 300px) { .%prefix%-inner { transform: scale(0.4); } }\n\n`;\n\nvar ErrorCorrectLevel = {\n    L: 1,\n    M: 0,\n    Q: 3,\n    H: 2,\n};\n\nvar Mode = {\n    MODE_NUMBER: 1 << 0,\n    MODE_ALPHA_NUM: 1 << 1,\n    MODE_8BIT_BYTE: 1 << 2,\n    MODE_KANJI: 1 << 3,\n};\n\nclass QR8bitByte {\n    constructor(data) {\n        this.mode = Mode.MODE_8BIT_BYTE;\n        this.data = data;\n    }\n    getLength() {\n        return this.data.length;\n    }\n    write(buffer) {\n        for (let i = 0; i < this.data.length; i++) {\n            // not JIS ...\n            buffer.put(this.data.charCodeAt(i), 8);\n        }\n    }\n}\n\nclass QRBitBuffer {\n    constructor() {\n        this.buffer = [];\n        this.length = 0;\n    }\n    get(index) {\n        const bufIndex = Math.floor(index / 8);\n        return ((this.buffer[bufIndex] >>> (7 - (index % 8))) & 1) == 1;\n    }\n    put(num, length) {\n        for (let i = 0; i < length; i++) {\n            this.putBit(((num >>> (length - i - 1)) & 1) == 1);\n        }\n    }\n    getLengthInBits() {\n        return this.length;\n    }\n    putBit(bit) {\n        const bufIndex = Math.floor(this.length / 8);\n        if (this.buffer.length <= bufIndex) {\n            this.buffer.push(0);\n        }\n        if (bit) {\n            this.buffer[bufIndex] |= 0x80 >>> this.length % 8;\n        }\n        this.length++;\n    }\n}\n\nconst QRMath = {\n    glog: function (n) {\n        if (n < 1) {\n            throw new Error('glog(' + n + ')');\n        }\n        return QRMath.LOG_TABLE[n];\n    },\n    gexp: function (n) {\n        while (n < 0) {\n            n += 255;\n        }\n        while (n >= 256) {\n            n -= 255;\n        }\n        return QRMath.EXP_TABLE[n];\n    },\n    EXP_TABLE: new Array(256),\n    LOG_TABLE: new Array(256),\n};\nfor (let i = 0; i < 8; i++) {\n    QRMath.EXP_TABLE[i] = 1 << i;\n}\nfor (let i = 8; i < 256; i++) {\n    QRMath.EXP_TABLE[i] =\n        QRMath.EXP_TABLE[i - 4] ^\n            QRMath.EXP_TABLE[i - 5] ^\n            QRMath.EXP_TABLE[i - 6] ^\n            QRMath.EXP_TABLE[i - 8];\n}\nfor (let i = 0; i < 255; i++) {\n    QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i;\n}\n\nclass QRPolynomial {\n    constructor(num, shift) {\n        if (num.length == undefined) {\n            throw new Error(num.length + '/' + shift);\n        }\n        let offset = 0;\n        while (offset < num.length && num[offset] == 0) {\n            offset++;\n        }\n        this.num = new Array(num.length - offset + shift);\n        for (let i = 0; i < num.length - offset; i++) {\n            this.num[i] = num[i + offset];\n        }\n    }\n    get(index) {\n        return this.num[index];\n    }\n    getLength() {\n        return this.num.length;\n    }\n    multiply(e) {\n        const num = new Array(this.getLength() + e.getLength() - 1);\n        for (let i = 0; i < this.getLength(); i++) {\n            for (let j = 0; j < e.getLength(); j++) {\n                num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j)));\n            }\n        }\n        return new QRPolynomial(num, 0);\n    }\n    mod(e) {\n        if (this.getLength() - e.getLength() < 0) {\n            return this;\n        }\n        const ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0));\n        const num = new Array(this.getLength());\n        for (let i = 0; i < this.getLength(); i++) {\n            num[i] = this.get(i);\n        }\n        for (let i = 0; i < e.getLength(); i++) {\n            num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio);\n        }\n        // recursive call\n        return new QRPolynomial(num, 0).mod(e);\n    }\n}\n\n// ErrorCorrectLevel\nclass QRRSBlock {\n    constructor(totalCount, dataCount) {\n        this.totalCount = totalCount;\n        this.dataCount = dataCount;\n    }\n    static getRSBlocks(typeNumber, errorCorrectLevel) {\n        const rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n        if (rsBlock == undefined) {\n            throw new Error('bad rs block @ typeNumber:' +\n                typeNumber +\n                '/errorCorrectLevel:' +\n                errorCorrectLevel);\n        }\n        const length = rsBlock.length / 3;\n        const list = [];\n        for (let i = 0; i < length; i++) {\n            const count = rsBlock[i * 3 + 0];\n            const totalCount = rsBlock[i * 3 + 1];\n            const dataCount = rsBlock[i * 3 + 2];\n            for (let j = 0; j < count; j++) {\n                list.push(new QRRSBlock(totalCount, dataCount));\n            }\n        }\n        return list;\n    }\n    static getRsBlockTable(typeNumber, errorCorrectLevel) {\n        switch (errorCorrectLevel) {\n            case ErrorCorrectLevel.L:\n                return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n            case ErrorCorrectLevel.M:\n                return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n            case ErrorCorrectLevel.Q:\n                return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n            case ErrorCorrectLevel.H:\n                return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n            default:\n                return undefined;\n        }\n    }\n}\nQRRSBlock.RS_BLOCK_TABLE = [\n    // L\n    // M\n    // Q\n    // H\n    // 1\n    [1, 26, 19],\n    [1, 26, 16],\n    [1, 26, 13],\n    [1, 26, 9],\n    // 2\n    [1, 44, 34],\n    [1, 44, 28],\n    [1, 44, 22],\n    [1, 44, 16],\n    // 3\n    [1, 70, 55],\n    [1, 70, 44],\n    [2, 35, 17],\n    [2, 35, 13],\n    // 4\n    [1, 100, 80],\n    [2, 50, 32],\n    [2, 50, 24],\n    [4, 25, 9],\n    // 5\n    [1, 134, 108],\n    [2, 67, 43],\n    [2, 33, 15, 2, 34, 16],\n    [2, 33, 11, 2, 34, 12],\n    // 6\n    [2, 86, 68],\n    [4, 43, 27],\n    [4, 43, 19],\n    [4, 43, 15],\n    // 7\n    [2, 98, 78],\n    [4, 49, 31],\n    [2, 32, 14, 4, 33, 15],\n    [4, 39, 13, 1, 40, 14],\n    // 8\n    [2, 121, 97],\n    [2, 60, 38, 2, 61, 39],\n    [4, 40, 18, 2, 41, 19],\n    [4, 40, 14, 2, 41, 15],\n    // 9\n    [2, 146, 116],\n    [3, 58, 36, 2, 59, 37],\n    [4, 36, 16, 4, 37, 17],\n    [4, 36, 12, 4, 37, 13],\n    // 10\n    [2, 86, 68, 2, 87, 69],\n    [4, 69, 43, 1, 70, 44],\n    [6, 43, 19, 2, 44, 20],\n    [6, 43, 15, 2, 44, 16],\n    // 11\n    [4, 101, 81],\n    [1, 80, 50, 4, 81, 51],\n    [4, 50, 22, 4, 51, 23],\n    [3, 36, 12, 8, 37, 13],\n    // 12\n    [2, 116, 92, 2, 117, 93],\n    [6, 58, 36, 2, 59, 37],\n    [4, 46, 20, 6, 47, 21],\n    [7, 42, 14, 4, 43, 15],\n    // 13\n    [4, 133, 107],\n    [8, 59, 37, 1, 60, 38],\n    [8, 44, 20, 4, 45, 21],\n    [12, 33, 11, 4, 34, 12],\n    // 14\n    [3, 145, 115, 1, 146, 116],\n    [4, 64, 40, 5, 65, 41],\n    [11, 36, 16, 5, 37, 17],\n    [11, 36, 12, 5, 37, 13],\n    // 15\n    [5, 109, 87, 1, 110, 88],\n    [5, 65, 41, 5, 66, 42],\n    [5, 54, 24, 7, 55, 25],\n    [11, 36, 12],\n    // 16\n    [5, 122, 98, 1, 123, 99],\n    [7, 73, 45, 3, 74, 46],\n    [15, 43, 19, 2, 44, 20],\n    [3, 45, 15, 13, 46, 16],\n    // 17\n    [1, 135, 107, 5, 136, 108],\n    [10, 74, 46, 1, 75, 47],\n    [1, 50, 22, 15, 51, 23],\n    [2, 42, 14, 17, 43, 15],\n    // 18\n    [5, 150, 120, 1, 151, 121],\n    [9, 69, 43, 4, 70, 44],\n    [17, 50, 22, 1, 51, 23],\n    [2, 42, 14, 19, 43, 15],\n    // 19\n    [3, 141, 113, 4, 142, 114],\n    [3, 70, 44, 11, 71, 45],\n    [17, 47, 21, 4, 48, 22],\n    [9, 39, 13, 16, 40, 14],\n    // 20\n    [3, 135, 107, 5, 136, 108],\n    [3, 67, 41, 13, 68, 42],\n    [15, 54, 24, 5, 55, 25],\n    [15, 43, 15, 10, 44, 16],\n    // 21\n    [4, 144, 116, 4, 145, 117],\n    [17, 68, 42],\n    [17, 50, 22, 6, 51, 23],\n    [19, 46, 16, 6, 47, 17],\n    // 22\n    [2, 139, 111, 7, 140, 112],\n    [17, 74, 46],\n    [7, 54, 24, 16, 55, 25],\n    [34, 37, 13],\n    // 23\n    [4, 151, 121, 5, 152, 122],\n    [4, 75, 47, 14, 76, 48],\n    [11, 54, 24, 14, 55, 25],\n    [16, 45, 15, 14, 46, 16],\n    // 24\n    [6, 147, 117, 4, 148, 118],\n    [6, 73, 45, 14, 74, 46],\n    [11, 54, 24, 16, 55, 25],\n    [30, 46, 16, 2, 47, 17],\n    // 25\n    [8, 132, 106, 4, 133, 107],\n    [8, 75, 47, 13, 76, 48],\n    [7, 54, 24, 22, 55, 25],\n    [22, 45, 15, 13, 46, 16],\n    // 26\n    [10, 142, 114, 2, 143, 115],\n    [19, 74, 46, 4, 75, 47],\n    [28, 50, 22, 6, 51, 23],\n    [33, 46, 16, 4, 47, 17],\n    // 27\n    [8, 152, 122, 4, 153, 123],\n    [22, 73, 45, 3, 74, 46],\n    [8, 53, 23, 26, 54, 24],\n    [12, 45, 15, 28, 46, 16],\n    // 28\n    [3, 147, 117, 10, 148, 118],\n    [3, 73, 45, 23, 74, 46],\n    [4, 54, 24, 31, 55, 25],\n    [11, 45, 15, 31, 46, 16],\n    // 29\n    [7, 146, 116, 7, 147, 117],\n    [21, 73, 45, 7, 74, 46],\n    [1, 53, 23, 37, 54, 24],\n    [19, 45, 15, 26, 46, 16],\n    // 30\n    [5, 145, 115, 10, 146, 116],\n    [19, 75, 47, 10, 76, 48],\n    [15, 54, 24, 25, 55, 25],\n    [23, 45, 15, 25, 46, 16],\n    // 31\n    [13, 145, 115, 3, 146, 116],\n    [2, 74, 46, 29, 75, 47],\n    [42, 54, 24, 1, 55, 25],\n    [23, 45, 15, 28, 46, 16],\n    // 32\n    [17, 145, 115],\n    [10, 74, 46, 23, 75, 47],\n    [10, 54, 24, 35, 55, 25],\n    [19, 45, 15, 35, 46, 16],\n    // 33\n    [17, 145, 115, 1, 146, 116],\n    [14, 74, 46, 21, 75, 47],\n    [29, 54, 24, 19, 55, 25],\n    [11, 45, 15, 46, 46, 16],\n    // 34\n    [13, 145, 115, 6, 146, 116],\n    [14, 74, 46, 23, 75, 47],\n    [44, 54, 24, 7, 55, 25],\n    [59, 46, 16, 1, 47, 17],\n    // 35\n    [12, 151, 121, 7, 152, 122],\n    [12, 75, 47, 26, 76, 48],\n    [39, 54, 24, 14, 55, 25],\n    [22, 45, 15, 41, 46, 16],\n    // 36\n    [6, 151, 121, 14, 152, 122],\n    [6, 75, 47, 34, 76, 48],\n    [46, 54, 24, 10, 55, 25],\n    [2, 45, 15, 64, 46, 16],\n    // 37\n    [17, 152, 122, 4, 153, 123],\n    [29, 74, 46, 14, 75, 47],\n    [49, 54, 24, 10, 55, 25],\n    [24, 45, 15, 46, 46, 16],\n    // 38\n    [4, 152, 122, 18, 153, 123],\n    [13, 74, 46, 32, 75, 47],\n    [48, 54, 24, 14, 55, 25],\n    [42, 45, 15, 32, 46, 16],\n    // 39\n    [20, 147, 117, 4, 148, 118],\n    [40, 75, 47, 7, 76, 48],\n    [43, 54, 24, 22, 55, 25],\n    [10, 45, 15, 67, 46, 16],\n    // 40\n    [19, 148, 118, 6, 149, 119],\n    [18, 75, 47, 31, 76, 48],\n    [34, 54, 24, 34, 55, 25],\n    [20, 45, 15, 61, 46, 16],\n];\n\nconst QRMaskPattern = {\n    PATTERN000: 0,\n    PATTERN001: 1,\n    PATTERN010: 2,\n    PATTERN011: 3,\n    PATTERN100: 4,\n    PATTERN101: 5,\n    PATTERN110: 6,\n    PATTERN111: 7,\n};\nconst QRUtil = {\n    PATTERN_POSITION_TABLE: [\n        [],\n        [6, 18],\n        [6, 22],\n        [6, 26],\n        [6, 30],\n        [6, 34],\n        [6, 22, 38],\n        [6, 24, 42],\n        [6, 26, 46],\n        [6, 28, 50],\n        [6, 30, 54],\n        [6, 32, 58],\n        [6, 34, 62],\n        [6, 26, 46, 66],\n        [6, 26, 48, 70],\n        [6, 26, 50, 74],\n        [6, 30, 54, 78],\n        [6, 30, 56, 82],\n        [6, 30, 58, 86],\n        [6, 34, 62, 90],\n        [6, 28, 50, 72, 94],\n        [6, 26, 50, 74, 98],\n        [6, 30, 54, 78, 102],\n        [6, 28, 54, 80, 106],\n        [6, 32, 58, 84, 110],\n        [6, 30, 58, 86, 114],\n        [6, 34, 62, 90, 118],\n        [6, 26, 50, 74, 98, 122],\n        [6, 30, 54, 78, 102, 126],\n        [6, 26, 52, 78, 104, 130],\n        [6, 30, 56, 82, 108, 134],\n        [6, 34, 60, 86, 112, 138],\n        [6, 30, 58, 86, 114, 142],\n        [6, 34, 62, 90, 118, 146],\n        [6, 30, 54, 78, 102, 126, 150],\n        [6, 24, 50, 76, 102, 128, 154],\n        [6, 28, 54, 80, 106, 132, 158],\n        [6, 32, 58, 84, 110, 136, 162],\n        [6, 26, 54, 82, 110, 138, 166],\n        [6, 30, 58, 86, 114, 142, 170],\n    ],\n    G15: (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n    G18: (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n    G15_MASK: (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1),\n    getBCHTypeInfo: function (data) {\n        let d = data << 10;\n        while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n            d ^= QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15));\n        }\n        return ((data << 10) | d) ^ QRUtil.G15_MASK;\n    },\n    getBCHTypeNumber: function (data) {\n        let d = data << 12;\n        while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n            d ^= QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18));\n        }\n        return (data << 12) | d;\n    },\n    getBCHDigit: function (data) {\n        let digit = 0;\n        while (data != 0) {\n            digit++;\n            data >>>= 1;\n        }\n        return digit;\n    },\n    getPatternPosition: function (typeNumber) {\n        return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1];\n    },\n    getMask: function (maskPattern, i, j) {\n        switch (maskPattern) {\n            case QRMaskPattern.PATTERN000:\n                return (i + j) % 2 == 0;\n            case QRMaskPattern.PATTERN001:\n                return i % 2 == 0;\n            case QRMaskPattern.PATTERN010:\n                return j % 3 == 0;\n            case QRMaskPattern.PATTERN011:\n                return (i + j) % 3 == 0;\n            case QRMaskPattern.PATTERN100:\n                return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\n            case QRMaskPattern.PATTERN101:\n                return ((i * j) % 2) + ((i * j) % 3) == 0;\n            case QRMaskPattern.PATTERN110:\n                return (((i * j) % 2) + ((i * j) % 3)) % 2 == 0;\n            case QRMaskPattern.PATTERN111:\n                return (((i * j) % 3) + ((i + j) % 2)) % 2 == 0;\n            default:\n                throw new Error('bad maskPattern:' + maskPattern);\n        }\n    },\n    getErrorCorrectPolynomial: function (errorCorrectLength) {\n        let a = new QRPolynomial([1], 0);\n        for (let i = 0; i < errorCorrectLength; i++) {\n            a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0));\n        }\n        return a;\n    },\n    getLengthInBits: function (mode, type) {\n        if (1 <= type && type < 10) {\n            // 1 - 9\n            switch (mode) {\n                case Mode.MODE_NUMBER:\n                    return 10;\n                case Mode.MODE_ALPHA_NUM:\n                    return 9;\n                case Mode.MODE_8BIT_BYTE:\n                    return 8;\n                case Mode.MODE_KANJI:\n                    return 8;\n                default:\n                    throw new Error('mode:' + mode);\n            }\n        }\n        else if (type < 27) {\n            // 10 - 26\n            switch (mode) {\n                case Mode.MODE_NUMBER:\n                    return 12;\n                case Mode.MODE_ALPHA_NUM:\n                    return 11;\n                case Mode.MODE_8BIT_BYTE:\n                    return 16;\n                case Mode.MODE_KANJI:\n                    return 10;\n                default:\n                    throw new Error('mode:' + mode);\n            }\n        }\n        else if (type < 41) {\n            // 27 - 40\n            switch (mode) {\n                case Mode.MODE_NUMBER:\n                    return 14;\n                case Mode.MODE_ALPHA_NUM:\n                    return 13;\n                case Mode.MODE_8BIT_BYTE:\n                    return 16;\n                case Mode.MODE_KANJI:\n                    return 12;\n                default:\n                    throw new Error('mode:' + mode);\n            }\n        }\n        else {\n            throw new Error('type:' + type);\n        }\n    },\n    getLostPoint: function (qrCode) {\n        const moduleCount = qrCode.getModuleCount();\n        let lostPoint = 0;\n        // LEVEL1\n        for (let row = 0; row < moduleCount; row++) {\n            for (let col = 0; col < moduleCount; col++) {\n                let sameCount = 0;\n                const dark = qrCode.isDark(row, col);\n                for (let r = -1; r <= 1; r++) {\n                    if (row + r < 0 || moduleCount <= row + r) {\n                        continue;\n                    }\n                    for (let c = -1; c <= 1; c++) {\n                        if (col + c < 0 || moduleCount <= col + c) {\n                            continue;\n                        }\n                        if (r == 0 && c == 0) {\n                            continue;\n                        }\n                        if (dark == qrCode.isDark(row + r, col + c)) {\n                            sameCount++;\n                        }\n                    }\n                }\n                if (sameCount > 5) {\n                    lostPoint += 3 + sameCount - 5;\n                }\n            }\n        }\n        // LEVEL2\n        for (let row = 0; row < moduleCount - 1; row++) {\n            for (let col = 0; col < moduleCount - 1; col++) {\n                let count = 0;\n                if (qrCode.isDark(row, col))\n                    count++;\n                if (qrCode.isDark(row + 1, col))\n                    count++;\n                if (qrCode.isDark(row, col + 1))\n                    count++;\n                if (qrCode.isDark(row + 1, col + 1))\n                    count++;\n                if (count == 0 || count == 4) {\n                    lostPoint += 3;\n                }\n            }\n        }\n        // LEVEL3\n        for (let row = 0; row < moduleCount; row++) {\n            for (let col = 0; col < moduleCount - 6; col++) {\n                if (qrCode.isDark(row, col) &&\n                    !qrCode.isDark(row, col + 1) &&\n                    qrCode.isDark(row, col + 2) &&\n                    qrCode.isDark(row, col + 3) &&\n                    qrCode.isDark(row, col + 4) &&\n                    !qrCode.isDark(row, col + 5) &&\n                    qrCode.isDark(row, col + 6)) {\n                    lostPoint += 40;\n                }\n            }\n        }\n        for (let col = 0; col < moduleCount; col++) {\n            for (let row = 0; row < moduleCount - 6; row++) {\n                if (qrCode.isDark(row, col) &&\n                    !qrCode.isDark(row + 1, col) &&\n                    qrCode.isDark(row + 2, col) &&\n                    qrCode.isDark(row + 3, col) &&\n                    qrCode.isDark(row + 4, col) &&\n                    !qrCode.isDark(row + 5, col) &&\n                    qrCode.isDark(row + 6, col)) {\n                    lostPoint += 40;\n                }\n            }\n        }\n        // LEVEL4\n        let darkCount = 0;\n        for (let col = 0; col < moduleCount; col++) {\n            for (let row = 0; row < moduleCount; row++) {\n                if (qrCode.isDark(row, col)) {\n                    darkCount++;\n                }\n            }\n        }\n        const ratio = Math.abs((100 * darkCount) / moduleCount / moduleCount - 50) / 5;\n        lostPoint += ratio * 10;\n        return lostPoint;\n    },\n};\n\nclass QRCode {\n    constructor(typeNumber, errorCorrectLevel) {\n        this.typeNumber = typeNumber;\n        this.errorCorrectLevel = errorCorrectLevel;\n        this.modules = null;\n        this.moduleCount = 0;\n        this.dataCache = null;\n        this.dataList = [];\n    }\n    addData(data) {\n        const newData = new QR8bitByte(data);\n        this.dataList.push(newData);\n        this.dataCache = null;\n    }\n    isDark(row, col) {\n        if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n            throw new Error(row + ',' + col);\n        }\n        return this.modules[row][col];\n    }\n    getModuleCount() {\n        return this.moduleCount;\n    }\n    make() {\n        // Calculate automatically typeNumber if provided is < 1\n        if (this.typeNumber < 1) {\n            let typeNumber = 1;\n            for (typeNumber = 1; typeNumber < 40; typeNumber++) {\n                const rsBlocks = QRRSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n                const buffer = new QRBitBuffer();\n                let totalDataCount = 0;\n                for (let i = 0; i < rsBlocks.length; i++) {\n                    totalDataCount += rsBlocks[i].dataCount;\n                }\n                for (let i = 0; i < this.dataList.length; i++) {\n                    const data = this.dataList[i];\n                    buffer.put(data.mode, 4);\n                    buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));\n                    data.write(buffer);\n                }\n                if (buffer.getLengthInBits() <= totalDataCount * 8)\n                    break;\n            }\n            this.typeNumber = typeNumber;\n        }\n        this.makeImpl(false, this.getBestMaskPattern());\n    }\n    makeImpl(test, maskPattern) {\n        this.moduleCount = this.typeNumber * 4 + 17;\n        this.modules = new Array(this.moduleCount);\n        for (let row = 0; row < this.moduleCount; row++) {\n            this.modules[row] = new Array(this.moduleCount);\n            for (let col = 0; col < this.moduleCount; col++) {\n                this.modules[row][col] = null; //(col + row) % 3;\n            }\n        }\n        this.setupPositionProbePattern(0, 0);\n        this.setupPositionProbePattern(this.moduleCount - 7, 0);\n        this.setupPositionProbePattern(0, this.moduleCount - 7);\n        this.setupPositionAdjustPattern();\n        this.setupTimingPattern();\n        this.setupTypeInfo(test, maskPattern);\n        if (this.typeNumber >= 7) {\n            this.setupTypeNumber(test);\n        }\n        if (this.dataCache == null) {\n            this.dataCache = QRCode.createData(this.typeNumber, this.errorCorrectLevel, this.dataList);\n        }\n        this.mapData(this.dataCache, maskPattern);\n    }\n    setupPositionProbePattern(row, col) {\n        for (let r = -1; r <= 7; r++) {\n            if (row + r <= -1 || this.moduleCount <= row + r)\n                continue;\n            for (let c = -1; c <= 7; c++) {\n                if (col + c <= -1 || this.moduleCount <= col + c)\n                    continue;\n                if ((0 <= r && r <= 6 && (c == 0 || c == 6)) ||\n                    (0 <= c && c <= 6 && (r == 0 || r == 6)) ||\n                    (2 <= r && r <= 4 && 2 <= c && c <= 4)) {\n                    this.modules[row + r][col + c] = true;\n                }\n                else {\n                    this.modules[row + r][col + c] = false;\n                }\n            }\n        }\n    }\n    getBestMaskPattern() {\n        let minLostPoint = 0;\n        let pattern = 0;\n        for (let i = 0; i < 8; i++) {\n            this.makeImpl(true, i);\n            const lostPoint = QRUtil.getLostPoint(this);\n            if (i == 0 || minLostPoint > lostPoint) {\n                minLostPoint = lostPoint;\n                pattern = i;\n            }\n        }\n        return pattern;\n    }\n    setupTimingPattern() {\n        for (let r = 8; r < this.moduleCount - 8; r++) {\n            if (this.modules[r][6] != null) {\n                continue;\n            }\n            this.modules[r][6] = r % 2 == 0;\n        }\n        for (let c = 8; c < this.moduleCount - 8; c++) {\n            if (this.modules[6][c] != null) {\n                continue;\n            }\n            this.modules[6][c] = c % 2 == 0;\n        }\n    }\n    setupPositionAdjustPattern() {\n        const pos = QRUtil.getPatternPosition(this.typeNumber);\n        for (let i = 0; i < pos.length; i++) {\n            for (let j = 0; j < pos.length; j++) {\n                const row = pos[i];\n                const col = pos[j];\n                if (this.modules[row][col] != null) {\n                    continue;\n                }\n                for (let r = -2; r <= 2; r++) {\n                    for (let c = -2; c <= 2; c++) {\n                        if (r == -2 || r == 2 || c == -2 || c == 2 || (r == 0 && c == 0)) {\n                            this.modules[row + r][col + c] = true;\n                        }\n                        else {\n                            this.modules[row + r][col + c] = false;\n                        }\n                    }\n                }\n            }\n        }\n    }\n    setupTypeNumber(test) {\n        const bits = QRUtil.getBCHTypeNumber(this.typeNumber);\n        for (let i = 0; i < 18; i++) {\n            const mod = !test && ((bits >> i) & 1) == 1;\n            this.modules[Math.floor(i / 3)][(i % 3) + this.moduleCount - 8 - 3] = mod;\n        }\n        for (let i = 0; i < 18; i++) {\n            const mod = !test && ((bits >> i) & 1) == 1;\n            this.modules[(i % 3) + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n        }\n    }\n    setupTypeInfo(test, maskPattern) {\n        const data = (this.errorCorrectLevel << 3) | maskPattern;\n        const bits = QRUtil.getBCHTypeInfo(data);\n        // vertical\n        for (let i = 0; i < 15; i++) {\n            const mod = !test && ((bits >> i) & 1) == 1;\n            if (i < 6) {\n                this.modules[i][8] = mod;\n            }\n            else if (i < 8) {\n                this.modules[i + 1][8] = mod;\n            }\n            else {\n                this.modules[this.moduleCount - 15 + i][8] = mod;\n            }\n        }\n        // horizontal\n        for (let i = 0; i < 15; i++) {\n            const mod = !test && ((bits >> i) & 1) == 1;\n            if (i < 8) {\n                this.modules[8][this.moduleCount - i - 1] = mod;\n            }\n            else if (i < 9) {\n                this.modules[8][15 - i - 1 + 1] = mod;\n            }\n            else {\n                this.modules[8][15 - i - 1] = mod;\n            }\n        }\n        // fixed module\n        this.modules[this.moduleCount - 8][8] = !test;\n    }\n    mapData(data, maskPattern) {\n        let inc = -1;\n        let row = this.moduleCount - 1;\n        let bitIndex = 7;\n        let byteIndex = 0;\n        for (let col = this.moduleCount - 1; col > 0; col -= 2) {\n            if (col == 6)\n                col--;\n            for (;;) {\n                for (let c = 0; c < 2; c++) {\n                    if (this.modules[row][col - c] == null) {\n                        let dark = false;\n                        if (byteIndex < data.length) {\n                            dark = ((data[byteIndex] >>> bitIndex) & 1) == 1;\n                        }\n                        const mask = QRUtil.getMask(maskPattern, row, col - c);\n                        if (mask) {\n                            dark = !dark;\n                        }\n                        this.modules[row][col - c] = dark;\n                        bitIndex--;\n                        if (bitIndex == -1) {\n                            byteIndex++;\n                            bitIndex = 7;\n                        }\n                    }\n                }\n                row += inc;\n                if (row < 0 || this.moduleCount <= row) {\n                    row -= inc;\n                    inc = -inc;\n                    break;\n                }\n            }\n        }\n    }\n    static createData(typeNumber, errorCorrectLevel, dataList) {\n        const rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n        const buffer = new QRBitBuffer();\n        for (let i = 0; i < dataList.length; i++) {\n            const data = dataList[i];\n            buffer.put(data.mode, 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));\n            data.write(buffer);\n        }\n        // calc num max data.\n        let totalDataCount = 0;\n        for (let i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n        }\n        if (buffer.getLengthInBits() > totalDataCount * 8) {\n            throw new Error('code length overflow. (' +\n                buffer.getLengthInBits() +\n                '>' +\n                totalDataCount * 8 +\n                ')');\n        }\n        // end code\n        if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n            buffer.put(0, 4);\n        }\n        // padding\n        while (buffer.getLengthInBits() % 8 != 0) {\n            buffer.putBit(false);\n        }\n        // padding\n        for (;;) {\n            if (buffer.getLengthInBits() >= totalDataCount * 8) {\n                break;\n            }\n            buffer.put(QRCode.PAD0, 8);\n            if (buffer.getLengthInBits() >= totalDataCount * 8) {\n                break;\n            }\n            buffer.put(QRCode.PAD1, 8);\n        }\n        return QRCode.createBytes(buffer, rsBlocks);\n    }\n    static createBytes(buffer, rsBlocks) {\n        let offset = 0;\n        let maxDcCount = 0;\n        let maxEcCount = 0;\n        const dcdata = new Array(rsBlocks.length);\n        const ecdata = new Array(rsBlocks.length);\n        for (let r = 0; r < rsBlocks.length; r++) {\n            const dcCount = rsBlocks[r].dataCount;\n            const ecCount = rsBlocks[r].totalCount - dcCount;\n            maxDcCount = Math.max(maxDcCount, dcCount);\n            maxEcCount = Math.max(maxEcCount, ecCount);\n            dcdata[r] = new Array(dcCount);\n            for (let i = 0; i < dcdata[r].length; i++) {\n                dcdata[r][i] = 0xff & buffer.buffer[i + offset];\n            }\n            offset += dcCount;\n            const rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n            const rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);\n            const modPoly = rawPoly.mod(rsPoly);\n            ecdata[r] = new Array(rsPoly.getLength() - 1);\n            for (let i = 0; i < ecdata[r].length; i++) {\n                const modIndex = i + modPoly.getLength() - ecdata[r].length;\n                ecdata[r][i] = modIndex >= 0 ? modPoly.get(modIndex) : 0;\n            }\n        }\n        let totalCodeCount = 0;\n        for (let i = 0; i < rsBlocks.length; i++) {\n            totalCodeCount += rsBlocks[i].totalCount;\n        }\n        const data = new Array(totalCodeCount);\n        let index = 0;\n        for (let i = 0; i < maxDcCount; i++) {\n            for (let r = 0; r < rsBlocks.length; r++) {\n                if (i < dcdata[r].length) {\n                    data[index++] = dcdata[r][i];\n                }\n            }\n        }\n        for (let i = 0; i < maxEcCount; i++) {\n            for (let r = 0; r < rsBlocks.length; r++) {\n                if (i < ecdata[r].length) {\n                    data[index++] = ecdata[r][i];\n                }\n            }\n        }\n        return data;\n    }\n}\nQRCode.PAD0 = 0xec;\nQRCode.PAD1 = 0x11;\n\n/**\n * Generate QR SVG\n * @author Johan Nordberg <code@johan-nordberg.com>\n */\nfunction generate(text, level = 'L', version = -1) {\n    const qr = new QRCode(version, ErrorCorrectLevel[level]);\n    const rects = [];\n    qr.addData(text);\n    qr.make();\n    const rows = qr.modules;\n    const size = rows.length;\n    for (const [y, row] of rows.entries()) {\n        let rect;\n        for (const [x, on] of row.entries()) {\n            if (on) {\n                if (!rect)\n                    rect = { x, y, width: 0, height: 1 };\n                rect.width++;\n            }\n            else {\n                if (rect && rect.width > 0) {\n                    rects.push(rect);\n                }\n                rect = undefined;\n            }\n        }\n        if (rect && rect.width > 0) {\n            rects.push(rect);\n        }\n    }\n    const svg = [`<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${size} ${size}\">`];\n    for (const { x, y, width, height } of rects) {\n        svg.push(`<rect x=\"${x}\" y=\"${y}\" width=\"${width}\" height=\"${height}\" />`);\n    }\n    svg.push('</svg>');\n    return svg.join('');\n}\n\nasync function apiCall(url, body) {\n    return (await fetch(url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: body ? JSON.stringify(body) : undefined,\n    })).json();\n}\nconst version = 'fuel/2';\n/** Return true if otherVersion is same or greater than current fuel version. */\nfunction compareVersion(otherVersion) {\n    return parseVersion(otherVersion) >= parseVersion(version);\n}\nfunction parseVersion(string) {\n    const parts = string.trim().split('/');\n    if (parts.length === 2 && parts[0] === 'fuel') {\n        return parseInt(parts[1]) || 0;\n    }\n    return -1;\n}\nasync function fuel(request, session, updatePrepareStatus, supportedChains, referrer) {\n    assertEligible(request, session);\n    updatePrepareStatus('Detecting if network resources are required.');\n    const chainId = request.getChainId();\n    const nodeUrl = supportedChains[String(chainId)];\n    if (!nodeUrl) {\n        throw new Error(`Blockchain not supported by this resource provider.`);\n    }\n    const result = await apiCall(nodeUrl + '/v1/resource_provider/request_transaction', {\n        ref: referrer,\n        request,\n        signer: session.auth,\n    });\n    if (!result || !result.data) {\n        throw new Error('Invalid response from resource provider.');\n    }\n    if (!result.data.signatures || !result.data.signatures[0]) {\n        throw new Error('No signature returned from resource provider.');\n    }\n    if (result.code === 402 && !result.data.fee) {\n        throw new Error('Resource provider returned a response indicating required payment, but provided no fee amount.');\n    }\n    // Clone the request for modification\n    const cloned = request.clone();\n    // Set the required fee onto the request for signature providers\n    if (result.code === 402) {\n        if (request.getInfoKey('no_fee')) {\n            throw new Error('Fee required but sender opted out.');\n        }\n        cloned.setInfoKey('txfee', result.data.fee);\n    }\n    // If the fee costs exist, set them on the request for the signature provider to consume\n    if (result.data.costs) {\n        cloned.setInfoKey('txfeecpu', result.data.costs.cpu);\n        cloned.setInfoKey('txfeenet', result.data.costs.net);\n        cloned.setInfoKey('txfeeram', result.data.costs.ram);\n    }\n    // Set the cosigner signature onto the request for signature providers\n    const signatures = result.data.signatures.map((s) => Signature.from(s));\n    cloned.setInfoKey('cosig', signatures, { type: Signature, array: true });\n    // Modify the request based on the response from the API\n    cloned.data.req = (await SigningRequest.create({ transaction: { ...result.data.request[1] } }, { abiProvider: request.abiProvider })).data.req;\n    return cloned;\n}\nfunction assertEligible(request, session) {\n    if (request.getRawInfoKey('no_modify')) {\n        throw new Error('Request cannot be modified.');\n    }\n    if (request.isIdentity()) {\n        throw new Error('Identity requests cannot be co-signed.');\n    }\n    const firstAction = request.getRawActions()[0];\n    if (!firstAction) {\n        throw new Error('No actions in request.');\n    }\n    const firstAuthorizer = firstAction.authorization[0];\n    if (!firstAction) {\n        throw new Error('First authorization missing.');\n    }\n    if (!firstAuthorizer.actor.equals(session.auth.actor) &&\n        !firstAuthorizer.actor.equals(PlaceholderName)) {\n        throw new Error('Not first authorizer.');\n    }\n}\n\nconst AbortPrepare = Symbol();\nconst SkipFee = Symbol();\nconst defaultSupportedChains = {\n    aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906: 'https://eos.greymass.com',\n    '2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840': 'https://jungle3.greymass.com',\n    '4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11': 'https://telos.greymass.com',\n    '1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4': 'https://wax.greymass.com',\n};\nclass Storage {\n    constructor(keyPrefix) {\n        this.keyPrefix = keyPrefix;\n    }\n    async write(key, data) {\n        localStorage.setItem(this.storageKey(key), data);\n    }\n    async read(key) {\n        return localStorage.getItem(this.storageKey(key));\n    }\n    async remove(key) {\n        localStorage.removeItem(this.storageKey(key));\n    }\n    storageKey(key) {\n        return `${this.keyPrefix}-${key}`;\n    }\n}\nclass BrowserTransport {\n    constructor(options = {}) {\n        this.options = options;\n        this.classPrefix = options.classPrefix || 'anchor-link';\n        this.injectStyles = !(options.injectStyles === false);\n        this.importantStyles = !(options.importantStyles === false);\n        this.requestStatus = !(options.requestStatus === false);\n        this.fuelEnabled = options.disableGreymassFuel !== true;\n        this.fuelReferrer = options.fuelReferrer || 'teamgreymass';\n        this.storage = new Storage(options.storagePrefix || 'anchor-link');\n        this.supportedChains = options.supportedChains || defaultSupportedChains;\n    }\n    closeModal() {\n        this.hide();\n        if (this.activeCancel) {\n            this.activeRequest = undefined;\n            this.activeCancel('Modal closed');\n            this.activeCancel = undefined;\n        }\n    }\n    setupElements() {\n        if (this.injectStyles && !this.styleEl) {\n            this.styleEl = document.createElement('style');\n            this.styleEl.type = 'text/css';\n            let css = styleText.replace(/%prefix%/g, this.classPrefix);\n            if (this.importantStyles) {\n                css = css\n                    .split('\\n')\n                    .map((line) => line.replace(/;$/i, ' !important;'))\n                    .join('\\n');\n            }\n            this.styleEl.appendChild(document.createTextNode(css));\n            document.head.appendChild(this.styleEl);\n        }\n        if (!this.containerEl) {\n            this.containerEl = this.createEl();\n            this.containerEl.className = this.classPrefix;\n            this.containerEl.onclick = (event) => {\n                if (event.target === this.containerEl) {\n                    event.stopPropagation();\n                    this.closeModal();\n                }\n            };\n            document.body.appendChild(this.containerEl);\n        }\n        if (!this.requestEl) {\n            const wrapper = this.createEl({ class: 'inner' });\n            const closeButton = this.createEl({ class: 'close' });\n            closeButton.onclick = (event) => {\n                event.stopPropagation();\n                this.closeModal();\n            };\n            this.requestEl = this.createEl({ class: 'request' });\n            wrapper.appendChild(this.requestEl);\n            wrapper.appendChild(closeButton);\n            const version = this.createEl({\n                class: 'version',\n                text: `${BrowserTransport.version} (${Link.version})`,\n            });\n            version.onclick = (event) => {\n                event.stopPropagation();\n                window.open('https://github.com/greymass/anchor-link', '_blank');\n            };\n            wrapper.appendChild(version);\n            this.containerEl.appendChild(wrapper);\n        }\n    }\n    createEl(attrs) {\n        if (!attrs)\n            attrs = {};\n        const el = document.createElement(attrs.tag || 'div');\n        if (attrs) {\n            for (const attr of Object.keys(attrs)) {\n                const value = attrs[attr];\n                switch (attr) {\n                    case 'src':\n                        el.setAttribute(attr, value);\n                        break;\n                    case 'tag':\n                        break;\n                    case 'text':\n                        el.appendChild(document.createTextNode(value));\n                        break;\n                    case 'class':\n                        el.className = `${this.classPrefix}-${value}`;\n                        break;\n                    default:\n                        el.setAttribute(attr, value);\n                }\n            }\n        }\n        return el;\n    }\n    hide() {\n        if (this.containerEl) {\n            this.containerEl.classList.remove(`${this.classPrefix}-active`);\n        }\n        this.clearTimers();\n    }\n    show() {\n        if (this.containerEl) {\n            this.containerEl.classList.add(`${this.classPrefix}-active`);\n        }\n    }\n    async displayRequest(request) {\n        this.setupElements();\n        const sameDeviceRequest = request.clone();\n        const returnUrl = generateReturnUrl();\n        sameDeviceRequest.setInfoKey('same_device', true);\n        sameDeviceRequest.setInfoKey('return_path', returnUrl);\n        const sameDeviceUri = sameDeviceRequest.encode(true, false);\n        const crossDeviceUri = request.encode(true, false);\n        const isIdentity = request.isIdentity();\n        const title = isIdentity ? 'Login' : 'Sign';\n        const subtitle = 'Scan the QR-code with Anchor on another device or use the button to open Anchor on this device.';\n        const qrEl = this.createEl({ class: 'qr' });\n        try {\n            qrEl.innerHTML = generate(crossDeviceUri);\n        }\n        catch (error) {\n            // eslint-disable-next-line no-console\n            console.warn('Unable to generate QR code', error);\n        }\n        const linkEl = this.createEl({ class: 'uri' });\n        const linkA = this.createEl({\n            tag: 'a',\n            class: 'button',\n            href: crossDeviceUri,\n            text: 'Launch Anchor',\n        });\n        linkEl.appendChild(linkA);\n        if (isFirefox() || isBrave()) {\n            // this prevents firefox/brave from killing the websocket connection once the link is clicked\n            const iframe = this.createEl({\n                class: 'wskeepalive',\n                src: 'about:blank',\n                tag: 'iframe',\n            });\n            linkEl.appendChild(iframe);\n            linkA.addEventListener('click', (event) => {\n                event.preventDefault();\n                iframe.setAttribute('src', sameDeviceUri);\n            });\n        }\n        else {\n            linkA.addEventListener('click', (event) => {\n                event.preventDefault();\n                window.location.href = sameDeviceUri;\n            });\n        }\n        const infoEl = this.createEl({ class: 'info' });\n        const infoTitle = this.createEl({ class: 'title', tag: 'span', text: title });\n        const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n        infoEl.appendChild(infoTitle);\n        infoEl.appendChild(infoSubtitle);\n        const actionEl = this.createEl({ class: 'actions' });\n        actionEl.appendChild(qrEl);\n        actionEl.appendChild(linkEl);\n        let footnoteEl;\n        if (isIdentity) {\n            footnoteEl = this.createEl({ class: 'footnote', text: \"Don't have Anchor yet? \" });\n            const footnoteLink = this.createEl({\n                tag: 'a',\n                target: '_blank',\n                href: 'https://greymass.com/anchor',\n                text: 'Download now',\n            });\n            footnoteEl.appendChild(footnoteLink);\n        }\n        else {\n            footnoteEl = this.createEl({\n                class: 'footnote',\n                text: 'Anchor signing is brought to you by ',\n            });\n            const footnoteLink = this.createEl({\n                tag: 'a',\n                target: '_blank',\n                href: 'https://greymass.com',\n                text: 'Greymass',\n            });\n            footnoteEl.appendChild(footnoteLink);\n        }\n        emptyElement(this.requestEl);\n        const logoEl = this.createEl({ class: 'logo' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(infoEl);\n        this.requestEl.appendChild(actionEl);\n        this.requestEl.appendChild(footnoteEl);\n        this.show();\n    }\n    async showLoading() {\n        this.setupElements();\n        emptyElement(this.requestEl);\n        const infoEl = this.createEl({ class: 'info' });\n        const infoTitle = this.createEl({ class: 'title', tag: 'span', text: 'Loading' });\n        const infoSubtitle = this.createEl({\n            class: 'subtitle',\n            tag: 'span',\n            text: 'Preparing request...',\n        });\n        this.prepareStatusEl = infoSubtitle;\n        infoEl.appendChild(infoTitle);\n        infoEl.appendChild(infoSubtitle);\n        const logoEl = this.createEl({ class: 'logo loading' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(infoEl);\n        this.show();\n    }\n    onRequest(request, cancel) {\n        this.activeRequest = request;\n        this.activeCancel = cancel;\n        this.displayRequest(request).catch(cancel);\n    }\n    onSessionRequest(session, request, cancel) {\n        if (session.metadata.sameDevice) {\n            request.setInfoKey('return_path', generateReturnUrl());\n        }\n        if (session.type === 'fallback') {\n            this.onRequest(request, cancel);\n            if (session.metadata.sameDevice) {\n                // trigger directly on a fallback same-device session\n                window.location.href = request.encode();\n            }\n            return;\n        }\n        this.activeRequest = request;\n        this.activeCancel = cancel;\n        this.setupElements();\n        const timeout = session.metadata.timeout || 60 * 1000 * 5;\n        const deviceName = session.metadata.name;\n        const infoTitle = this.createEl({ class: 'title', tag: 'span', text: 'Sign' });\n        const expires = this.getExpiration(request, timeout);\n        const updateCountdown = () => {\n            infoTitle.textContent = `Sign - ${countdownFormat(expires)}`;\n        };\n        this.countdownTimer = setInterval(updateCountdown, 200);\n        updateCountdown();\n        const infoEl = this.createEl({ class: 'info' });\n        infoEl.appendChild(infoTitle);\n        let subtitle;\n        if (deviceName && deviceName.length > 0) {\n            subtitle = `Please open your Anchor Wallet on your device ${deviceName} to review and sign the transaction.`;\n        }\n        else {\n            subtitle = 'Please review and sign the transaction in the linked wallet.';\n        }\n        const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n        infoEl.appendChild(infoSubtitle);\n        emptyElement(this.requestEl);\n        const logoEl = this.createEl({ class: 'logo' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(infoEl);\n        this.show();\n        if (session.metadata.sameDevice) {\n            if (session.metadata.launchUrl) {\n                window.location.href = session.metadata.launchUrl;\n            }\n            else if (isAppleHandheld()) {\n                window.location.href = 'anchor://link';\n            }\n        }\n    }\n    sendSessionPayload(payload, session) {\n        if (!session.metadata.triggerUrl || !session.metadata.sameDevice) {\n            // not same device or no trigger url supported\n            return false;\n        }\n        if (payload.array.length > 700) {\n            // url could be clipped by iOS\n            return false;\n        }\n        window.location.href = session.metadata.triggerUrl.replace('%s', Base64u.encode(payload.array));\n        return true;\n    }\n    clearTimers() {\n        if (this.closeTimer) {\n            clearTimeout(this.closeTimer);\n            this.closeTimer = undefined;\n        }\n        if (this.countdownTimer) {\n            clearTimeout(this.countdownTimer);\n            this.countdownTimer = undefined;\n        }\n    }\n    getExpiration(request, timeout = 0) {\n        // Get expiration of the transaction\n        const { expiration } = request.getRawTransaction();\n        if (expiration.equals(0)) {\n            // If no expiration is present, use the timeout on the session\n            return new Date(Date.now() + timeout);\n        }\n        else {\n            return expiration.toDate();\n        }\n    }\n    async showFee(request, fee) {\n        this.activeRequest = request;\n        const cancelPromise = new Promise((resolve, reject) => {\n            this.activeCancel = (reason) => {\n                let error;\n                if (typeof reason === 'string') {\n                    error = new Error(reason);\n                }\n                else {\n                    error = reason;\n                }\n                error[AbortPrepare] = true;\n                reject(error);\n            };\n        });\n        this.setupElements();\n        emptyElement(this.requestEl);\n        const feeEl = this.createEl({ class: 'fee' });\n        const feeTitle = this.createEl({ class: 'title', tag: 'div', text: 'Transaction Fee' });\n        const feeSubtitle = this.createEl({\n            class: 'subtitle',\n            tag: 'span',\n            text: `Your account lacks the network resources for this transaction and it cannot be covered for free.`,\n        });\n        const feePart1 = this.createEl({\n            tag: 'span',\n            text: 'You can try to ',\n        });\n        const feeBypass = this.createEl({\n            tag: 'a',\n            text: 'proceed without the fee',\n        });\n        const feePart2 = this.createEl({\n            tag: 'span',\n            text: ' or accept the fee shown below to pay for these costs.',\n        });\n        const feeDescription = this.createEl({\n            class: 'subtitle',\n            tag: 'span',\n        });\n        feeDescription.appendChild(feePart1);\n        feeDescription.appendChild(feeBypass);\n        feeDescription.appendChild(feePart2);\n        feeEl.appendChild(feeTitle);\n        feeEl.appendChild(feeSubtitle);\n        feeEl.appendChild(feeDescription);\n        const logoEl = this.createEl({ class: 'fuel' });\n        this.requestEl.appendChild(logoEl);\n        this.requestEl.appendChild(feeEl);\n        const choiceEl = this.createEl({ class: 'choice' });\n        const confirmEl = this.createEl({ tag: 'a', class: 'button', text: `Accept Fee of ${fee}` });\n        const expireEl = this.createEl({ tag: 'span', text: 'Offer expires in --:--' });\n        choiceEl.appendChild(expireEl);\n        choiceEl.appendChild(confirmEl);\n        feeEl.appendChild(choiceEl);\n        const expires = this.getExpiration(request);\n        const expireTimer = setInterval(() => {\n            expireEl.textContent = `Offer expires in ${countdownFormat(expires)}`;\n            if (expires.getTime() < Date.now()) {\n                this.activeCancel('Offer expired');\n            }\n        }, 200);\n        const footnoteEl = this.createEl({\n            class: 'footnote',\n            text: 'Resources offered by ',\n        });\n        const footnoteLink = this.createEl({\n            tag: 'a',\n            target: '_blank',\n            href: 'https://greymass.com/en/fuel',\n            text: 'Greymass Fuel',\n        });\n        footnoteEl.appendChild(footnoteLink);\n        this.requestEl.appendChild(footnoteEl);\n        const skipPromise = waitForEvent(feeBypass, 'click').then(() => {\n            const error = new Error('Skipped fee');\n            error[SkipFee] = true;\n            throw error;\n        });\n        const confirmPromise = waitForEvent(confirmEl, 'click');\n        this.show();\n        await Promise.race([confirmPromise, skipPromise, cancelPromise]).finally(() => {\n            clearInterval(expireTimer);\n        });\n    }\n    async prepare(request, session) {\n        this.showLoading();\n        if (!this.fuelEnabled || !session || request.isIdentity()) {\n            // don't attempt to cosign id request or if we don't have a session attached\n            return request;\n        }\n        if (typeof session.metadata.cosignerVersion === 'string' &&\n            compareVersion(session.metadata.cosignerVersion)) {\n            // if signer has cosigner, only attempt to cosign here if we have a newer version\n            return request;\n        }\n        try {\n            const result = fuel(request, session, (message) => {\n                if (this.prepareStatusEl) {\n                    this.prepareStatusEl.textContent = message;\n                }\n            }, this.supportedChains, this.fuelReferrer);\n            const timeout = new Promise((r) => setTimeout(r, 5000)).then(() => {\n                throw new Error('API timeout after 5000ms');\n            });\n            const modified = await Promise.race([result, timeout]);\n            const fee = modified.getInfoKey('txfee');\n            if (fee) {\n                await this.showFee(modified, String(fee));\n            }\n            return modified;\n        }\n        catch (error) {\n            if (error[AbortPrepare]) {\n                this.hide();\n                throw error;\n            }\n            else {\n                // eslint-disable-next-line no-console\n                console.info(`Skipping resource provider: ${error.message || error}`);\n                if (error[SkipFee]) {\n                    const modified = request.clone();\n                    modified.setInfoKey('no_fee', true, 'bool');\n                    return modified;\n                }\n            }\n        }\n        return request;\n    }\n    onSuccess(request) {\n        if (request === this.activeRequest) {\n            this.clearTimers();\n            if (this.requestStatus) {\n                this.setupElements();\n                const infoEl = this.createEl({ class: 'info' });\n                const logoEl = this.createEl({ class: 'logo' });\n                logoEl.classList.add('success');\n                const infoTitle = this.createEl({ class: 'title', tag: 'span', text: 'Success!' });\n                const subtitle = request.isIdentity() ? 'Login completed.' : 'Transaction signed.';\n                const infoSubtitle = this.createEl({ class: 'subtitle', tag: 'span', text: subtitle });\n                infoEl.appendChild(infoTitle);\n                infoEl.appendChild(infoSubtitle);\n                emptyElement(this.requestEl);\n                this.requestEl.appendChild(logoEl);\n                this.requestEl.appendChild(infoEl);\n                this.show();\n                this.closeTimer = setTimeout(() => {\n                    this.hide();\n                }, 1.5 * 1000);\n            }\n            else {\n                this.hide();\n            }\n        }\n    }\n    onFailure(request, error) {\n        if (request === this.activeRequest && error['code'] !== 'E_CANCEL') {\n            this.clearTimers();\n            if (this.requestStatus) {\n                this.setupElements();\n                const infoEl = this.createEl({ class: 'info' });\n                const logoEl = this.createEl({ class: 'logo' });\n                logoEl.classList.add('error');\n                const infoTitle = this.createEl({\n                    class: 'title',\n                    tag: 'span',\n                    text: 'Transaction Error',\n                });\n                let errorMessage;\n                if (isInstanceOf(error, APIError)) {\n                    if (error.name === 'eosio_assert_message_exception') {\n                        errorMessage = error.details[0].message;\n                    }\n                    else if (error.details.length > 0) {\n                        errorMessage = error.details.map((d) => d.message).join('\\n');\n                    }\n                    else {\n                        errorMessage = error.message;\n                    }\n                }\n                else {\n                    errorMessage = error.message || String(error);\n                }\n                const infoSubtitle = this.createEl({\n                    class: 'subtitle',\n                    tag: 'span',\n                    text: errorMessage,\n                });\n                infoEl.appendChild(infoTitle);\n                infoEl.appendChild(infoSubtitle);\n                emptyElement(this.requestEl);\n                this.requestEl.appendChild(logoEl);\n                this.requestEl.appendChild(infoEl);\n                this.show();\n            }\n            else {\n                this.hide();\n            }\n        }\n        else {\n            this.hide();\n        }\n    }\n    userAgent() {\n        return `BrowserTransport/${BrowserTransport.version} ${navigator.userAgent}`;\n    }\n}\n/** Package version. */\nBrowserTransport.version = '3.1.3'; // replaced by build script\nfunction waitForEvent(element, eventName, timeout) {\n    return new Promise((resolve, reject) => {\n        const listener = (event) => {\n            element.removeEventListener(eventName, listener);\n            resolve(event);\n        };\n        element.addEventListener(eventName, listener);\n        if (timeout) {\n            setTimeout(() => {\n                element.removeEventListener(eventName, listener);\n                reject(new Error(`Timed out waiting for ${eventName}`));\n            }, timeout);\n        }\n    });\n}\nfunction countdownFormat(date) {\n    const timeLeft = date.getTime() - Date.now();\n    if (timeLeft > 0) {\n        return new Date(timeLeft).toISOString().substr(14, 5);\n    }\n    return '00:00';\n}\nfunction emptyElement(el) {\n    while (el.firstChild) {\n        el.removeChild(el.firstChild);\n    }\n}\n/** Generate a return url that Anchor will redirect back to w/o reload. */\nfunction generateReturnUrl() {\n    if (isChromeiOS()) {\n        // google chrome on iOS will always open new tab so we just ask it to open again as a workaround\n        return 'googlechrome://';\n    }\n    if (isFirefoxiOS()) {\n        // same for firefox\n        return 'firefox:://';\n    }\n    if (isAppleHandheld() && isBrave()) {\n        // and brave ios\n        return 'brave://';\n    }\n    if (isAppleHandheld()) {\n        // return url with unique fragment required for iOS safari to trigger the return url\n        const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        let rv = window.location.href.split('#')[0] + '#';\n        for (let i = 0; i < 8; i++) {\n            rv += alphabet.charAt(Math.floor(Math.random() * alphabet.length));\n        }\n        return rv;\n    }\n    if (isAndroid() && isFirefox()) {\n        return 'android-intent://org.mozilla.firefox';\n    }\n    if (isAndroid() && isEdge()) {\n        return 'android-intent://com.microsoft.emmx';\n    }\n    if (isAndroid() && isOpera()) {\n        return 'android-intent://com.opera.browser';\n    }\n    if (isAndroid() && isBrave()) {\n        return 'android-intent://com.brave.browser';\n    }\n    if (isAndroid() && isAndroidWebView()) {\n        return 'android-intent://webview';\n    }\n    if (isAndroid() && isChromeMobile()) {\n        return 'android-intent://com.android.chrome';\n    }\n    return window.location.href;\n}\nfunction isAppleHandheld() {\n    return /iP(ad|od|hone)/i.test(navigator.userAgent);\n}\nfunction isChromeiOS() {\n    return /CriOS/.test(navigator.userAgent);\n}\nfunction isChromeMobile() {\n    return /Chrome\\/[.0-9]* Mobile/i.test(navigator.userAgent);\n}\nfunction isFirefox() {\n    return /Firefox/i.test(navigator.userAgent);\n}\nfunction isFirefoxiOS() {\n    return /FxiOS/.test(navigator.userAgent);\n}\nfunction isOpera() {\n    return /OPR/.test(navigator.userAgent) || /Opera/.test(navigator.userAgent);\n}\nfunction isEdge() {\n    return /Edg/.test(navigator.userAgent);\n}\nfunction isBrave() {\n    return navigator['brave'] && typeof navigator['brave'].isBrave === 'function';\n}\nfunction isAndroid() {\n    return /Android/.test(navigator.userAgent);\n}\nfunction isAndroidWebView() {\n    return /wv/.test(navigator.userAgent);\n}\n\nexport default BrowserTransport;\n//# sourceMappingURL=anchor-link-browser-transport.m.js.map\n","import React, { Component } from 'react'\nimport { Button, Table } from 'semantic-ui-react';\nimport { find } from 'lodash'\n\nimport blockchains from './assets/blockchains.json'\n\nclass Debug extends Component {\n  render() {\n    const { chain, session, sessions } = this.props;\n    return (\n      <Table>\n        <Table.Header>\n          <Table.Row>\n            <Table.HeaderCell collapsing></Table.HeaderCell>\n            <Table.HeaderCell>Blockchain</Table.HeaderCell>\n            <Table.HeaderCell>Account</Table.HeaderCell>\n            <Table.HeaderCell>Permission</Table.HeaderCell>\n            <Table.HeaderCell />\n          </Table.Row>\n        </Table.Header>\n        {(sessions.length)\n          ? (\n            <Table.Body>\n              {sessions.map((s) => {\n                const isCurrent = (\n                  session\n                  && session.auth\n                  && s.auth.actor.equals(session.auth.actor)\n                  && s.auth.permission.equals(session.auth.permission)\n                  && s.chainId.equals(session.chainId)\n                )\n                const chain = find(blockchains, { chainId: String(s.chainId) })\n                const key = Object.values(s.auth).join('-')\n                return (\n                  <Table.Row key={key}>\n                    <Table.Cell collapsing>\n                      <Button\n                        color={isCurrent ? \"blue\" : \"green\"}\n                        content={isCurrent ? \"In Use\" : \"Use Account\"}\n                        disabled={isCurrent}\n                        onClick={() => this.props.setSession(s)}\n                      />\n                    </Table.Cell>\n                    <Table.Cell collapsing textAlign=\"center\">{chain.name}</Table.Cell>\n                    <Table.Cell>{String(s.auth.actor)}</Table.Cell>\n                    <Table.Cell>{String(s.auth.permission)}</Table.Cell>\n                    <Table.Cell collapsing>\n                      <Button\n                        color=\"red\"\n                        icon=\"trash\"\n                        onClick={() => this.props.removeSession(s)}\n                      />\n                    </Table.Cell>\n                  </Table.Row>\n                );\n              })}\n            </Table.Body>\n          )\n          : (\n            <Table.Body>\n              <Table.Row textAlign=\"center\">\n                <Table.Cell colSpan=\"4\">No Accounts Imported</Table.Cell>\n              </Table.Row>\n            </Table.Body>\n          )\n        }\n        <Table.Footer fullWidth>\n          <Table.Row>\n            <Table.HeaderCell />\n            <Table.HeaderCell colSpan=\"4\" textAlign=\"right\">\n              <Button\n                content=\"Add Account\"\n                icon=\"plus circle\"\n                onClick={this.props.addAccount}\n                primary\n              />\n              {(sessions.length)\n                ? (\n                    <Button\n                        color=\"red\"\n                        content=\"Logout All\"\n                        icon=\"trash\"\n                        onClick={() => this.props.clearSessions()}\n                    />\n                )\n                : false\n              }\n            </Table.HeaderCell>\n          </Table.Row>\n        </Table.Footer>\n      </Table>\n    );\n  }\n}\n\nexport default Debug;\n","import React, { Component } from 'react'\nimport { Dropdown } from 'semantic-ui-react';\n\nimport eosLogo from './assets/eos.png';\nimport fioLogo from './assets/fio.svg';\nimport jungleLogo from './assets/jungle.png';\nimport protonLogo from './assets/proton.png';\nimport telosLogo from './assets/telos.png';\nimport waxLogo from './assets/wax.png';\n\nimport blockchains from './assets/blockchains.json';\n\nconst logoMap = {\n  \"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c\": fioLogo,\n  \"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f\": eosLogo,\n  \"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e\": fioLogo,\n  \"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473\": jungleLogo,\n  \"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840\": jungleLogo,\n  \"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd\": protonLogo,\n  \"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f\": telosLogo,\n  \"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12\": waxLogo,\n};\n\nconst options = blockchains.map((chain) => ({\n  key: chain.chainId,\n  text: chain.name,\n  value: chain.chainId,\n  image: {\n    avatar: true,\n    src: logoMap[chain.chainId]\n  },\n}));\n\n\nclass Blockchains extends Component {\n  render() {\n    const { chain } = this.props;\n    return (\n      <Dropdown\n        fluid\n        onChange={this.props.onChange}\n        options={options}\n        placeholder='Select Blockchain...'\n        search\n        selection\n        value={chain.chainId}\n      />\n    );\n  }\n}\n\nexport default Blockchains;\n","import React, { Component } from 'react'\nimport {\n  Button,\n  Container,\n  Form,\n  Header,\n  Segment,\n} from 'semantic-ui-react';\n\nclass Demo extends Component {\n  render() {\n    const { session } = this.props;\n    return (\n      <Container fluid>\n        <Segment\n          secondary\n          style={{\n            height: '100vh'\n          }}\n        >\n          <Container>\n            <Segment basic padded secondary size=\"large\">\n              <Header size=\"large\">\n                EOS Demo Application\n                <Header.Subheader>\n                  Simple app to illustrate Anchor features and integrations.\n                </Header.Subheader>\n              </Header>\n              {(session)\n                ? (\n                  <Segment\n                    attached=\"top\"\n                    textAlign=\"center\"\n                  >\n                    <p>\n                      You are currently signed in as\n                      {' '}\n                      <a href={`https://bloks.io/account/${String(session.auth.actor)}`}>\n                        {String(session.auth.actor)}\n                      </a>\n                      .\n                    </p>\n                    <Button\n                      basic\n                      content={`Sign out`}\n                      icon=\"log out\"\n                      onClick={() => this.props.removeSession(session.auth, session.chainId)}\n                    />\n                  </Segment>\n                )\n                : (\n                  <Segment\n                    textAlign=\"center\"\n                  >\n                    <p>To get started, please sign in with an EOS account!</p>\n                    <Button\n                      content=\"Sign in\"\n                      onClick={this.props.addAccount}\n                      icon=\"user outline\"\n                      primary\n                    />\n                  </Segment>\n                )\n              }\n              {(session)\n                ? (\n                  <Segment attached=\"bottom\" padded>\n                    <p>Sample form to send EOS tokens (will NOT actually send)</p>\n                    <Form>\n                      <Form.Field>\n                        <label>To:</label>\n                        <Form.Input disabled value=\"teamgreymass\" />\n                      </Form.Field>\n                      <Form.Field>\n                        <label>Amount:</label>\n                        <Form.Input disabled value=\"0.0001\" />\n                      </Form.Field>\n                      <Form.Field>\n                        <label>Memo:</label>\n                        <Form.Input disabled />\n                      </Form.Field>\n                    </Form>\n                    <Button\n                      centered\n                      content=\"Transfer Tokens\"\n                      onClick={this.props.signTransaction}\n                      primary\n                      size=\"large\"\n                      style={{ marginTop: '1em' }}\n                    />\n                  </Segment>\n                )\n                : false\n              }\n            </Segment>\n          </Container>\n        </Segment>\n      </Container>\n    );\n  }\n}\n\nexport default Demo;\n","import React, { Component } from 'react'\nimport {\n  Button,\n  Container,\n  Divider,\n  Form,\n  Header,\n  List,\n  Segment,\n} from 'semantic-ui-react';\n\nconst url = \"esr:AwAAAwngdBFc2tA0AAI7aHR0cHM6Ly9jYi5hbmNob3IubGluay9lZGE5OGU2Mi1lNzdmLTQzMjMtYmJhNy0wYjAwNGQ0ZDM0YWYDBGxpbmsqCeB0EVza0DQAA8zPgeqlfIcW5YTDmGtxOmIvthVeViYz75zoCmjKVYhPBXNjb3BlGmFuY2hvci1saW5rLWRlbW8tbXVsdGlwYXNzCWNoYWluX2lkc80BCQABAAwBzwV7v7cmQEcf2RC8tnY5wi35-SRwk2zdwa3g4vLn3E8BsgkBOAr0TvWcWRhDmh-aQdg2aQIDGagFdLgEpflcvX4AAwEqAqAFPlqM9zpWug_aEeTZLgI4pKKqdPzPRtWpEHRoQAFx7oO89SFC1hAZ2V-cxUJ7pqDX_4rM2eIIiuKr6vPT3QEeqggkcHyMFr0lFFSTvwYq7N3-tWxzb2umOX8xlfM8nwHxaxgzx0fENoL0OG_KnLsyeSkzSnYnVevsF_byPJuKEg\"\n\nclass Demo extends Component {\n  button2() {\n    window.location = url\n  }\n  render() {\n    const { session } = this.props;\n    return (\n      <Container fluid>\n        <Segment\n          secondary\n          style={{\n            height: '100vh'\n          }}\n        >\n          <Container>\n            <Segment basic padded secondary size=\"large\">\n              <Header size=\"large\">\n                EOS URI Triggering Demo\n                <Header.Subheader>\n                  Simple app to illustrate different ways to trigger URIs.\n                </Header.Subheader>\n              </Header>\n              {(session)\n                ? (\n                  <Segment\n                    attached=\"top\"\n                    textAlign=\"center\"\n                  >\n                    <p>\n                      You are currently signed in as\n                      {' '}\n                      <a href={`https://bloks.io/account/${String(session.auth.actor)}`}>\n                        {String(session.auth.actor)}\n                      </a>\n                      .\n                    </p>\n                    <Button\n                      basic\n                      content={`Sign out`}\n                      icon=\"log out\"\n                      onClick={() => this.props.removeSession(session)}\n                    />\n                    <Divider />\n                    <Button\n                      color=\"purple\"\n                      content={`Sample Transaction, Vote for Greymass!`}\n                      icon=\"pencil\"\n                      onClick={() => this.props.signTransaction()}\n                    />\n                  </Segment>\n                )\n                : (\n                  <Segment\n                    textAlign=\"center\"\n                  >\n                    <p>To get started, please sign in with an EOS account!</p>\n                    <List>\n                      <List.Item>\n                        <Button\n                          content=\"Sign in\"\n                          onClick={this.props.addAccount}\n                          icon=\"user outline\"\n                          primary\n                        />\n                      </List.Item>\n                    </List>\n                  </Segment>\n                )\n              }\n            </Segment>\n          </Container>\n        </Segment>\n      </Container>\n    );\n  }\n}\n\nexport default Demo;\n","import React, { Component } from 'react'\nimport { Header, Segment } from 'semantic-ui-react';\n\nclass SigningError extends Component {\n  render() {\n    const { error } = this.props;\n    return (\n      <Segment color=\"red\" size=\"large\">\n        <Header size=\"large\">\n          Error while processing request\n        </Header>\n        {error.message}\n      </Segment>\n    );\n  }\n}\n\nexport default SigningError;\n","import React, { Component } from 'react'\nimport { Header, List, Segment } from 'semantic-ui-react';\nimport ReactJson from 'react-json-view';\nimport { CodeBlock, monokai } from 'react-code-blocks'\n\n// import { Serialize } from 'eosjs'\n// const transactionAbi = require('eosjs/src/transaction.abi.json')\n// const transactionTypes: Map<string, Serialize.Type> = Serialize.getTypesFromAbi(Serialize.createInitialTypes(), transactionAbi)\n\nclass Transaction extends Component {\n  testResponse = () => {\n    const { response } = this.props\n    const tests = [\n      {\n        name: \"Signatures returned by signer\",\n        desc: \"The signer has returned signatures in its response.\",\n        test: (r) => !!(r.signatures && r.signatures.length >= 1),\n        data: (r) => JSON.stringify(r.signatures),\n      },\n      {\n        name: \"Unserialized transaction returned by signer\",\n        desc: \"The signer has returned an unserialized transaction in its response.\",\n        test: (r) => !!(r.transaction),\n        data: (r) => JSON.stringify(r.transaction),\n      },\n      {\n        name: \"Serialized transaction returned by signer\",\n        desc: \"The signer has returned a serialized transaction in its response.\",\n        test: (r) => !!(r.serializedTransaction),\n        data: (r) => JSON.stringify(r.serializedTransaction),\n      },\n      {\n        name: \"Serialized transaction successfully deserialized\",\n        desc: \"The serialized transaction the signer returned can be successfully deserialized.\",\n        test: (r) => {\n          // try {\n          //   const tx = this.deserialize(r.serializedTransaction)\n          //   return (\n          //     tx.expiration\n          //     && tx.actions\n          //     && tx.actions.length > 0\n          //     && tx.ref_block_num > 0\n          //     && tx.ref_block_prefix > 0\n          //   )\n          // } catch (e) {\n          //   return false\n          // }\n        },\n        data: (r) => {\n          // try {\n          //   const tx = this.deserialize(r.serializedTransaction)\n          //   return JSON.stringify(tx)\n          // } catch (e) {\n          //   return JSON.stringify({})\n          // }\n        }\n      },\n    ]\n    return tests.map((testCase) => {\n      return {\n        ...testCase,\n        res: testCase.test(response),\n        val: testCase.data(response),\n      }\n    })\n  }\n  deserialize = (serialized) => {\n    // const buffer = new Serialize.SerialBuffer({\n    //   array: serialized,\n    // })\n    // const type = transactionTypes.get('transaction')\n    // return type.deserialize(buffer)\n  }\n  render() {\n    const { response } = this.props;\n    const tests = this.testResponse()\n    return (\n      <React.Fragment>\n        <Segment style={{ overflowX: 'scroll' }}>\n          <List divided relaxed>\n            {tests.map(test => (\n              <List.Item>\n                <List.Icon\n                  color={test.res ? \"green\" : \"red\"}\n                  name={test.res ? \"checkmark\" : \"x\"}\n                  size=\"large\"\n                  verticalAlign=\"top\"\n                />\n                <List.Content>\n                  <List.Header>{test.name}</List.Header>\n                  <List.Description>{test.desc}</List.Description>\n                  <List.Content style={{ margin: '0.5em 0' }}><code>{test.val}</code></List.Content>\n                </List.Content>\n              </List.Item>\n            ))}\n          </List>\n        </Segment>\n        <Segment style={{ background: 'rgb(39, 40, 34)' }}>\n          <Header dividing size=\"large\" style={{ borderBottom: '1px solid white', color: 'white' }}>\n            Callback Payload\n          </Header>\n          <CodeBlock\n            text={`console.log(response.payload);`}\n            language={\"javascript\"}\n            showLineNumbers={false}\n            theme={monokai}\n            wrapLines\n          />\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            enableClipboard={false}\n            iconStyle=\"square\"\n            name={null}\n            src={response.payload}\n            style={{\n              background: 'rgb(39, 40, 34)',\n              marginTop: '1em',\n              overflow: 'scroll',\n            }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n        <Segment style={{ background: 'rgb(39, 40, 34)' }}>\n          <Header dividing size=\"large\" style={{ borderBottom: '1px solid white', color: 'white' }}>\n            Signer\n          </Header>\n          <CodeBlock\n            text={`console.log(response.signer);`}\n            language={\"javascript\"}\n            showLineNumbers={false}\n            theme={monokai}\n            wrapLines\n          />\n          <ReactJson\n            displayDataTypes={false}\n            displayObjectSize={false}\n            enableClipboard={false}\n            iconStyle=\"square\"\n            name={null}\n            src={response.signer}\n            style={{\n              background: 'rgb(39, 40, 34)',\n              marginTop: '1em',\n              overflow: 'scroll',\n            }}\n            theme=\"harmonic\"\n          />\n        </Segment>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Transaction;\n","// React and UI components for demo\nimport React, { Component } from 'react'\nimport { Button, Container, Header, Label, Message, Segment, Table } from 'semantic-ui-react'\n\n// The required anchor-link includes\nimport AnchorLink, {ChainId, LinkSession} from 'anchor-link'\nimport AnchorLinkBrowserTransport from 'anchor-link-browser-transport'\n\n// Optional interfaces to import from anchor-link\nimport { APIError } from '@greymass/eosio'\nimport { IdentityProof } from 'eosio-signing-request'\n\n// React components for this demo, not required\nimport { find } from 'lodash'\nimport blockchains from './assets/blockchains.json'\nimport Accounts from './Accounts.js'\nimport Blockchains from './Blockchains.js'\nimport DemoApp from './Demo.js'\nimport Demo2App from './Demo2.js'\nimport SigningError from './SigningError.js'\nimport Response from './Response.js'\n\nclass App extends Component {\n  // Demo initialization code\n  constructor(props) {\n    super(props)\n    // Add the ability to retrieve the chainId from the URL\n    const search = window.location.search\n    const params = new URLSearchParams(search)\n    const chainId = params.get('chainId') || '2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840'\n    const demoMode = !!params.get('demo')\n    const demo2Mode = !!params.get('demo2')\n    // Set initial blank application state\n    this.state = {\n      account: {},\n      demoMode,\n      demo2Mode,\n      error: undefined,\n      response: undefined,\n      session: undefined,\n      sessions: [],\n      chainId,\n    }\n  }\n  componentDidMount() {\n    // Configure anchor-link when this component mounts\n    this.establishLink()\n  }\n  componentDidUpdate(prevProps, prevState) {\n    // If the chainId changes in state, reconfigure anchor-link for that chain\n    if (this.state.chainId !== prevState.chainId) {\n      this.establishLink()\n    }\n    // Logic to detect user change in state\n    if (\n      this.state.session\n      && prevState.session\n      && !prevState.session.auth.actor.equals(this.state.session.auth.actor)\n    ) {\n      this.refreshAccount()\n    }\n  }\n  refreshAccount = async () => {\n    const {client} = this.link\n    const {actor} = this.state.session.auth\n    const account = await client.v1.chain.get_account(actor)\n    this.setState({\n      account\n    })\n  }\n\n  verifyProof = async (identity) => {\n    // Generate an array of valid chain IDs from the demo configuration\n    const chains = blockchains.map(chain => chain.chainId)\n\n    // Create a proof helper based on the identity results from anchor-link\n    const proof = IdentityProof.from(identity.proof)\n\n    // Check to see if the chainId from the proof is valid for this demo\n    const chain = chains.find(id => ChainId.from(id).equals(proof.chainId))\n    if (!chain) {\n        throw new Error('Unsupported chain supplied in identity proof')\n    }\n\n    // Load the account data from a blockchain API\n    let account\n    try {\n      account = await this.link.client.v1.chain.get_account(proof.signer.actor)\n    } catch (error) {\n        if (error instanceof APIError && error.code === 0) {\n            throw new Error('No such account', 401)\n        } else {\n            throw error\n        }\n    }\n\n    // Retrieve the auth from the permission specified in the proof\n    const auth = account.getPermission(proof.signer.permission).required_auth\n\n    // Determine if the auth is valid with the given proof\n    const valid = proof.verify(auth, account.head_block_time)\n\n    // If not valid, throw error\n    if (!valid) {\n        throw new Error('Proof invalid or expired', 401)\n    }\n\n    // Recover the key from this proof\n    const proofKey = proof.recover();\n\n    // Return the values expected by this demo application\n    return {\n      account,\n      proof,\n      proofKey,\n      proofValid: valid,\n    }\n  }\n  addAccount = async () => {\n    // try {\n      // Use the anchor-link login method with the chain id to establish a session\n      const identity = await this.link.login('anchor-link-demo-multipass')\n\n      // (OPTIONAL) Verify the identity proof\n      const {\n        account,\n        proof,\n        proofKey,\n        proofValid,\n      } = await this.verifyProof(identity)\n\n      // Retrieve a list of all available sessions to update demo state\n      const sessions = await this.link.listSessions('anchor-link-demo-multipass')\n      // Update state with the current session and all available sessions\n      this.setState({\n        account,\n        error: undefined,\n        response: undefined,\n        proof,\n        proofKey: String(proofKey),\n        proofValid,\n        session: identity.session,\n        sessions,\n      })\n    // } catch(e) {\n    //   console.log(e)\n    // }\n  }\n  toSimpleObject = (v) => JSON.parse(JSON.stringify(v))\n  establishLink = async () => {\n    /*\n      Specify the blockchains that are available to use within this application.\n\n      The format is an array of chain definitions:\n\n      {\n        chainId: \"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906\",\n        nodeUrl: \"https://eos.greymass.com\"\n      }\n\n    */\n    // Initialize anchor-link using the local storage persist module\n    this.link = new AnchorLink({\n      // For a list of all options, please visit:\n      //   https://github.com/greymass/anchor-link/blob/eosio-core/src/link-options.ts#L24-L82\n      // ---\n      // REQUIRED: Specify the supported chains\n      chains: blockchains.map(b => ({\n        chainId: b.chainId,\n        nodeUrl: `${b.rpcEndpoints[0].protocol}://${b.rpcEndpoints[0].host}:${b.rpcEndpoints[0].port}`\n      })),\n      // ---\n      // OPTIONAL: Set a custom API Client https://github.com/greymass/eosio-core/blob/master/src/api/client.ts\n      // client: new APIClient(...),\n      // ---\n      // OPTIONAL: Set the callback service, which will default to https://cb.anchor.link\n      // service: 'https://cb.anchor.link',\n      // ---\n      // OPTIONAL: Identity proof verification, defaults to `true`\n      // verifyProofs: false,\n      // ---\n      // REQUIRED: Pass in the browser transport\n      transport: new AnchorLinkBrowserTransport({\n        // For a list of all optons, please visit:\n        //   https://github.com/greymass/anchor-link-browser-transport/blob/eosio-core/src/index.ts#L16-L41\n        // ---\n        // OPTIONAL: Fuel by default is used to sign transactions for users with low resources.\n        //            This can be disabled by setting disableGreymassFuel to true.\n        // disableGreymassFuel: true,\n        // ---\n        // OPTIONAL: Referral account for Greymass Fuel\n        // fuelReferrer: 'jesta.x',\n        // ---\n        // OPTIONAL: Disable the browser transport success/failure messages to serve your own\n        // requestStatus: false\n        // ---\n      }),\n    })\n    // Attempt to restore the last used session for this particular chainId\n    const session = await this.link.restoreSession('anchor-link-demo-multipass')\n    // Load all existing sessions for this chain\n    const sessions = await this.link.listSessions('anchor-link-demo-multipass')\n    // Save current chainId and session into application state\n    this.setState({\n      error: undefined,\n      session,\n      sessions,\n    }, () => {\n      if (session) {\n        this.refreshAccount()\n      }\n    })\n    // Return in the event we need to immediately use\n    return this.link\n  }\n  signTransaction = async () => {\n    // Retrieve current session from state\n    const { session } = this.state\n    try {\n      // Reset our response state to clear any previous transaction data\n      this.setState({ response: undefined })\n      const action = {\n        authorization: [{\n          actor: String(session.auth.actor),\n          permission: String(session.auth.permission),\n        }],\n        account: 'eosio',\n        name: 'voteproducer',\n        data: {\n          voter: String(session.auth.actor),\n          producers: ['teamgreymass'],\n          proxy: '',\n        }\n      }\n      // Call transact on the session (compatible with eosjs.transact)\n      const response = await session.transact({\n        actions: [action]\n      }, {\n        // Optional: Prevent anchor-link from broadcasting this transaction (default: True)\n        //\n        //    The wallet/signer connected to this app will NOT broadcast the transaction\n        //    as is defined by the anchor-link protocol. Broadcasting is the responsibility\n        //    of anchor-link running inside an application (like this demo).\n        //\n        //    For this demo specifically we do NOT want the transaction to ever be broadcast\n        //    to the blockchain, so we're disabling it here.\n        //\n        //    For all normal applications using anchor-link, you can omit this.\n        //\n        broadcast: false,\n      })\n      // Update application state with the responses of the transaction\n      this.setState({\n        error: undefined,\n        response,\n      })\n    } catch(e) {\n      console.log(e)\n      this.setState({ error: e })\n    }\n  }\n  // React State Helper to update chainId while switching blockchains\n  setChainId = (e, { value }) => this.setState({\n    chainId: value,\n    error: undefined,\n    response: undefined,\n  }, () => {\n    const searchParams = new URLSearchParams(window.location.search)\n    searchParams.set('chainId', value)\n    window.history.pushState(null, null, `?${searchParams.toString()}`)\n  })\n  // React State Helper to update sessions while switching accounts\n  setSession = async (ls:LinkSession) => {\n    // Restore a specific session based on an auth (e.g. {actor: 'foo', permission: 'bar'})\n    const session = await this.link.restoreSession('anchor-link-demo-multipass', ls.auth, ls.chainId)\n    // Update application state with new session and reset response data\n    this.setState({\n      error: undefined,\n      response: undefined,\n      session,\n    })\n  }\n  // React State Helper to remove/delete a session\n  removeSession = async (ls:LinkSession) => {\n    // Remove from local storage based on an auth (e.g. {actor: 'foo', permission: 'bar'})\n    await this.link.removeSession('anchor-link-demo-multipass', ls.auth, ls.chainId)\n    // Remove from local application state\n    const { session, sessions } = this.state\n    // If this was the currently active account, remove the session\n    if (session && session.auth.actor.equals(ls.auth.actor) && session.auth.permission.equals(ls.auth.permission)) {\n      this.setState({ session: undefined });\n    }\n    this.setState({\n      sessions: sessions.filter(s => !(s.auth.actor.equals(ls.auth.actor) && s.auth.permission.equals(ls.auth.permission)))\n    })\n  }\n  // React State Helper to remove/delete a session\n  clearSessions = async () => {\n    // Remove from local storage based on an auth (e.g. {actor: 'foo', permission: 'bar'})\n    await this.link.clearSessions('anchor-link-demo-multipass')\n    // Remove all sessions from local application state\n    this.setState({ \n        session: undefined,\n        sessions: [] \n    });\n  }\n  render() {\n    // Load state for rendering\n    const {\n      account,\n      chainId,\n      demoMode,\n      demo2Mode,\n      error,\n      proof,\n      proofKey,\n      proofValid,\n      session,\n      sessions,\n      response,\n    } = this.state\n    // Find the blockchain information (rpc, name, etc) for UI purposes\n    const chain = find(blockchains, { chainId })\n    // If the demo parameter is set in the URL, render a nicer looking demo app\n    if (demoMode) {\n      return (\n        <DemoApp\n          addAccount={this.addAccount}\n          chain={chain}\n          loggedIn={!session}\n          session={session}\n          sessions={sessions}\n          setSession={this.setSession}\n          signTransaction={this.signTransaction}\n          removeSession={this.removeSession}\n        />\n      )\n    }\n    if (demo2Mode) {\n      return (\n        <Demo2App\n          addAccount={this.addAccount}\n          chain={chain}\n          loggedIn={!session}\n          session={session}\n          sessions={sessions}\n          setSession={this.setSession}\n          signTransaction={this.signTransaction}\n          removeSession={this.removeSession}\n        />\n      )\n    }\n    // Return the UI\n    return (\n      <Container\n        style={{ paddingTop: '2em' }}\n      >\n        <Header attached=\"top\" block size=\"huge\">\n          anchor-link-demo-multipass\n          <Header.Subheader>\n            <p>An anchor-link demo that allows multiple persistent logins from different blockchains and accounts.</p>\n            <p>Source code: <a href=\"https://github.com/greymass/anchor-link-demo-multipass\">https://github.com/greymass/anchor-link-demo-multipass</a></p>\n          </Header.Subheader>\n        </Header>\n        <Segment attached padded>\n          <Header>Available Accounts</Header>\n          <Accounts\n            addAccount={this.addAccount}\n            clearSessions={this.clearSessions}\n            chain={chain}\n            session={session}\n            sessions={sessions}\n            setSession={this.setSession}\n            removeSession={this.removeSession}\n          />\n          {(proofKey)\n            ? (\n              <React.Fragment>\n                <Message\n                  attached=\"top\"\n                  content=\"The information below verifies the users identity. If you need it for future use, save it within your application. It is only available immediately after sign in.\"\n                  header=\"Account Successfully Authenticated\"\n                  success\n                />\n                <Table definition attached=\"bottom\" size=\"small\">\n                  <Table.Row>\n                    <Table.Cell>Valid</Table.Cell>\n                    <Table.Cell>\n                      {proofValid ? (\n                        <Label color=\"green\" content=\"True\" />\n                      ) : (\n                        <Label color=\"orange\" content=\"False\" />\n                      )}\n                    </Table.Cell>\n                  </Table.Row>\n                  <Table.Row>\n                    <Table.Cell>Chain ID</Table.Cell>\n                    <Table.Cell>{String(proof.chainId)}</Table.Cell>\n                  </Table.Row>\n                  <Table.Row>\n                    <Table.Cell>Permission</Table.Cell>\n                    <Table.Cell>{String(proof.signer)}</Table.Cell>\n                  </Table.Row>\n                  <Table.Row>\n                    <Table.Cell>Signature</Table.Cell>\n                    <Table.Cell>{String(proof.signature)}</Table.Cell>\n                  </Table.Row>\n                  <Table.Row>\n                    <Table.Cell>Public Key</Table.Cell>\n                    <Table.Cell>{proofKey}</Table.Cell>\n                  </Table.Row>\n                  <Table.Row>\n                    <Table.Cell>Proof Valid Until</Table.Cell>\n                    <Table.Cell>{String(proof.expiration)}</Table.Cell>\n                  </Table.Row>\n                </Table>\n              </React.Fragment>\n            )\n            : false\n          }\n        </Segment>\n        <Segment attached padded>\n          <Header>\n            Account Data\n            <Header.Subheader>Example rendering data from API client call</Header.Subheader>\n          </Header>\n            {(account && account.cpu_limit)\n              ? (\n                <p>CPU: {String(account.cpu_limit.available)}s / {String(account.cpu_limit.max)}s</p>\n              )\n              : (\n                <p>Account not loaded.</p>\n              )\n            }\n\n        </Segment>\n        <Segment attached padded textAlign=\"center\">\n          <Header>Transact with anchor-link</Header>\n          <Button\n            content=\"Sign Test Transaction\"\n            disabled={!session}\n            icon=\"external\"\n            onClick={this.signTransaction}\n            primary\n            size=\"huge\"\n          />\n          {(!session)\n            ? <p style={{ marginTop: '0.5em'}}>Login using anchor-link to sign a test transaction.</p>\n            : false\n          }\n        </Segment>\n        <Segment attached=\"bottom\" padded>\n          {(error)\n            ? (\n              <SigningError\n                error={error}\n              />\n            )\n            : false\n          }\n          {(response)\n            ? (\n              <Response\n                response={response}\n              />\n            )\n            : false\n          }\n        </Segment>\n      </Container>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}