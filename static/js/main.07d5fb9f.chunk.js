(this["webpackJsonpanchor-link-demo-multipass"]=this["webpackJsonpanchor-link-demo-multipass"]||[]).push([[0],{205:function(e,t,n){e.exports=n.p+"static/media/fio.9ae02e71.svg"},206:function(e,t,n){e.exports=n.p+"static/media/jungle.3f2409df.png"},328:function(e,t,n){e.exports=n.p+"static/media/eos.b3392955.png"},329:function(e,t,n){e.exports=n.p+"static/media/proton.c090f672.png"},330:function(e,t){e.exports="data:image/png;base64,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"},331:function(e,t,n){e.exports=n.p+"static/media/wax.f02a31b4.png"},358:function(e,t,n){e.exports=n(620)},364:function(e,t){},371:function(e,t){},387:function(e,t){},389:function(e,t){},399:function(e,t){},401:function(e,t){},428:function(e,t){},429:function(e,t){},434:function(e,t){},436:function(e,t){},443:function(e,t){},462:function(e,t){},478:function(e,t){},485:function(e,t){},620:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),s=n(69),o=n.n(s),c=(n(363),n(9)),l=n.n(c),u=n(18),h=n(1),d=n(6),f=n(2),p=n(3),m=n(631),g=n(642),v=n(641),b=n(639),y=n(635),x=n(162),k=n(640),w=n(21),E=n(50),A=n(15),C=n(34),S=n(122),O=n(10),j=n(36),V=n(4),L=n(320),q=n.n(L),I=n(321),T=n(638),R=n(123),P=n.n(R),z=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,"User canceled request ".concat(e?"("+e+")":""))).code="E_CANCEL",a}return n}(Object(C.a)(Error)),D=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,"Unable to verify identity ".concat(e?"("+e+")":""))).code="E_IDENTITY",a}return n}(Object(C.a)(Error)),B=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e,a){var r;return Object(h.a)(this,n),(r=t.call(this,e)).code=a,r}return n}(Object(C.a)(Error));!function(e){e.defaults={service:"https://cb.anchor.link",verifyProofs:!1,encodeChainIds:!0}}(a||(a={}));var N=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(O.q);Object(V.a)([O.q.field("public_key")],N.prototype,"from",void 0),Object(V.a)([O.q.field("uint64")],N.prototype,"nonce",void 0),Object(V.a)([O.q.field("bytes")],N.prototype,"ciphertext",void 0),Object(V.a)([O.q.field("uint32")],N.prototype,"checksum",void 0),N=Object(V.a)([O.q.type("sealed_message")],N);var F=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(O.q);Object(V.a)([O.q.field("name")],F.prototype,"session_name",void 0),Object(V.a)([O.q.field("public_key")],F.prototype,"request_key",void 0),Object(V.a)([O.q.field("string",{extension:!0})],F.prototype,"user_agent",void 0),F=Object(V.a)([O.q.type("link_create")],F);var M=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(O.q);Object(V.a)([O.q.field("time_point_sec")],M.prototype,"expiration",void 0),M=Object(V.a)([O.q.type("link_info")],M);var K=q()().fetch;var U=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"remove",value:function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.link.storage){e.next=3;break}return e.next=3,this.link.removeSession(this.identifier,this.auth,this.chainId);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"client",get:function(){return this.link.getChain(this.chainId).client}}],[{key:"restore",value:function(e,t){switch(t.type){case"channel":return new _(e,t.data,t.metadata);case"fallback":return new H(e,t.data,t.metadata);default:throw new Error("Unable to restore, session data invalid")}}}]),e}(),_=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e,a,r){var i;Object(h.a)(this,n),(i=t.call(this)).type="channel",i.timeout=12e4,i.link=e,i.chainId=j.a.from(a.chainId),i.auth=O.k.from(a.auth),i.publicKey=O.m.from(a.publicKey),i.channel=a.channel,i.identifier=O.j.from(a.identifier);var s=O.l.from(a.requestKey),o=O.m.from(a.channel.key);return i.encrypt=function(e){return function(e,t,n,a){var r=t.sharedSecret(n);a||(a=O.w.random());var i=O.i.hash(O.n.encode({object:a}).appending(r.array)),s=new I.a(i.array.slice(0,32),i.array.slice(32,48)),o=O.g.from(s.encrypt(O.g.from(e,"utf8").array)),c=new DataView(O.h.hash(i.array).array.buffer).getUint32(0,!0);return N.from({from:t.toPublic(),nonce:a,ciphertext:o,checksum:c})}(e.encode(!0,!1),s,o)},i.metadata=Object(A.a)(Object(A.a)({},r||{}),{},{timeout:i.timeout,name:i.channel.name}),i.serialize=function(){return{type:"channel",data:a,metadata:i.metadata}},i}return Object(d.a)(n,[{key:"onSuccess",value:function(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)}},{key:"onFailure",value:function(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)}},{key:"onRequest",value:function(e,t){var n=M.from({expiration:new Date(Date.now()+this.timeout).toISOString().slice(0,-1)});this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,e,t),setTimeout((function(){t(new B("Wallet did not respond in time","E_TIMEOUT"))}),this.timeout+500),e.setInfoKey("link",n);var a=!1,r=O.n.encode({object:this.encrypt(e)});if(this.link.transport.sendSessionPayload)try{a=this.link.transport.sendSessionPayload(r,this)}catch(i){console.warn("Unexpected error when transport tried to send session payload",i)}a||K(this.channel.url,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:r.array}).then((function(e){200!==e.status&&t(new B("Unable to push message","E_DELIVERY"))})).catch((function(e){t(new B("Unable to reach link service (".concat(e.message||String(e),")"),"E_DELIVERY"))}))}},{key:"prepare",value:function(e){return this.link.transport.prepare?this.link.transport.prepare(e,this):Promise.resolve(e)}},{key:"showLoading",value:function(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}},{key:"makeSignatureProvider",value:function(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}},{key:"transact",value:function(e,t){return this.link.transact(e,Object(A.a)(Object(A.a)({},t),{},{chain:this.chainId}),this)}}]),n}(U),H=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e,a,r){var i;return Object(h.a)(this,n),(i=t.call(this)).type="fallback",i.link=e,i.auth=O.k.from(a.auth),i.publicKey=O.m.from(a.publicKey),i.chainId=j.a.from(a.chainId),i.metadata=r||{},i.identifier=O.j.from(a.identifier),i.serialize=function(){return{type:i.type,data:a,metadata:i.metadata}},i}return Object(d.a)(n,[{key:"onSuccess",value:function(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)}},{key:"onFailure",value:function(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)}},{key:"onRequest",value:function(e,t){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,e,t):this.link.transport.onRequest(e,t)}},{key:"prepare",value:function(e){return this.link.transport.prepare?this.link.transport.prepare(e,this):Promise.resolve(e)}},{key:"showLoading",value:function(){if(this.link.transport.showLoading)return this.link.transport.showLoading()}},{key:"makeSignatureProvider",value:function(){return this.link.makeSignatureProvider([this.publicKey.toString()],this.chainId,this)}},{key:"transact",value:function(e,t){return this.link.transact(e,Object(A.a)(Object(A.a)({},t),{},{chain:this.chainId}),this)}}]),n}(U),X=function(){function e(t){Object(h.a)(this,e),this.address=t.trim().replace(/\/$/,"")}return Object(d.a)(e,[{key:"create",value:function(){var e="".concat(this.address,"/").concat(Object(T.a)());return new J(e)}}]),e}(),J=function(){function e(t){Object(h.a)(this,e),this.url=t,this.ctx={}}return Object(d.a)(e,[{key:"wait",value:function(){return this.url.includes("hyperbuoy")?function(e,t){return Z.apply(this,arguments)}(this.url,this.ctx):(e=this.url,t=this.ctx,new Promise((function(n,a){var r=!0,i=0,s=e.replace(/^http/,"ws"),o=function(e){try{n(JSON.parse(e))}catch(t){t.message="Unable to parse callback JSON: "+t.message,a(t)}};!function e(){var n=new P.a(s);t.cancel=function(){r=!1,n.readyState!==P.a.OPEN&&n.readyState!==P.a.CONNECTING||n.close()},n.onmessage=function(e){if(r=!1,n.readyState===P.a.OPEN&&n.close(),"undefined"!==typeof Blob&&e.data instanceof Blob){var t=new FileReader;t.onload=function(){o(t.result)},t.onerror=function(e){a(e)},t.readAsText(e.data)}else"string"===typeof e.data?o(e.data):o(e.data.toString())},n.onopen=function(){i=0},n.onclose=function(){var t;r&&setTimeout(e,(t=i++,Math.min(Math.pow(10*t,2),1e4)))}}()})));var e,t}},{key:"cancel",value:function(){this.ctx.cancel&&this.ctx.cancel()}}]),e}();function Z(){return(Z=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!0,n.cancel=function(){a=!1};case 2:if(!a){e.next=27;break}return e.prev=3,e.next=6,K(t);case 6:if(408!==(r=e.sent).status){e.next=11;break}return e.abrupt("continue",2);case 11:if(200!==r.status){e.next=17;break}return e.next=14,r.json();case 14:return e.abrupt("return",e.sent);case 17:throw new Error("HTTP ".concat(r.status,": ").concat(r.statusText));case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),console.warn("Unexpected hyperbuoy error",e.t0);case 23:return e.next=25,Y(1e3);case 25:e.next=2;break;case 27:return e.abrupt("return",null);case 28:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}function Y(e){return new Promise((function(t){setTimeout(t,e)}))}var Q=function(){function e(t,n){Object(h.a)(this,e),this.abiCache=new Map,this.pendingAbis=new Map,this.chainId=j.a.from(t),this.client="string"===typeof n?new O.d({url:n}):n}return Object(d.a)(e,[{key:"getAbi",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=String(t),a=this.abiCache.get(n)){e.next=10;break}return(r=this.pendingAbis.get(n))||(r=this.client.v1.chain.get_abi(t),this.pendingAbis.set(n,r)),e.next=7,r;case 7:a=e.sent.abi,this.pendingAbis.delete(n),a&&this.abiCache.set(n,a);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),W=function(){function e(t){if(Object(h.a)(this,e),"object"!==typeof t)throw new TypeError("Missing options object");if(!t.transport)throw new TypeError("options.transport is required");var n=t.chains||[];if(t.chainId&&t.client&&(n=[{chainId:t.chainId,nodeUrl:t.client}]),0===n.length)throw new TypeError("options.chains is required");this.chains=n.map((function(e){var t=e.chainId,n=e.nodeUrl;if(!t)throw new Error("options.chains[].chainId is required");if(!n)throw new Error("options.chains[].nodeUrl is required");return new Q(t,n)})),void 0===t.service||"string"===typeof t.service?this.callbackService=new X(t.service||a.defaults.service):this.callbackService=t.service,this.transport=t.transport,null!==t.storage&&(this.storage=t.storage||this.transport.storage),this.verifyProofs=void 0!==t.verifyProofs?t.verifyProofs:a.defaults.verifyProofs,this.encodeChainIds=void 0!==t.encodeChainIds?t.encodeChainIds:a.defaults.encodeChainIds}return Object(d.a)(e,[{key:"getChain",value:function(e){if(e instanceof Q)return e;if("number"===typeof e){var t=this.chains[e];if(!t)throw new Error("Invalid chain index: ".concat(e));return t}var n=j.a.from(e),a=this.chains.find((function(e){return e.chainId.equals(n)}));if(!a)throw new Error("Unsupported chain: ".concat(n));return a}},{key:"createRequest",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){var r,i,s,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a||this.transport,!n&&1!==this.chains.length){e.next=8;break}return s=n||this.chains[0],e.next=5,j.e.create(Object(A.a)(Object(A.a)({},t),{},{chainId:s.chainId,broadcast:!1}),{abiProvider:s,zlib:S.a});case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,j.e.create(Object(A.a)(Object(A.a)({},t),{},{chainId:null,chainIds:this.encodeChainIds?this.chains.map((function(e){return e.chainId})):void 0,broadcast:!1}),{abiProvider:this.chains[0],zlib:S.a});case 10:i=e.sent;case 11:if(!r.prepare){e.next=15;break}return e.next=14,r.prepare(i);case 14:i=e.sent;case 15:return o=this.callbackService.create(),i.setCallback(o.url,!0),e.abrupt("return",{request:i,callback:o});case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"sendRequest",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,r){var i,s,o,c,u,h,d,f,p,m,g,v,b,y=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=y.length>4&&void 0!==y[4]&&y[4],s=r||this.transport,e.prev=2,t.data.callback===n.url){e.next=6;break}throw new Error("Invalid request callback");case 6:if(!0!==t.data.flags.broadcast&&!1!==t.data.flags.background){e.next=8;break}throw new Error("Invalid request flags");case 8:return o=new Promise((function(e,a){s.onRequest(t,(function(e){n.cancel(),a("string"===typeof e?new z(e):e)}))})),e.next=11,Promise.race([n.wait(),o]);case 11:if("string"!==typeof(c=e.sent).rejected){e.next=14;break}throw new z(c.rejected);case 14:if(u=c,h=O.k.from({actor:u.sa,permission:u.sp}),d=Object.keys(u).filter((function(e){return e.startsWith("sig")&&"sig0"!==e})).map((function(e){return O.o.from(u[e])})),a||!(this.chains.length>1)){e.next=23;break}if(u.cid){e.next=20;break}throw new Error("Multi chain response payload must specify resolved chain id (cid)");case 20:f=this.getChain(u.cid),e.next=26;break;case 23:if(f=a||this.getChain(0),!u.cid||f.chainId.equals(u.cid)){e.next=26;break}throw new Error("Got response for wrong chain id");case 26:return e.next=28,j.d.fromPayload(u,{zlib:S.a,abiProvider:f});case 28:if(p=e.sent,(m=p.request.getInfoKey("cosig",{type:O.o,array:!0}))&&d.unshift.apply(d,Object(E.a)(m)),g={resolved:p,chain:f,transaction:p.transaction,resolvedTransaction:p.resolvedTransaction,signatures:d,payload:u,signer:h},!i){e.next=38;break}return v=O.p.from(Object(A.a)(Object(A.a)({},p.transaction),{},{signatures:d})),e.next=36,f.client.v1.chain.push_transaction(v);case 36:b=e.sent,g.processed=b.processed;case 38:return s.onSuccess&&s.onSuccess(t,g),e.abrupt("return",g);case 42:throw e.prev=42,e.t0=e.catch(2),s.onFailure&&s.onFailure(t,e.t0),e.t0;case 46:case"end":return e.stop()}}),e,this,[[2,42]])})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"transact",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){var r,i,s,o,c,u,h,d,f,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||{},i=a||this.transport,s=void 0!==r.chain?this.getChain(r.chain):void 0,o=!1!==r.broadcast,c=void 0!==r.noModify?r.noModify:!o,i&&i.showLoading&&i.showLoading(),u=t,t.actions&&(u.expiration||u.ref_block_num||u.ref_block_prefix||u.max_net_usage_words||u.max_cpu_usage_ms||u.delay_sec)&&(t={transaction:Object(A.a)({expiration:"1970-01-01T00:00:00",ref_block_num:0,ref_block_prefix:0,max_net_usage_words:0,max_cpu_usage_ms:0,delay_sec:0},u)}),e.next=10,this.createRequest(t,s,i);case 10:return h=e.sent,d=h.request,f=h.callback,c&&d.setInfoKey("no_modify",!0,"bool"),e.next=16,this.sendRequest(d,f,s,i,o);case 16:return p=e.sent,e.abrupt("return",p);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"identify",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,s,o,c,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createRequest({identity:{permission:t.requestPermission,scope:t.scope},info:t.info});case 2:return n=e.sent,a=n.request,r=n.callback,e.next=7,this.sendRequest(a,r);case 7:if((i=e.sent).resolved.request.isIdentity()){e.next=10;break}throw new D("Unexpected response");case 10:if(o=i.resolved.getIdentityProof(i.signatures[0]),!this.verifyProofs){e.next=23;break}return e.next=14,i.chain.client.v1.chain.get_account(i.signer.actor);case 14:if(s=e.sent){e.next=17;break}throw new D("Signature from unknown account: ".concat(o.signer.actor));case 17:if(c=s.permissions.find((function(e){var t=e.perm_name;return o.signer.permission.equals(t)}))){e.next=20;break}throw new D("".concat(o.signer.actor," signed for unknown permission: ").concat(o.signer.permission));case 20:if(o.verify(c.required_auth,s.head_block_time)){e.next=23;break}throw new D("Invalid identify proof for: ".concat(o.signer));case 23:if(!t.requestPermission){e.next=27;break}if(((u=O.k.from(t.requestPermission)).actor.equals(j.b)||u.actor.equals(o.signer.actor))&&(u.permission.equals(j.c)||u.permission.equals(o.signer.permission))){e.next=27;break}throw new D("Identity proof singed by ".concat(o.signer,", expected: ").concat(G(u)," "));case 27:return e.abrupt("return",Object(A.a)(Object(A.a)({},i),{},{account:s,proof:o}));case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,s,o,c,u,h,d,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.l.generate("K1"),a=n.toPublic(),r=F.from({session_name:t,request_key:a,user_agent:this.getUserAgent()}),e.next=5,this.identify({scope:t,info:{link:r,scope:t}});case 5:if(i=e.sent,s={sameDevice:void 0!==i.resolved.request.getRawInfo().return_path},i.payload.link_meta)try{for(o=JSON.parse(i.payload.link_meta),c=0,u=Object.keys(o);c<u.length;c++)h=u[c],s[$(h)]=o[h]}catch(l){console.warn("Unable to parse link metadata",l,i.payload.link_meta)}if(d=i.proof.recover(),f=i.payload.link_ch&&i.payload.link_key&&i.payload.link_name?new _(this,{identifier:t,chainId:i.chain.chainId,auth:i.signer,publicKey:d,channel:{url:i.payload.link_ch,key:i.payload.link_key,name:i.payload.link_name},requestKey:n},s):new H(this,{identifier:t,chainId:i.chain.chainId,auth:i.signer,publicKey:d},s),!this.storage){e.next=13;break}return e.next=13,this.storeSession(t,f);case 13:return e.abrupt("return",Object(A.a)(Object(A.a)({},i),{},{session:f}));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restoreSession",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){var r,i,s,o,c,u,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to restore session: No storage adapter configured");case 2:if(!n||!a){e.next=6;break}r=this.sessionKey(t,G(O.k.from(n)),String(j.a.from(a))),e.next=15;break;case 6:return e.next=8,this.listSessions(t);case 8:if(i=e.sent,n&&(i=i.filter((function(e){return e.auth.equals(n)}))),a&&(s=j.a.from(a),i=i.filter((function(e){return e.chainId.equals(s)}))),o=i[0]){e.next=14;break}return e.abrupt("return",null);case 14:r=this.sessionKey(t,G(o.auth),String(o.chainId));case 15:return e.next=17,this.storage.read(r);case 17:if(c=e.sent){e.next=20;break}return e.abrupt("return",null);case 20:e.prev=20,u=JSON.parse(c),e.next=27;break;case 24:throw e.prev=24,e.t0=e.catch(20),new Error("Unable to restore session: Stored JSON invalid (".concat(e.t0.message||String(e.t0),")"));case 27:if(h=U.restore(this,u),!n&&!a){e.next=31;break}return e.next=31,this.touchSession(t,h.auth,h.chainId);case 31:return e.abrupt("return",h);case 32:case"end":return e.stop()}}),e,this,[[20,24]])})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"listSessions",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to list sessions: No storage adapter configured");case 2:return n=this.sessionKey(t,"list"),e.prev=3,e.t0=JSON,e.next=7,this.storage.read(n);case 7:if(e.t1=e.sent,e.t1){e.next=10;break}e.t1="[]";case 10:e.t2=e.t1,a=e.t0.parse.call(e.t0,e.t2),e.next=17;break;case 14:throw e.prev=14,e.t3=e.catch(3),new Error("Unable to list sessions: ".concat(e.t3.message||String(e.t3)));case 17:return e.abrupt("return",a.map((function(e){var t=e.auth,n=e.chainId;return{auth:O.k.from(t),chainId:j.a.from(n)}})));case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"removeSession",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to remove session: No storage adapter configured");case 2:return r=this.sessionKey(t,G(n),String(a)),e.next=5,this.storage.remove(r);case 5:return e.next=7,this.touchSession(t,n,a,!0);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"clearSessions",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.storage){e.next=2;break}throw new Error("Unable to clear sessions: No storage adapter configured");case 2:return e.t0=w.a,e.next=5,this.listSessions(t);case 5:e.t1=e.sent,n=(0,e.t0)(e.t1),e.prev=7,n.s();case 9:if((a=n.n()).done){e.next=15;break}return r=a.value,i=r.auth,s=r.chainId,e.next=13,this.removeSession(t,i,s);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t2=e.catch(7),n.e(e.t2);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[7,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"makeSignatureProvider",value:function(e,t,n){var a=this;return{getAvailableKeys:function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),sign:function(){var e=Object(u.a)(l.a.mark((function e(r){var i,s,o,c,u,h,d,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n||a.transport,s=t?a.getChain(t):a.chains[0],o=j.e.fromTransaction(r.chainId,r.serializedTransaction,{abiProvider:s,zlib:S.a}),c=a.callbackService.create(),o.setCallback(c.url,!0),o.setBroadcast(!1),!i.prepare){e.next=10;break}return e.next=9,i.prepare(o);case 9:o=e.sent;case 10:return e.next=12,a.sendRequest(o,c,s,i);case 12:return u=e.sent,h=u.transaction,d=u.signatures,f=O.n.encode({object:h}),e.abrupt("return",Object(A.a)(Object(A.a)({},r),{},{serializedTransaction:f,signatures:d}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}},{key:"touchSession",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n,a){var r,i,s,o,c=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>3&&void 0!==c[3]&&c[3],e.next=3,this.listSessions(t);case 3:return i=e.sent,(s=i.findIndex((function(e){return e.auth.equals(n)&&e.chainId.equals(a)})))>=0&&i.splice(s,1),!1===r&&i.unshift({auth:n,chainId:a}),o=this.sessionKey(t,"list"),e.next=10,this.storage.write(o,JSON.stringify(i));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"storeSession",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.sessionKey(t,G(n.auth),String(n.chainId)),r=JSON.stringify(n.serialize()),e.next=4,this.storage.write(a,r);case 4:return e.next=6,this.touchSession(t,n.auth,n.chainId);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sessionKey",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return[String(O.j.from(e))].concat(n).join("-")}},{key:"getUserAgent",value:function(){var t="AnchorLink/".concat(e.version);return this.transport.userAgent&&(t+=" "+this.transport.userAgent()),t}},{key:"client",get:function(){return this.chains[0].client}}]),e}();function G(e){var t,n=O.k.from(e),a=n.actor.equals(j.b)?"<any>":String(n.actor);return t=n.permission.equals(j.b)||n.permission.equals(j.c)?"<any>":String(n.permission),"".concat(a,"@").concat(t)}function $(e){var t=function(e){return e.split("_").map((function(e){return(e[0]?e[0].toUpperCase():"_")+e.slice(1)})).join("")}(e);return t[0].toLowerCase()+t.slice(1)}W.version="3.2.3";for(var ee=W,te=n(43),ne=n(71),ae={L:1,M:0,Q:3,H:2},re=1,ie=2,se=4,oe=8,ce=function(){function e(t){Object(h.a)(this,e),this.mode=se,this.data=t}return Object(d.a)(e,[{key:"getLength",value:function(){return this.data.length}},{key:"write",value:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}}]),e}(),le=function(){function e(){Object(h.a)(this,e),this.buffer=[],this.length=0}return Object(d.a)(e,[{key:"get",value:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)}},{key:"put",value:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))}},{key:"getLengthInBits",value:function(){return this.length}},{key:"putBit",value:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}}]),e}(),ue={glog:function(e){if(e<1)throw new Error("glog("+e+")");return ue.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return ue.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},he=0;he<8;he++)ue.EXP_TABLE[he]=1<<he;for(var de=8;de<256;de++)ue.EXP_TABLE[de]=ue.EXP_TABLE[de-4]^ue.EXP_TABLE[de-5]^ue.EXP_TABLE[de-6]^ue.EXP_TABLE[de-8];for(var fe=0;fe<255;fe++)ue.LOG_TABLE[ue.EXP_TABLE[fe]]=fe;var pe=function(){function e(t,n){if(Object(h.a)(this,e),void 0==t.length)throw new Error(t.length+"/"+n);for(var a=0;a<t.length&&0==t[a];)a++;this.num=new Array(t.length-a+n);for(var r=0;r<t.length-a;r++)this.num[r]=t[r+a]}return Object(d.a)(e,[{key:"get",value:function(e){return this.num[e]}},{key:"getLength",value:function(){return this.num.length}},{key:"multiply",value:function(t){for(var n=new Array(this.getLength()+t.getLength()-1),a=0;a<this.getLength();a++)for(var r=0;r<t.getLength();r++)n[a+r]^=ue.gexp(ue.glog(this.get(a))+ue.glog(t.get(r)));return new e(n,0)}},{key:"mod",value:function(t){if(this.getLength()-t.getLength()<0)return this;for(var n=ue.glog(this.get(0))-ue.glog(t.get(0)),a=new Array(this.getLength()),r=0;r<this.getLength();r++)a[r]=this.get(r);for(var i=0;i<t.getLength();i++)a[i]^=ue.gexp(ue.glog(t.get(i))+n);return new e(a,0).mod(t)}}]),e}(),me=function(){function e(t,n){Object(h.a)(this,e),this.totalCount=t,this.dataCount=n}return Object(d.a)(e,null,[{key:"getRSBlocks",value:function(t,n){var a=e.getRsBlockTable(t,n);if(void 0==a)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+n);for(var r=a.length/3,i=[],s=0;s<r;s++)for(var o=a[3*s+0],c=a[3*s+1],l=a[3*s+2],u=0;u<o;u++)i.push(new e(c,l));return i}},{key:"getRsBlockTable",value:function(t,n){switch(n){case ae.L:return e.RS_BLOCK_TABLE[4*(t-1)+0];case ae.M:return e.RS_BLOCK_TABLE[4*(t-1)+1];case ae.Q:return e.RS_BLOCK_TABLE[4*(t-1)+2];case ae.H:return e.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}}]),e}();me.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];var ge=0,ve=1,be=2,ye=3,xe=4,ke=5,we=6,Ee=7,Ae={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G15)>=0;)t^=Ae.G15<<Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G15);return(e<<10|t)^Ae.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G18)>=0;)t^=Ae.G18<<Ae.getBCHDigit(t)-Ae.getBCHDigit(Ae.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ae.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case ge:return(t+n)%2==0;case ve:return t%2==0;case be:return n%3==0;case ye:return(t+n)%3==0;case xe:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case ke:return t*n%2+t*n%3==0;case we:return(t*n%2+t*n%3)%2==0;case Ee:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new pe([1],0),n=0;n<e;n++)t=t.multiply(new pe([1,ue.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case re:return 10;case ie:return 9;case se:case oe:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case re:return 12;case ie:return 11;case se:return 16;case oe:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case re:return 14;case ie:return 13;case se:return 16;case oe:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,a=0;a<t;a++)for(var r=0;r<t;r++){for(var i=0,s=e.isDark(a,r),o=-1;o<=1;o++)if(!(a+o<0||t<=a+o))for(var c=-1;c<=1;c++)r+c<0||t<=r+c||0==o&&0==c||s==e.isDark(a+o,r+c)&&i++;i>5&&(n+=3+i-5)}for(var l=0;l<t-1;l++)for(var u=0;u<t-1;u++){var h=0;e.isDark(l,u)&&h++,e.isDark(l+1,u)&&h++,e.isDark(l,u+1)&&h++,e.isDark(l+1,u+1)&&h++,0!=h&&4!=h||(n+=3)}for(var d=0;d<t;d++)for(var f=0;f<t-6;f++)e.isDark(d,f)&&!e.isDark(d,f+1)&&e.isDark(d,f+2)&&e.isDark(d,f+3)&&e.isDark(d,f+4)&&!e.isDark(d,f+5)&&e.isDark(d,f+6)&&(n+=40);for(var p=0;p<t;p++)for(var m=0;m<t-6;m++)e.isDark(m,p)&&!e.isDark(m+1,p)&&e.isDark(m+2,p)&&e.isDark(m+3,p)&&e.isDark(m+4,p)&&!e.isDark(m+5,p)&&e.isDark(m+6,p)&&(n+=40);for(var g=0,v=0;v<t;v++)for(var b=0;b<t;b++)e.isDark(b,v)&&g++;return n+=10*(Math.abs(100*g/t/t-50)/5)}},Ce=function(){function e(t,n){Object(h.a)(this,e),this.typeNumber=t,this.errorCorrectLevel=n,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}return Object(d.a)(e,[{key:"addData",value:function(e){var t=new ce(e);this.dataList.push(t),this.dataCache=null}},{key:"isDark",value:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]}},{key:"getModuleCount",value:function(){return this.moduleCount}},{key:"make",value:function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=me.getRSBlocks(e,this.errorCorrectLevel),n=new le,a=0,r=0;r<t.length;r++)a+=t[r].dataCount;for(var i=0;i<this.dataList.length;i++){var s=this.dataList[i];n.put(s.mode,4),n.put(s.getLength(),Ae.getLengthInBits(s.mode,e)),s.write(n)}if(n.getLengthInBits()<=8*a)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())}},{key:"makeImpl",value:function(t,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++){this.modules[a]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[a][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,n),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)}},{key:"setupPositionProbePattern",value:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+n][t+a]=0<=n&&n<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=a&&a<=4)}},{key:"getBestMaskPattern",value:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var a=Ae.getLostPoint(this);(0==n||e>a)&&(e=a,t=n)}return t}},{key:"setupTimingPattern",value:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)}},{key:"setupPositionAdjustPattern",value:function(){for(var e=Ae.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var a=e[t],r=e[n];if(null==this.modules[a][r])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[a+i][r+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}}},{key:"setupTypeNumber",value:function(e){for(var t=Ae.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var a=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=a}for(var r=0;r<18;r++){var i=!e&&1==(t>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=i}}},{key:"setupTypeInfo",value:function(e,t){for(var n=this.errorCorrectLevel<<3|t,a=Ae.getBCHTypeInfo(n),r=0;r<15;r++){var i=!e&&1==(a>>r&1);r<6?this.modules[r][8]=i:r<8?this.modules[r+1][8]=i:this.modules[this.moduleCount-15+r][8]=i}for(var s=0;s<15;s++){var o=!e&&1==(a>>s&1);s<8?this.modules[8][this.moduleCount-s-1]=o:s<9?this.modules[8][15-s-1+1]=o:this.modules[8][15-s-1]=o}this.modules[this.moduleCount-8][8]=!e}},{key:"mapData",value:function(e,t){for(var n=-1,a=this.moduleCount-1,r=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var o=0;o<2;o++)if(null==this.modules[a][s-o]){var c=!1;i<e.length&&(c=1==(e[i]>>>r&1)),Ae.getMask(t,a,s-o)&&(c=!c),this.modules[a][s-o]=c,-1==--r&&(i++,r=7)}if((a+=n)<0||this.moduleCount<=a){a-=n,n=-n;break}}}}],[{key:"createData",value:function(t,n,a){for(var r=me.getRSBlocks(t,n),i=new le,s=0;s<a.length;s++){var o=a[s];i.put(o.mode,4),i.put(o.getLength(),Ae.getLengthInBits(o.mode,t)),o.write(i)}for(var c=0,l=0;l<r.length;l++)c+=r[l].dataCount;if(i.getLengthInBits()>8*c)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*c+")");for(i.getLengthInBits()+4<=8*c&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*c)&&(i.put(e.PAD0,8),!(i.getLengthInBits()>=8*c));)i.put(e.PAD1,8);return e.createBytes(i,r)}},{key:"createBytes",value:function(e,t){for(var n=0,a=0,r=0,i=new Array(t.length),s=new Array(t.length),o=0;o<t.length;o++){var c=t[o].dataCount,l=t[o].totalCount-c;a=Math.max(a,c),r=Math.max(r,l),i[o]=new Array(c);for(var u=0;u<i[o].length;u++)i[o][u]=255&e.buffer[u+n];n+=c;var h=Ae.getErrorCorrectPolynomial(l),d=new pe(i[o],h.getLength()-1).mod(h);s[o]=new Array(h.getLength()-1);for(var f=0;f<s[o].length;f++){var p=f+d.getLength()-s[o].length;s[o][f]=p>=0?d.get(p):0}}for(var m=0,g=0;g<t.length;g++)m+=t[g].totalCount;for(var v=new Array(m),b=0,y=0;y<a;y++)for(var x=0;x<t.length;x++)y<i[x].length&&(v[b++]=i[x][y]);for(var k=0;k<r;k++)for(var w=0;w<t.length;w++)k<s[w].length&&(v[b++]=s[w][k]);return v}}]),e}();function Se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"L",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=new Ce(n,ae[t]),r=[];a.addData(e),a.make();var i,s=a.modules,o=s.length,c=Object(w.a)(s.entries());try{for(c.s();!(i=c.n()).done;){var l,u=Object(te.a)(i.value,2),h=u[0],d=u[1],f=void 0,p=Object(w.a)(d.entries());try{for(p.s();!(l=p.n()).done;){var m=Object(te.a)(l.value,2),g=m[0],v=m[1];v?(f||(f={x:g,y:h,width:0,height:1}),f.width++):(f&&f.width>0&&r.push(f),f=void 0)}}catch(O){p.e(O)}finally{p.f()}f&&f.width>0&&r.push(f)}}catch(O){c.e(O)}finally{c.f()}for(var b=['<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '.concat(o," ").concat(o,'">')],y=0,x=r;y<x.length;y++){var k=x[y],E=k.x,A=k.y,C=k.width,S=k.height;b.push('<rect x="'.concat(E,'" y="').concat(A,'" width="').concat(C,'" height="').concat(S,'" />'))}return b.push("</svg>"),b.join("")}function Oe(e,t){return je.apply(this,arguments)}function je(){return(je=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:n?JSON.stringify(n):void 0});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ce.PAD0=236,Ce.PAD1=17;function Ve(e){var t=e.trim().split("/");return 2===t.length&&"fuel"===t[0]?parseInt(t[1])||0:-1}function Le(e,t,n,a,r){return qe.apply(this,arguments)}function qe(){return(qe=Object(u.a)(l.a.mark((function e(t,n,a,r,i){var s,o,c,u,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie(t,n),a("Detecting if network resources are required."),s=t.getChainId(),o=r[String(s)]){e.next=6;break}throw new Error("Blockchain not supported by this resource provider.");case 6:return e.next=8,Oe(o+"/v1/resource_provider/request_transaction",{ref:i,request:t,signer:n.auth});case 8:if((c=e.sent)&&c.data){e.next=11;break}throw new Error("Invalid response from resource provider.");case 11:if(c.data.signatures&&c.data.signatures[0]){e.next=13;break}throw new Error("No signature returned from resource provider.");case 13:if(402!==c.code||c.data.fee){e.next=15;break}throw new Error("Resource provider returned a response indicating required payment, but provided no fee amount.");case 15:if(u=t.clone(),402!==c.code){e.next=20;break}if(!t.getInfoKey("no_fee")){e.next=19;break}throw new Error("Fee required but sender opted out.");case 19:u.setInfoKey("txfee",c.data.fee);case 20:return c.data.costs&&(u.setInfoKey("txfeecpu",c.data.costs.cpu),u.setInfoKey("txfeenet",c.data.costs.net),u.setInfoKey("txfeeram",c.data.costs.ram)),h=c.data.signatures.map((function(e){return ne.e.from(e)})),u.setInfoKey("cosig",h,{type:ne.e,array:!0}),e.next=25,ne.f.create({transaction:Object(A.a)({},c.data.request[1])},{abiProvider:t.abiProvider});case 25:return u.data.req=e.sent.data.req,e.abrupt("return",u);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){if(e.getRawInfoKey("no_modify"))throw new Error("Request cannot be modified.");if(e.isIdentity())throw new Error("Identity requests cannot be co-signed.");var n=e.getRawActions()[0];if(!n)throw new Error("No actions in request.");var a=n.authorization[0];if(!n)throw new Error("First authorization missing.");if(!a.actor.equals(t.auth.actor)&&!a.actor.equals(ne.d))throw new Error("Not first authorizer.")}var Te=Symbol(),Re=Symbol(),Pe={aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906:"https://eos.greymass.com","2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840":"https://jungle3.greymass.com","4667b205c6838ef70ff7988f6e8257e8be0e1284a2f59699054a018f743b1d11":"https://telos.greymass.com","1064487b3cd1a897ce03ae5b6a865651747e2e152090f99c1d19d44e01aea5a4":"https://wax.greymass.com"},ze=function(){function e(t){Object(h.a)(this,e),this.keyPrefix=t}return Object(d.a)(e,[{key:"write",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.setItem(this.storageKey(t),n);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",localStorage.getItem(this.storageKey(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem(this.storageKey(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"storageKey",value:function(e){return"".concat(this.keyPrefix,"-").concat(e)}}]),e}(),De=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(h.a)(this,e),this.options=t,this.classPrefix=t.classPrefix||"anchor-link",this.injectStyles=!(!1===t.injectStyles),this.importantStyles=!(!1===t.importantStyles),this.requestStatus=!(!1===t.requestStatus),this.fuelEnabled=!0!==t.disableGreymassFuel,this.fuelReferrer=t.fuelReferrer||"teamgreymass",this.storage=new ze(t.storagePrefix||"anchor-link"),this.supportedChains=t.supportedChains||Pe}return Object(d.a)(e,[{key:"closeModal",value:function(){this.hide(),this.activeCancel&&(this.activeRequest=void 0,this.activeCancel("Modal closed"),this.activeCancel=void 0)}},{key:"setupElements",value:function(){var t=this;if(this.injectStyles&&!this.styleEl){this.styleEl=document.createElement("style"),this.styleEl.type="text/css";var n="\n/* Anchor Link */\n\n.%prefix% * {\n    box-sizing: border-box;\n    line-height: 1;\n}\n\n.%prefix% {\n    font-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',\n        Arial, sans-serif;\n    font-size: 13px;\n    background: rgba(0, 0, 0, 0.65);\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    width: 100%;\n    height: 100%;\n    z-index: 2147483647;\n    display: none;\n    align-items: center;\n    justify-content: center;\n}\n\n.%prefix%-active {\n    display: flex;\n}\n\n.%prefix%-inner {\n    background: #EFF1F7;\n    margin: 20px;\n    padding-top: 50px;\n    border-radius: 20px;\n    box-shadow: 0px 4px 100px rgba(0, 0, 0, .5);\n    width: 340px;\n    position: relative;\n}\n\n.%prefix%-close {\n    display: block;\n    position: absolute;\n    top: 11px;\n    right: 16px;\n    width: 28px;\n    height: 28px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23007AFF'/%3E%3C/svg%3E\");\n    background-size: 14px;\n    background-repeat: no-repeat;\n    background-position: 50% 7px;\n    border-radius: 100%;\n    cursor: pointer;\n}\n\n.%prefix%-close:hover {\n    background-color: white;\n}\n\n.%prefix%-version {\n    position: absolute;\n    top: 19px;\n    left: 20px;\n    cursor: help;\n    color: #B8C0DA;\n    opacity: 0.1;\n}\n\n.%prefix%-version:hover {\n    opacity: 1;\n}\n\n.%prefix%-logo {\n    width: 70px;\n    height: 70px;\n    margin: 0 auto;\n    margin-top: -56px;\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='%23fff' d='M18.81 9.19h33.25V59.5H18.81z'/%3E%3Cpath d='M38.45 28.88h-6.9L35 21.77l3.45 7.1z' fill='%233650A2'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M35 70a35 35 0 100-70 35 35 0 000 70zm2.36-55.4a2.62 2.62 0 00-4.72 0L21.9 36.75h5.84l1.7-3.5h11.13l1.7 3.5h5.83L37.36 14.6zM48.13 44.2h-5.26a7.76 7.76 0 01-5.24 7v-10.5a2.62 2.62 0 10-5.25 0v10.5a7.76 7.76 0 01-5.25-7h-5.25c.16 7.06 6 12.69 13.12 12.69 7.12 0 12.97-5.63 13.13-12.7z' fill='%233650A2'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-fuel {\n    width: 70px;\n    height: 70px;\n    margin: 0 auto;\n    margin-top: -56px;\n    background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3ClinearGradient id='linear-gradient-25' x1='104.79' y1='197.49' x2='131.55' y2='108.35' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='0.38' stop-color='%23f6b621'/%3E%3Cstop offset='0.59' stop-color='%23e89124'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cg id='brain-logo' style='' transform='matrix(1, 0, 0, 1, -0.005538, -0.040005)'%3E%3Cg%3E%3Cpath class='cls-4' d='M251.93,111.13,221.28,71.51A23.76,23.76,0,0,0,209,63.61l-77.7-18.09a25.86,25.86,0,0,0-5.78-.6,28.22,28.22,0,0,0-7.88,1L99.06,51.58a6.31,6.31,0,0,0-.61-5l-5.3-9a6.36,6.36,0,0,0-5.47-3.13h0a6.57,6.57,0,0,0-1.92.29L49.61,46.21a6.34,6.34,0,0,0-4.41,6.28l.46,12.2a6.2,6.2,0,0,0,.78,2.81L38.2,70a21.1,21.1,0,0,0-11.73,9.76L3,125.21a17.78,17.78,0,0,0,.54,16.32l12.68,21A16.19,16.19,0,0,0,29.69,170a13.25,13.25,0,0,0,1.67-.1L65,165.81a17.22,17.22,0,0,0,9.2,13.64l12.86,6.08a32.51,32.51,0,0,0,12.26,2.63c.35,0,.7,0,1,0l29.17-1.61a6.12,6.12,0,0,1,2.64,1l29.05,28.79a20,20,0,0,0,13.27,5.29c.52,0,1,0,1.53-.07l23.93-2.47c4.31-.44,7.67-2.87,9-6.48s.36-7.64-2.63-10.78l-10.09-10.64,19.07-5.64a15.76,15.76,0,0,0,10.83-13.09L227.65,157a10.69,10.69,0,0,1,1.86-4.19l21.74-24a14,14,0,0,0,.68-17.65Z' style='fill: rgb(255, 255, 255);'/%3E%3Cg%3E%3Ccircle class='cls-2' cx='173.24' cy='107.45' r='6.19' transform='translate(7.67 226.39) rotate(-67.5)' style='fill: rgb(246, 182, 33);'/%3E%3Cpath class='cls-2' d='M101,97.06a3.71,3.71,0,1,0-3.71-3.71A3.71,3.71,0,0,0,101,97.06Z' style='fill: rgb(246, 182, 33);'/%3E%3Ccircle class='cls-2' cx='135.4' cy='76.29' r='3.71' style='fill: rgb(246, 182, 33);'/%3E%3Cg%3E%3Cpath class='cls-21' d='M79.24,128c-16.71,0-37.79,7.36-48.93,11.68a2.39,2.39,0,0,0-1.19,3.46L33.8,151a2.38,2.38,0,0,0,2.34,1.14L69.27,148a12.74,12.74,0,0,1,1.63-.1,13.22,13.22,0,0,1,13.26,12.74l0,1.1a2.4,2.4,0,0,0,1.37,2.07l10.56,5a14.8,14.8,0,0,0,4.69.95H101L129,168.24c.28,0,.57,0,.85,0a21.23,21.23,0,0,1,14.06,5.68l27.82,27.56a4,4,0,0,0,1.26.45l6.07-.75a1.22,1.22,0,0,0,.86-1.9l-3-4.36a11.51,11.51,0,0,1,5.21-19.44l23.4-6.93a1.44,1.44,0,0,0,1-1.23l1.26-12.72v0a1.44,1.44,0,0,0-1.81-1.54c-8.26,2.21-22.73,5.72-31.63,5.72C136.65,158.74,108.72,128,79.24,128Zm32.48,27a2.77,2.77,0,0,1-1,1,3.78,3.78,0,0,1-5.23-5.23,2.77,2.77,0,0,1,1-1A3.78,3.78,0,0,1,111.72,155Zm63.76,13.39a2.62,2.62,0,0,1-1,1,3.78,3.78,0,0,1-5.23-5.23,2.77,2.77,0,0,1,1-1A3.78,3.78,0,0,1,175.48,168.36Z' style='fill: url(%23linear-gradient-25);'/%3E%3Cpath class='cls-2' d='M173.34,127.62c-37.69,0-69.59-16.73-92.46-16.73-16.08,0-43.36,12.17-55.32,21a2,2,0,0,0-.65,2.46c.35.8.82,1.84,1.26,2.82a2,2,0,0,0,2.62,1C39.07,134,61,125.9,79.24,125.9c30.45,0,58.48,27,91.13,27,14.49,0,35.75-5.69,41.3-10.16,2.42-2.52,10.36-11.93,16-17.78a2.39,2.39,0,0,0-2.32-3.94C214.49,123.51,193.73,127.62,173.34,127.62Zm-1.68,14.25a5.28,5.28,0,0,1-2.49,2.49,6.27,6.27,0,0,1-8.48-8.48,5.37,5.37,0,0,1,2.49-2.49A6.27,6.27,0,0,1,171.66,141.87Z' style='fill: rgb(246, 182, 33);'/%3E%3C/g%3E%3Cpath class='cls-1' d='M248.71,113.13,218.06,73.51a20.05,20.05,0,0,0-10-6.43L130.34,49a25.7,25.7,0,0,0-11.57.38L91.41,57.65a.05.05,0,0,1-.07,0L89.56,53a.05.05,0,0,1,0-.07l4.06-1.46a2.45,2.45,0,0,0,1-.62,2.29,2.29,0,0,0,.29-2.72l-5.29-9a2.3,2.3,0,0,0-2.67-1L50.83,49.59a2.28,2.28,0,0,0-1.59,2.27l.46,12.2a2.27,2.27,0,0,0,1,1.8,2.3,2.3,0,0,0,1.28.4,2.33,2.33,0,0,0,.78-.14l9.18-3.29a0,0,0,0,1,.06,0L63.58,66a0,0,0,0,1,0,.07L39.37,73.4a17.25,17.25,0,0,0-9.31,7.74L6.58,126.59A13.67,13.67,0,0,0,7,139l12.68,21a12.1,12.1,0,0,0,11.19,5.45l37.08-4.54a.83.83,0,0,1,.68.18.82.82,0,0,1,.28.64l.14,3.22a13.25,13.25,0,0,0,6.88,10.39l12.86,6.08a28,28,0,0,0,11.32,2.21l29.2-1.61a9.38,9.38,0,0,1,5.68,2.16L164,212.94a16,16,0,0,0,10.41,4.12,10,10,0,0,0,1.11-.06l23.93-2.46c2.77-.29,4.82-1.69,5.62-3.85s.15-4.56-1.77-6.58l-14.6-15.38a.06.06,0,0,1,0-.09l25.35-7.5a11.74,11.74,0,0,0,7.94-9.59l1.53-15.46a14.22,14.22,0,0,1,2.9-6.52l21.74-24A9.94,9.94,0,0,0,248.71,113.13ZM56.08,56.65,56,54.81a1.29,1.29,0,0,1,.88-1.29l28-9a1.28,1.28,0,0,1,1.48.57l.48.83a1.27,1.27,0,0,1-.68,1.83l-28.35,10A1.27,1.27,0,0,1,56.08,56.65Zm186.57,63.93-21.71,24a21.37,21.37,0,0,0-4.79,10.8l-1.54,15.46A4.37,4.37,0,0,1,212,174l-26.5,7.84a6.52,6.52,0,0,0-3,11.2L194,205.17a1.49,1.49,0,0,1-.93,2.5l-18.31,1.89a8.37,8.37,0,0,1-5.49-1.94l-29.06-28.8a16.74,16.74,0,0,0-10.77-4.33l-.59,0-29.21,1.61a20.07,20.07,0,0,1-7.69-1.5l-12.87-6.09a5,5,0,0,1-2.61-3.93l-.13-3.22A8.27,8.27,0,0,0,67,153.44L29.94,158a4.75,4.75,0,0,1-3.87-1.88l-12.68-21a6.38,6.38,0,0,1-.17-5.05L36.71,84.58a10.08,10.08,0,0,1,4.82-4l79.41-24a18.68,18.68,0,0,1,7.7-.25l77.7,18.09a12.72,12.72,0,0,1,5.8,3.72l30.62,39.59A2.35,2.35,0,0,1,242.65,120.58Z' style='fill: rgb(42, 54, 64);'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.loading {\n    border-radius: 100%;\n    background-color: #3650A2;\n    background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0.5 0.5 45 45' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd' transform='translate(1 1)' stroke-width='2'%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='1.5s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='1.5s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='1.5s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='6' stroke-opacity='0'%3E%3Canimate attributeName='r' begin='3s' dur='3s' values='6;22' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-opacity' begin='3s' dur='3s' values='1;0' calcMode='linear' repeatCount='indefinite' /%3E%3Canimate attributeName='stroke-width' begin='3s' dur='3s' values='2;0' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3Ccircle cx='22' cy='22' r='8'%3E%3Canimate attributeName='r' begin='0s' dur='1.5s' values='6;1;2;3;4;5;6' calcMode='linear' repeatCount='indefinite' /%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.error {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%23FC3D39'/%3E%3Cpath fill='%23fff' d='M22.3 48h25.4c2.5 0 4-1.7 4-4a4 4 0 00-.5-2L38.5 19.3a4 4 0 00-3.5-2 4 4 0 00-3.5 2L18.8 42.1c-.3.6-.5 1.3-.5 2 0 2.2 1.6 4 4 4zM35 37c-.9 0-1.4-.6-1.4-1.5l-.2-7.7c0-.9.6-1.6 1.6-1.6s1.7.7 1.7 1.6l-.3 7.7c0 1-.5 1.5-1.4 1.5zm0 6c-1 0-1.9-.8-1.9-1.8s.9-1.8 2-1.8c1 0 1.8.7 1.8 1.8 0 1-.9 1.8-1.9 1.8z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-logo.success {\n    background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 70 70'%3E%3Cdefs/%3E%3Ccircle cx='35' cy='35' r='35' fill='%233DC55D'/%3E%3Cpath fill='%23fff' d='M30.9 49.7a2 2 0 001.8-1L48 24.9c.3-.5.4-1 .4-1.4 0-1-.7-1.7-1.7-1.7-.8 0-1.2.3-1.6 1L30.8 45.4 23.5 36c-.5-.6-1-.9-1.6-.9-1 0-1.8.8-1.8 1.8 0 .4.2.9.6 1.3L29 48.7c.6.7 1.1 1 1.9 1z'/%3E%3C/svg%3E\");\n}\n\n.%prefix%-request {\n    padding: 20px;\n    border-radius: 20px;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    background: white;\n}\n\n.%prefix%-fee,\n.%prefix%-info {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-title {\n    color: #000000;\n    font-size: 25px;\n    margin-top: 14px;\n    font-weight: 700;\n    line-height: 30px;\n    letter-spacing: 0.5px;\n}\n\n.%prefix%-subtitle {\n    margin-top: 14px;\n    color: #5C5C5C;\n    text-align: center;\n    line-height: 1.4;\n    word-break: break-word;\n}\n\n.%prefix%-subtitle a {\n    color: #000000;\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n.%prefix%-actions {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.%prefix%-uri {\n    width: 100%;\n}\n\n.%prefix%-button {\n    color: #007AFF;\n    background: #EFF1F7;\n    border: 1px solid #EFF1F7;\n    text-decoration: none;\n    font-size: 17px;\n    flex-grow: 1;\n    flex: 1;\n    width: 100%;\n    line-height: 1;\n    padding: 20px 18px;\n    border-radius: 12px;\n    font-weight: 400;\n    text-align: center;\n    display: block;\n    margin-top: 21px;\n    cursor: pointer;\n}\n\n.%prefix%-button:hover {\n    border: 1px solid #007AFF;\n}\n\n.%prefix%-qr {\n    margin-top: 21px;\n}\n\n.%prefix%-qr svg {\n    width: 100%;\n    display: block;\n    shape-rendering: crispEdges;\n}\n\n.%prefix%-qr svg rect {\n    fill: black;\n}\n\n.%prefix%-footnote {\n    text-align: center;\n    width: 100%;\n    position: absolute;\n    bottom: -26px;\n    left: 0;\n    color: white;\n}\n\n.%prefix%-footnote a {\n    color: white;\n    text-decoration: underline;\n}\n\n.%prefix%-wskeepalive {\n    display: none;\n}\n\n.%prefix%-choice {\n    text-align: center;\n    width: 100%;\n    color: #666;\n}\n\n.%prefix%-choice span {\n    display: block;\n    margin-top: 1em;\n}\n\n.%prefix%-choice a:not(.%prefix%-button) {\n    display: block;\n    cursor: pointer;\n    text-decoration: underline;\n    margin-top: 1em;\n}\n\n@media (prefers-color-scheme: dark) {\n    .%prefix%-inner {\n        background: #262D43;\n        color: white;\n    }\n    .%prefix%-request {\n        background: #131B33;\n    }\n    .%prefix%-title {\n        color: #FCFCFC;\n    }\n    .%prefix%-subtitle {\n        color: #B8C0DA;\n    }\n    .%prefix%-subtitle a {\n        color: #FCFCFC;\n    }\n    .%prefix%-qr svg rect {\n        fill: white;\n    }\n    .%prefix%-version {\n        color: #546AAF;\n    }\n    .%prefix%-choice {\n        color: #888ea1;\n    }\n    .%prefix%-button {\n        color: #FCFCFC;\n        background: #262D43;\n        border: 1px solid #262D43;\n    }\n    .%prefix%-button:hover {\n        color: #FCFCFC;\n        border: 1px solid #FCFCFC;\n        background: #333A50;\n    }\n    .%prefix%-close {\n        background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M.57 12.1a.96.96 0 000 1.34c.37.36 1 .36 1.34 0L7 8.37l5.09 5.09c.36.35.97.35 1.34-.01a.96.96 0 000-1.34L8.34 7.01l5.08-5.08a.95.95 0 000-1.33.97.97 0 00-1.34-.01L6.99 5.68 1.91.59a.96.96 0 00-1.33 0 .97.97 0 00-.01 1.34l5.09 5.08-5.1 5.1z' fill='%23FCFCFC'/%3E%3C/svg%3E\");\n    }\n    .%prefix%-close:hover {\n        background-color: black;\n    }\n}\n\n@media (max-height: 600px) { .%prefix%-inner { transform: scale(0.9); } }\n@media (max-height: 540px) { .%prefix%-inner { transform: scale(0.8); } }\n@media (max-height: 480px) { .%prefix%-inner { transform: scale(0.7); } }\n@media (max-height: 420px) { .%prefix%-inner { transform: scale(0.6); } }\n@media (max-height: 360px) { .%prefix%-inner { transform: scale(0.5); } }\n@media (max-height: 300px) { .%prefix%-inner { transform: scale(0.4); } }\n\n".replace(/%prefix%/g,this.classPrefix);this.importantStyles&&(n=n.split("\n").map((function(e){return e.replace(/;$/i," !important;")})).join("\n")),this.styleEl.appendChild(document.createTextNode(n)),document.head.appendChild(this.styleEl)}if(this.containerEl||(this.containerEl=this.createEl(),this.containerEl.className=this.classPrefix,this.containerEl.onclick=function(e){e.target===t.containerEl&&(e.stopPropagation(),t.closeModal())},document.body.appendChild(this.containerEl)),!this.requestEl){var a=this.createEl({class:"inner"}),r=this.createEl({class:"close"});r.onclick=function(e){e.stopPropagation(),t.closeModal()},this.requestEl=this.createEl({class:"request"}),a.appendChild(this.requestEl),a.appendChild(r);var i=this.createEl({class:"version",text:"".concat(e.version," (").concat(ne.c.version,")")});i.onclick=function(e){e.stopPropagation(),window.open("https://github.com/greymass/anchor-link","_blank")},a.appendChild(i),this.containerEl.appendChild(a)}}},{key:"createEl",value:function(e){e||(e={});var t=document.createElement(e.tag||"div");if(e)for(var n=0,a=Object.keys(e);n<a.length;n++){var r=a[n],i=e[r];switch(r){case"src":t.setAttribute(r,i);break;case"tag":break;case"text":t.appendChild(document.createTextNode(i));break;case"class":t.className="".concat(this.classPrefix,"-").concat(i);break;default:t.setAttribute(r,i)}}return t}},{key:"hide",value:function(){this.containerEl&&this.containerEl.classList.remove("".concat(this.classPrefix,"-active")),this.clearTimers()}},{key:"show",value:function(){this.containerEl&&this.containerEl.classList.add("".concat(this.classPrefix,"-active"))}},{key:"displayRequest",value:function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,i,s,o,c,u,h,d,f,p,m,g,v,b,y,x;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setupElements(),n=t.clone(),a=Me(),n.setInfoKey("same_device",!0),n.setInfoKey("return_path",a),r=n.encode(!0,!1),i=t.encode(!0,!1),s=t.isIdentity(),o=s?"Login":"Sign","Scan the QR-code with Anchor on another device or use the button to open Anchor on this device.",c=this.createEl({class:"qr"});try{c.innerHTML=Se(i)}catch(l){console.warn("Unable to generate QR code",l)}u=this.createEl({class:"uri"}),h=this.createEl({tag:"a",class:"button",href:i,text:"Launch Anchor"}),u.appendChild(h),Ue()||_e()?(d=this.createEl({class:"wskeepalive",src:"about:blank",tag:"iframe"}),u.appendChild(d),h.addEventListener("click",(function(e){e.preventDefault(),d.setAttribute("src",r)}))):h.addEventListener("click",(function(e){e.preventDefault(),window.location.href=r})),f=this.createEl({class:"info"}),p=this.createEl({class:"title",tag:"span",text:o}),m=this.createEl({class:"subtitle",tag:"span",text:"Scan the QR-code with Anchor on another device or use the button to open Anchor on this device."}),f.appendChild(p),f.appendChild(m),(g=this.createEl({class:"actions"})).appendChild(c),g.appendChild(u),s?(v=this.createEl({class:"footnote",text:"Don't have Anchor yet? "}),b=this.createEl({tag:"a",target:"_blank",href:"https://greymass.com/anchor",text:"Download now"}),v.appendChild(b)):(v=this.createEl({class:"footnote",text:"Anchor signing is brought to you by "}),y=this.createEl({tag:"a",target:"_blank",href:"https://greymass.com",text:"Greymass"}),v.appendChild(y)),Fe(this.requestEl),x=this.createEl({class:"logo"}),this.requestEl.appendChild(x),this.requestEl.appendChild(f),this.requestEl.appendChild(g),this.requestEl.appendChild(v),this.show();case 32:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showLoading",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setupElements(),Fe(this.requestEl),t=this.createEl({class:"info"}),n=this.createEl({class:"title",tag:"span",text:"Loading"}),a=this.createEl({class:"subtitle",tag:"span",text:"Preparing request..."}),this.prepareStatusEl=a,t.appendChild(n),t.appendChild(a),r=this.createEl({class:"logo loading"}),this.requestEl.appendChild(r),this.requestEl.appendChild(t),this.show();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onRequest",value:function(e,t){this.activeRequest=e,this.activeCancel=t,this.displayRequest(e).catch(t)}},{key:"onSessionRequest",value:function(e,t,n){if(e.metadata.sameDevice&&t.setInfoKey("return_path",Me()),"fallback"===e.type)return this.onRequest(t,n),void(e.metadata.sameDevice&&(window.location.href=t.encode()));this.activeRequest=t,this.activeCancel=n,this.setupElements();var a=e.metadata.timeout||3e5,r=e.metadata.name,i=this.createEl({class:"title",tag:"span",text:"Sign"}),s=this.getExpiration(t,a),o=function(){i.textContent="Sign - ".concat(Ne(s))};this.countdownTimer=setInterval(o,200),o();var c,l=this.createEl({class:"info"});l.appendChild(i),c=r&&r.length>0?"Please open your Anchor Wallet on your device \u201c".concat(r,"\u201d to review and sign the transaction."):"Please review and sign the transaction in the linked wallet.";var u=this.createEl({class:"subtitle",tag:"span",text:c});l.appendChild(u),Fe(this.requestEl);var h=this.createEl({class:"logo"});this.requestEl.appendChild(h),this.requestEl.appendChild(l),this.show(),e.metadata.sameDevice&&(e.metadata.launchUrl?window.location.href=e.metadata.launchUrl:Ke()&&(window.location.href="anchor://link"))}},{key:"sendSessionPayload",value:function(e,t){return!(!t.metadata.triggerUrl||!t.metadata.sameDevice)&&(!(e.array.length>700)&&(window.location.href=t.metadata.triggerUrl.replace("%s",ne.b.encode(e.array)),!0))}},{key:"clearTimers",value:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=void 0),this.countdownTimer&&(clearTimeout(this.countdownTimer),this.countdownTimer=void 0)}},{key:"getExpiration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getRawTransaction(),a=n.expiration;return a.equals(0)?new Date(Date.now()+t):a.toDate()}},{key:"showFee",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r,i,s,o,c,u,h,d,f,p,m,g,v,b,y,x,k,w=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.activeRequest=t,a=new Promise((function(e,t){w.activeCancel=function(e){var n;(n="string"===typeof e?new Error(e):e)[Te]=!0,t(n)}})),this.setupElements(),Fe(this.requestEl),r=this.createEl({class:"fee"}),i=this.createEl({class:"title",tag:"div",text:"Transaction Fee"}),s=this.createEl({class:"subtitle",tag:"span",text:"Your account lacks the network resources for this transaction and it cannot be covered for free."}),o=this.createEl({tag:"span",text:"You can try to "}),c=this.createEl({tag:"a",text:"proceed without the fee"}),u=this.createEl({tag:"span",text:" or accept the fee shown below to pay for these costs."}),(h=this.createEl({class:"subtitle",tag:"span"})).appendChild(o),h.appendChild(c),h.appendChild(u),r.appendChild(i),r.appendChild(s),r.appendChild(h),d=this.createEl({class:"fuel"}),this.requestEl.appendChild(d),this.requestEl.appendChild(r),f=this.createEl({class:"choice"}),p=this.createEl({tag:"a",class:"button",text:"Accept Fee of ".concat(n)}),m=this.createEl({tag:"span",text:"Offer expires in --:--"}),f.appendChild(m),f.appendChild(p),r.appendChild(f),g=this.getExpiration(t),v=setInterval((function(){m.textContent="Offer expires in ".concat(Ne(g)),g.getTime()<Date.now()&&w.activeCancel("Offer expired")}),200),b=this.createEl({class:"footnote",text:"Resources offered by "}),y=this.createEl({tag:"a",target:"_blank",href:"https://greymass.com/en/fuel",text:"Greymass Fuel"}),b.appendChild(y),this.requestEl.appendChild(b),x=Be(c,"click").then((function(){var e=new Error("Skipped fee");throw e[Re]=!0,e})),k=Be(p,"click"),this.show(),e.next=37,Promise.race([k,x,a]).finally((function(){clearInterval(v)}));case 37:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"prepare",value:function(){var e=Object(u.a)(l.a.mark((function e(t,n){var a,r,i,s,o,c=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.showLoading(),this.fuelEnabled&&n&&!t.isIdentity()){e.next=3;break}return e.abrupt("return",t);case 3:if(!("string"===typeof n.metadata.cosignerVersion&&(l=n.metadata.cosignerVersion,Ve(l)>=Ve("fuel/2")))){e.next=5;break}return e.abrupt("return",t);case 5:return e.prev=5,a=Le(t,n,(function(e){c.prepareStatusEl&&(c.prepareStatusEl.textContent=e)}),this.supportedChains,this.fuelReferrer),r=new Promise((function(e){return setTimeout(e,5e3)})).then((function(){throw new Error("API timeout after 5000ms")})),e.next=10,Promise.race([a,r]);case 10:if(i=e.sent,!(s=i.getInfoKey("txfee"))){e.next=15;break}return e.next=15,this.showFee(i,String(s));case 15:return e.abrupt("return",i);case 18:if(e.prev=18,e.t0=e.catch(5),!e.t0[Te]){e.next=25;break}throw this.hide(),e.t0;case 25:if(console.info("Skipping resource provider: ".concat(e.t0.message||e.t0)),!e.t0[Re]){e.next=30;break}return(o=t.clone()).setInfoKey("no_fee",!0,"bool"),e.abrupt("return",o);case 30:return e.abrupt("return",t);case 31:case"end":return e.stop()}var l}),e,this,[[5,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onSuccess",value:function(e){var t=this;if(e===this.activeRequest)if(this.clearTimers(),this.requestStatus){this.setupElements();var n=this.createEl({class:"info"}),a=this.createEl({class:"logo"});a.classList.add("success");var r=this.createEl({class:"title",tag:"span",text:"Success!"}),i=e.isIdentity()?"Login completed.":"Transaction signed.",s=this.createEl({class:"subtitle",tag:"span",text:i});n.appendChild(r),n.appendChild(s),Fe(this.requestEl),this.requestEl.appendChild(a),this.requestEl.appendChild(n),this.show(),this.closeTimer=setTimeout((function(){t.hide()}),1500)}else this.hide()}},{key:"onFailure",value:function(e,t){if(e===this.activeRequest&&"E_CANCEL"!==t.code)if(this.clearTimers(),this.requestStatus){this.setupElements();var n=this.createEl({class:"info"}),a=this.createEl({class:"logo"});a.classList.add("error");var r,i=this.createEl({class:"title",tag:"span",text:"Transaction Error"});r=Object(ne.g)(t,ne.a)?"eosio_assert_message_exception"===t.name?t.details[0].message:t.details.length>0?t.details.map((function(e){return e.message})).join("\n"):t.message:t.message||String(t);var s=this.createEl({class:"subtitle",tag:"span",text:r});n.appendChild(i),n.appendChild(s),Fe(this.requestEl),this.requestEl.appendChild(a),this.requestEl.appendChild(n),this.show()}else this.hide();else this.hide()}},{key:"userAgent",value:function(){return"BrowserTransport/".concat(e.version," ").concat(navigator.userAgent)}}]),e}();function Be(e,t,n){return new Promise((function(a,r){var i=function n(r){e.removeEventListener(t,n),a(r)};e.addEventListener(t,i),n&&setTimeout((function(){e.removeEventListener(t,i),r(new Error("Timed out waiting for ".concat(t)))}),n)}))}function Ne(e){var t=e.getTime()-Date.now();return t>0?new Date(t).toISOString().substr(14,5):"00:00"}function Fe(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Me(){if(/CriOS/.test(navigator.userAgent))return"googlechrome://";if(/FxiOS/.test(navigator.userAgent))return"firefox:://";if(Ke()&&_e())return"brave://";if(Ke()){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=window.location.href.split("#")[0]+"#",n=0;n<8;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}return He()&&Ue()?"android-intent://org.mozilla.firefox":He()&&/Edg/.test(navigator.userAgent)?"android-intent://com.microsoft.emmx":He()&&(/OPR/.test(navigator.userAgent)||/Opera/.test(navigator.userAgent))?"android-intent://com.opera.browser":He()&&_e()?"android-intent://com.brave.browser":He()&&/wv/.test(navigator.userAgent)?"android-intent://webview":He()&&/Chrome\/[.0-9]* Mobile/i.test(navigator.userAgent)?"android-intent://com.android.chrome":window.location.href}function Ke(){return/iP(ad|od|hone)/i.test(navigator.userAgent)}function Ue(){return/Firefox/i.test(navigator.userAgent)}function _e(){return navigator.brave&&"function"===typeof navigator.brave.isBrave}function He(){return/Android/.test(navigator.userAgent)}De.version="3.1.3";var Xe=De,Je=n(14),Ze=n(345),Ye=n(154),Qe=n(74),We=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=(t.chain,t.session),a=t.sessions;return i.a.createElement(y.a,null,i.a.createElement(y.a.Header,null,i.a.createElement(y.a.Row,null,i.a.createElement(y.a.HeaderCell,{collapsing:!0}),i.a.createElement(y.a.HeaderCell,null,"Blockchain"),i.a.createElement(y.a.HeaderCell,null,"Account"),i.a.createElement(y.a.HeaderCell,null,"Permission"),i.a.createElement(y.a.HeaderCell,null))),a.length?i.a.createElement(y.a.Body,null,a.map((function(t){var a=n&&n.auth&&t.auth.actor.equals(n.auth.actor)&&t.auth.permission.equals(n.auth.permission)&&t.chainId.equals(n.chainId),r=Object(Ye.find)(Qe,{chainId:String(t.chainId)}),s=Object.values(t.auth).join("-");return i.a.createElement(y.a.Row,{key:s},i.a.createElement(y.a.Cell,{collapsing:!0},i.a.createElement(k.a,{color:a?"blue":"green",content:a?"In Use":"Use Account",disabled:a,onClick:function(){return e.props.setSession(t)}})),i.a.createElement(y.a.Cell,{collapsing:!0,textAlign:"center"},r.name),i.a.createElement(y.a.Cell,null,String(t.auth.actor)),i.a.createElement(y.a.Cell,null,String(t.auth.permission)),i.a.createElement(y.a.Cell,{collapsing:!0},i.a.createElement(k.a,{color:"red",icon:"trash",onClick:function(){return e.props.removeSession(t)}})))}))):i.a.createElement(y.a.Body,null,i.a.createElement(y.a.Row,{textAlign:"center"},i.a.createElement(y.a.Cell,{colSpan:"4"},"No Accounts Imported"))),i.a.createElement(y.a.Footer,{fullWidth:!0},i.a.createElement(y.a.Row,null,i.a.createElement(y.a.HeaderCell,null),i.a.createElement(y.a.HeaderCell,{colSpan:"4",textAlign:"right"},i.a.createElement(k.a,{content:"Add Account",icon:"plus circle",onClick:this.props.addAccount,primary:!0}),!!a.length&&i.a.createElement(k.a,{color:"red",content:"Logout All",icon:"trash",onClick:function(){return e.props.clearSessions()}})))))}}]),n}(r.Component),Ge=n(636),$e=n(328),et=n.n($e),tt=n(205),nt=n.n(tt),at=n(206),rt=n.n(at),it=n(329),st=n.n(it),ot=n(330),ct=n.n(ot),lt=n(331),ut=n.n(lt),ht={"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c":nt.a,cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f:et.a,b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e:nt.a,e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473:rt.a,"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840":rt.a,"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd":st.a,"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f":ct.a,f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12:ut.a},dt=Qe.map((function(e){return{key:e.chainId,text:e.name,value:e.chainId,image:{avatar:!0,src:ht[e.chainId]}}})),ft=(r.Component,n(633)),pt=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.session;return i.a.createElement(m.a,{fluid:!0},i.a.createElement(v.a,{secondary:!0,style:{height:"100vh"}},i.a.createElement(m.a,null,i.a.createElement(v.a,{basic:!0,padded:!0,secondary:!0,size:"large"},i.a.createElement(g.a,{size:"large"},"EOS Demo Application",i.a.createElement(g.a.Subheader,null,"Simple app to illustrate Anchor features and integrations.")),t?i.a.createElement(v.a,{attached:"top",textAlign:"center"},i.a.createElement("p",null,"You are currently signed in as"," ",i.a.createElement("a",{href:"https://bloks.io/account/".concat(String(t.auth.actor))},String(t.auth.actor)),"."),i.a.createElement(k.a,{basic:!0,content:"Sign out",icon:"log out",onClick:function(){return e.props.removeSession(t.auth,t.chainId)}})):i.a.createElement(v.a,{textAlign:"center"},i.a.createElement("p",null,"To get started, please sign in with an EOS account!"),i.a.createElement(k.a,{content:"Sign in",onClick:this.props.addAccount,icon:"user outline",primary:!0})),!!t&&i.a.createElement(v.a,{attached:"bottom",padded:!0},i.a.createElement("p",null,"Sample form to send EOS tokens (will NOT actually send)"),i.a.createElement(ft.a,null,i.a.createElement(ft.a.Field,null,i.a.createElement("label",null,"To:"),i.a.createElement(ft.a.Input,{disabled:!0,value:"teamgreymass"})),i.a.createElement(ft.a.Field,null,i.a.createElement("label",null,"Amount:"),i.a.createElement(ft.a.Input,{disabled:!0,value:"0.0001"})),i.a.createElement(ft.a.Field,null,i.a.createElement("label",null,"Memo:"),i.a.createElement(ft.a.Input,{disabled:!0}))),i.a.createElement(k.a,{centered:!0,content:"Transfer Tokens",onClick:this.props.signTransaction,primary:!0,size:"large",style:{marginTop:"1em"}}))))))}}]),n}(r.Component),mt=n(632),gt=n(637),vt=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"button2",value:function(){window.location="esr:AwAAAwngdBFc2tA0AAI7aHR0cHM6Ly9jYi5hbmNob3IubGluay9lZGE5OGU2Mi1lNzdmLTQzMjMtYmJhNy0wYjAwNGQ0ZDM0YWYDBGxpbmsqCeB0EVza0DQAA8zPgeqlfIcW5YTDmGtxOmIvthVeViYz75zoCmjKVYhPBXNjb3BlGmFuY2hvci1saW5rLWRlbW8tbXVsdGlwYXNzCWNoYWluX2lkc80BCQABAAwBzwV7v7cmQEcf2RC8tnY5wi35-SRwk2zdwa3g4vLn3E8BsgkBOAr0TvWcWRhDmh-aQdg2aQIDGagFdLgEpflcvX4AAwEqAqAFPlqM9zpWug_aEeTZLgI4pKKqdPzPRtWpEHRoQAFx7oO89SFC1hAZ2V-cxUJ7pqDX_4rM2eIIiuKr6vPT3QEeqggkcHyMFr0lFFSTvwYq7N3-tWxzb2umOX8xlfM8nwHxaxgzx0fENoL0OG_KnLsyeSkzSnYnVevsF_byPJuKEg"}},{key:"render",value:function(){var e=this,t=this.props.session;return i.a.createElement(m.a,{fluid:!0},i.a.createElement(v.a,{secondary:!0,style:{height:"100vh"}},i.a.createElement(m.a,null,i.a.createElement(v.a,{basic:!0,padded:!0,secondary:!0,size:"large"},i.a.createElement(g.a,{size:"large"},"EOS URI Triggering Demo",i.a.createElement(g.a.Subheader,null,"Simple app to illustrate different ways to trigger URIs.")),t?i.a.createElement(v.a,{attached:"top",textAlign:"center"},i.a.createElement("p",null,"You are currently signed in as"," ",i.a.createElement("a",{href:"https://bloks.io/account/".concat(String(t.auth.actor))},String(t.auth.actor)),"."),i.a.createElement(k.a,{basic:!0,content:"Sign out",icon:"log out",onClick:function(){return e.props.removeSession(t)}}),i.a.createElement(mt.a,null),i.a.createElement(k.a,{color:"purple",content:"Sample Transaction, Vote for Greymass!",icon:"pencil",onClick:function(){return e.props.signTransaction()}})):i.a.createElement(v.a,{textAlign:"center"},i.a.createElement("p",null,"To get started, please sign in with an EOS account!"),i.a.createElement(gt.a,null,i.a.createElement(gt.a.Item,null,i.a.createElement(k.a,{content:"Sign in",onClick:this.props.addAccount,icon:"user outline",primary:!0}))))))))}}]),n}(r.Component),bt=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.error;return i.a.createElement(v.a,{color:"red",size:"large"},i.a.createElement(g.a,{size:"large"},"Error while processing request"),e.message)}}]),n}(r.Component),yt=n(210),xt=n.n(yt),kt=n(125),wt=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).testResponse=function(){var t=e.props.response;return[{name:"Signatures returned by signer",desc:"The signer has returned signatures in its response.",test:function(e){return!!(e.signatures&&e.signatures.length>=1)},data:function(e){return JSON.stringify(e.signatures)}},{name:"Unserialized transaction returned by signer",desc:"The signer has returned an unserialized transaction in its response.",test:function(e){return!!e.transaction},data:function(e){return JSON.stringify(e.transaction)}},{name:"Serialized transaction returned by signer",desc:"The signer has returned a serialized transaction in its response.",test:function(e){return!!e.serializedTransaction},data:function(e){return JSON.stringify(e.serializedTransaction)}},{name:"Serialized transaction successfully deserialized",desc:"The serialized transaction the signer returned can be successfully deserialized.",test:function(e){},data:function(e){}}].map((function(e){return Object(A.a)(Object(A.a)({},e),{},{res:e.test(t),val:e.data(t)})}))},e.deserialize=function(e){},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.response,t=this.testResponse();return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,{style:{overflowX:"scroll"}},i.a.createElement(gt.a,{divided:!0,relaxed:!0},t.map((function(e){return i.a.createElement(gt.a.Item,null,i.a.createElement(gt.a.Icon,{color:e.res?"green":"red",name:e.res?"checkmark":"x",size:"large",verticalAlign:"top"}),i.a.createElement(gt.a.Content,null,i.a.createElement(gt.a.Header,null,e.name),i.a.createElement(gt.a.Description,null,e.desc),i.a.createElement(gt.a.Content,{style:{margin:"0.5em 0"}},i.a.createElement("code",null,e.val))))})))),i.a.createElement(v.a,{style:{background:"rgb(39, 40, 34)"}},i.a.createElement(g.a,{dividing:!0,size:"large",style:{borderBottom:"1px solid white",color:"white"}},"Callback Payload"),i.a.createElement(kt.a,{text:"console.log(response.payload);",language:"javascript",showLineNumbers:!1,theme:kt.b,wrapLines:!0}),i.a.createElement(xt.a,{displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,iconStyle:"square",name:null,src:e.payload,style:{background:"rgb(39, 40, 34)",marginTop:"1em",overflow:"scroll"},theme:"harmonic"})),i.a.createElement(v.a,{style:{background:"rgb(39, 40, 34)"}},i.a.createElement(g.a,{dividing:!0,size:"large",style:{borderBottom:"1px solid white",color:"white"}},"Signer"),i.a.createElement(kt.a,{text:"console.log(response.signer);",language:"javascript",showLineNumbers:!1,theme:kt.b,wrapLines:!0}),i.a.createElement(xt.a,{displayDataTypes:!1,displayObjectSize:!1,enableClipboard:!1,iconStyle:"square",name:null,src:e.signer,style:{background:"rgb(39, 40, 34)",marginTop:"1em",overflow:"scroll"},theme:"harmonic"})))}}]),n}(r.Component),Et=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(h.a)(this,n),(a=t.call(this,e)).refreshAccount=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.link.client,n=a.state.session.auth.actor,e.next=4,t.v1.chain.get_account(n);case 4:r=e.sent,a.setState({account:r});case 6:case"end":return e.stop()}}),e)}))),a.verifyProof=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,i,s,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Qe.map((function(e){return e.chainId})),r=Ze.a.from(t.proof),n.find((function(e){return j.a.from(e).equals(r.chainId)}))){e.next=5;break}throw new Error("Unsupported chain supplied in identity proof");case 5:return e.prev=5,e.next=8,a.link.client.v1.chain.get_account(r.signer.actor);case 8:i=e.sent,e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(5),!(e.t0 instanceof Je.d&&0===e.t0.code)){e.next=17;break}throw new Error("No such account",401);case 17:throw e.t0;case 18:if(s=i.getPermission(r.signer.permission).required_auth,o=r.verify(s,i.head_block_time)){e.next=22;break}throw new Error("Proof invalid or expired",401);case 22:return c=r.recover(),e.abrupt("return",{account:i,proof:r,proofKey:c,proofValid:o});case 24:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),a.addAccount=Object(u.a)(l.a.mark((function e(){var t,n,r,i,s,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.link.login("anchor-link-demo-multipass");case 2:return t=e.sent,e.next=5,a.verifyProof(t);case 5:return n=e.sent,r=n.account,i=n.proof,s=n.proofKey,o=n.proofValid,e.next=12,a.link.listSessions("anchor-link-demo-multipass");case 12:c=e.sent,a.setState({account:r,error:void 0,response:void 0,proof:i,proofKey:String(s),proofValid:o,session:t.session,sessions:c});case 14:case"end":return e.stop()}}),e)}))),a.toSimpleObject=function(e){return JSON.parse(JSON.stringify(e))},a.establishLink=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.link=new ee({chains:Qe.map((function(e){return{chainId:e.chainId,nodeUrl:"".concat(e.rpcEndpoints[0].protocol,"://").concat(e.rpcEndpoints[0].host,":").concat(e.rpcEndpoints[0].port)}})),transport:new Xe({})}),e.next=3,a.link.restoreSession("anchor-link-demo-multipass");case 3:return t=e.sent,e.next=6,a.link.listSessions("anchor-link-demo-multipass");case 6:return n=e.sent,a.setState({error:void 0,session:t,sessions:n},(function(){t&&a.refreshAccount()})),e.abrupt("return",a.link);case 9:case"end":return e.stop()}}),e)}))),a.signTransaction=Object(u.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.session,e.prev=1,a.setState({response:void 0}),n={authorization:[{actor:String(t.auth.actor),permission:String(t.auth.permission)}],account:"eosio",name:"voteproducer",data:{voter:String(t.auth.actor),producers:["teamgreymass"],proxy:""}},e.next=6,t.transact({actions:[n]},{broadcast:!1});case 6:r=e.sent,a.setState({error:void 0,response:r}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),a.setState({error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),a.setChainId=function(e,t){var n=t.value;return a.setState({chainId:n,error:void 0,response:void 0},(function(){var e=new URLSearchParams(window.location.search);e.set("chainId",n),window.history.pushState(null,null,"?".concat(e.toString()))}))},a.setSession=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.link.restoreSession("anchor-link-demo-multipass",t.auth,t.chainId);case 2:n=e.sent,a.setState({error:void 0,response:void 0,session:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.removeSession=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.link.removeSession("anchor-link-demo-multipass",t.auth,t.chainId);case 2:n=a.state,r=n.session,i=n.sessions,r&&r.auth.actor.equals(t.auth.actor)&&r.auth.permission.equals(t.auth.permission)&&a.setState({session:void 0}),a.setState({sessions:i.filter((function(e){return!(e.auth.actor.equals(t.auth.actor)&&e.auth.permission.equals(t.auth.permission))}))});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.clearSessions=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.link.clearSessions("anchor-link-demo-multipass");case 2:a.setState({session:void 0,sessions:[]});case 3:case"end":return e.stop()}}),e)})));var r=window.location.search,i=new URLSearchParams(r),s=i.get("chainId")||"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840",o=!!i.get("demo"),c=!!i.get("demo2");return a.state={account:{},demoMode:o,demo2Mode:c,error:void 0,response:void 0,session:void 0,sessions:[],chainId:s},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.establishLink()}},{key:"componentDidUpdate",value:function(e,t){this.state.chainId!==t.chainId&&this.establishLink(),this.state.session&&t.session&&!t.session.auth.actor.equals(this.state.session.auth.actor)&&this.refreshAccount()}},{key:"render",value:function(){var e=this.state,t=e.account,n=e.chainId,a=e.demoMode,r=e.demo2Mode,s=e.error,o=e.proof,c=e.proofKey,l=e.proofValid,u=e.session,h=e.sessions,d=e.response,f=Object(Ye.find)(Qe,{chainId:n});return a?i.a.createElement(pt,{addAccount:this.addAccount,chain:f,loggedIn:!u,session:u,sessions:h,setSession:this.setSession,signTransaction:this.signTransaction,removeSession:this.removeSession}):r?i.a.createElement(vt,{addAccount:this.addAccount,chain:f,loggedIn:!u,session:u,sessions:h,setSession:this.setSession,signTransaction:this.signTransaction,removeSession:this.removeSession}):i.a.createElement(m.a,{style:{paddingTop:"2em"}},i.a.createElement(g.a,{attached:"top",block:!0,size:"huge"},"anchor-link-demo-multipass",i.a.createElement(g.a.Subheader,null,i.a.createElement("p",null,"An anchor-link demo that allows multiple persistent logins from different blockchains and accounts."),i.a.createElement("p",null,"Source code: ",i.a.createElement("a",{href:"https://github.com/greymass/anchor-link-demo-multipass"},"https://github.com/greymass/anchor-link-demo-multipass")))),i.a.createElement(v.a,{attached:!0,padded:!0},i.a.createElement(g.a,null,"Available Accounts"),i.a.createElement(We,{addAccount:this.addAccount,clearSessions:this.clearSessions,chain:f,session:u,sessions:h,setSession:this.setSession,removeSession:this.removeSession}),!!c&&i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{attached:"top",content:"The information below verifies the users identity. If you need it for future use, save it within your application. It is only available immediately after sign in.",header:"Account Successfully Authenticated",success:!0}),i.a.createElement(y.a,{definition:!0,attached:"bottom",size:"small"},i.a.createElement(y.a.Row,null,i.a.createElement(y.a.Cell,null,"Valid"),i.a.createElement(y.a.Cell,null,l?i.a.createElement(x.a,{color:"green",content:"True"}):i.a.createElement(x.a,{color:"orange",content:"False"}))),i.a.createElement(y.a.Row,null,i.a.createElement(y.a.Cell,null,"Chain ID"),i.a.createElement(y.a.Cell,null,String(o.chainId))),i.a.createElement(y.a.Row,null,i.a.createElement(y.a.Cell,null,"Permission"),i.a.createElement(y.a.Cell,null,String(o.signer))),i.a.createElement(y.a.Row,null,i.a.createElement(y.a.Cell,null,"Signature"),i.a.createElement(y.a.Cell,null,String(o.signature))),i.a.createElement(y.a.Row,null,i.a.createElement(y.a.Cell,null,"Public Key"),i.a.createElement(y.a.Cell,null,c)),i.a.createElement(y.a.Row,null,i.a.createElement(y.a.Cell,null,"Proof Valid Until"),i.a.createElement(y.a.Cell,null,String(o.expiration)))))),i.a.createElement(v.a,{attached:!0,padded:!0},i.a.createElement(g.a,null,"Account Data",i.a.createElement(g.a.Subheader,null,"Example rendering data from API client call")),t&&t.cpu_limit?i.a.createElement("p",null,"CPU: ",String(t.cpu_limit.available),"\u03bcs / ",String(t.cpu_limit.max),"\u03bcs"):i.a.createElement("p",null,"Account not loaded.")),i.a.createElement(v.a,{attached:!0,padded:!0,textAlign:"center"},i.a.createElement(g.a,null,"Transact with anchor-link"),i.a.createElement(k.a,{content:"Sign Test Transaction",disabled:!u,icon:"external",onClick:this.signTransaction,primary:!0,size:"huge"}),!u&&i.a.createElement("p",{style:{marginTop:"0.5em"}},"Login using anchor-link to sign a test transaction.")),i.a.createElement(v.a,{attached:"bottom",padded:!0},!!s&&i.a.createElement(bt,{error:s}),!!d&&i.a.createElement(wt,{response:d})))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e){e.exports=JSON.parse('[{"chainId":"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906","name":"EOS","rpcEndpoints":[{"protocol":"https","host":"eos.greymass.com","port":443}]},{"chainId":"21dcae42c0182200e93f954a074011f9048a7624c6fe81d3c9541a614a88bd1c","name":"FIO","rpcEndpoints":[{"protocol":"https","host":"fio.greymass.com","port":443}]},{"chainId":"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f","name":"Block.one (Testnet)","rpcEndpoints":[{"protocol":"https","host":"api.testnet.eos.io","port":443}]},{"chainId":"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e","name":"FIO (Testnet)","rpcEndpoints":[{"protocol":"https","host":"fiotestnet.greymass.com","port":443}]},{"chainId":"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473","name":"Jungle 2 (Testnet)","rpcEndpoints":[{"protocol":"https","host":"jungle.greymass.com","port":443}]},{"chainId":"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840","name":"Jungle 3 (Testnet)","rpcEndpoints":[{"protocol":"https","host":"jungle3.greymass.com","port":443}]},{"chainId":"71ee83bcf52142d61019d95f9cc5427ba6a0d7ff8accd9e2088ae2abeaf3d3dd","name":"Proton (Testnet)","rpcEndpoints":[{"protocol":"https","host":"protontestnet.greymass.com","port":443}]},{"chainId":"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f","name":"Telos (Testnet)","rpcEndpoints":[{"protocol":"https","host":"testnet.eos.miami","port":443}]},{"chainId":"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12","name":"WAX (Testnet)","rpcEndpoints":[{"protocol":"https","host":"waxtestnet.greymass.com","port":443}]}]')}},[[358,152,153]]]);
//# sourceMappingURL=main.07d5fb9f.chunk.js.map